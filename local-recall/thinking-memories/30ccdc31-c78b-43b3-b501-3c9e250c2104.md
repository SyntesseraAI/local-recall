---
id: 30ccdc31-c78b-43b3-b501-3c9e250c2104
subject: >-
  The user wants to simplify the subject generation by removing dependency on a
  text rank npm package...
applies_to: global
occurred_at: '2025-11-29T21:45:09.325Z'
content_hash: 4784af8f0740847c
---
The user wants to simplify the subject generation by removing dependency on a text rank npm package and instead just taking text up to the first period, or all text if no period exists. Let me look at the `generateSubject` function and see what it currently does, and also check if there's a text rank package being used.

Looking at the code I read earlier, the `generateSubject` function is in `transcript.ts`:

```typescript
function generateSubject(content: string): string {
  // Take first sentence or first 100 chars, whichever is shorter
  const firstLine = content.split(/\n/)[0] ?? content;
  const firstSentence = firstLine.split(/[.!?]/)[0]?.trim() ?? firstLine;
  const truncated =
    firstSentence.length > 100 ? firstSentence.slice(0, 97) + '...' : firstSentence;

  return truncated;
}
```

This doesn't seem to use any text rank package directly. But the user mentioned "summarise" - maybe there's another function or file that handles summarization. Let me check the markdown.ts file since that has `extractKeywordsFromText`.
