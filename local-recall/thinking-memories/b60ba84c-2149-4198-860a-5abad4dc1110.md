---
id: b60ba84c-2149-4198-860a-5abad4dc1110
subject: >-
  Now let me rewrite the `analyzeForMemories` function with smarter patterns.
  I'll organize it into...
applies_to: global
occurred_at: '2025-11-29T21:13:08.342Z'
content_hash: 478008f800720d6d
---
Now let me rewrite the `analyzeForMemories` function with smarter patterns. I'll organize it into two categories:

1. **User-triggered** (higher priority) - When the user explicitly asks to remember something
2. **Auto-detected** (lower priority) - Smart heuristics for valuable content

For user-triggered, I'll look for patterns in **user** messages like:
- "remember this/that"
- "save this/that"
- "don't forget"
- "note this"
- "keep track of"
- "for future reference"
- "make a note"

When triggered, I'll capture the context around it and/or the assistant's response.

For auto-detection in **assistant** messages:
- Architectural decisions: "we're using", "the architecture", "chose X because", "this project uses"
- Bug root causes: "the bug was", "root cause", "the issue was caused by", "this fails because"
- How things work: "this works by", "the way this works", "the flow is"
- Important discoveries: "I found that", "discovered that", "turns out"

Let me implement this now.
