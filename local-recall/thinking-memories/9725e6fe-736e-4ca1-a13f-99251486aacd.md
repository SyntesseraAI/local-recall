---
id: 9725e6fe-736e-4ca1-a13f-99251486aacd
subject: >-
  The error is happening in the thinking hook. The `ThinkingSearchEngine` is
  being initialized and...
applies_to: global
occurred_at: '2025-12-02T22:14:14.015Z'
content_hash: 72b813aa8b0fd8f1
---
The error is happening in the thinking hook. The `ThinkingSearchEngine` is being initialized and probably trying to use the thinking vector store. The mutex error is happening at the C++ level in either `better-sqlite3` or `sqlite-vec`.

Let me check the thinking-vector-store.ts to understand the initialization and see if there's a potential race condition or issue with how the database is being accessed.
