---
id: 3eb0da0f-8e1b-454d-85c0-4e750cc9ef00
subject: Memory deduplication uses occurred_at and content_hash fields
keywords:
  - deduplication
  - occurred_at
  - content_hash
  - duplicate detection
  - idempotent
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-01T16:08:34.913Z'
content_hash: 24381f9f3a914fda
---
The memory system prevents duplicates by checking both the `occurred_at` timestamp and `content_hash` (SHA-256 prefix) fields. The `findDuplicate()` method searches existing memories for matching pairs. This allows the system to be idempotent - creating the same memory multiple times returns the existing one instead of creating duplicates.
