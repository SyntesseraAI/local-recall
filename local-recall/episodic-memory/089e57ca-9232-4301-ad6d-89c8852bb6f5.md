---
id: 089e57ca-9232-4301-ad6d-89c8852bb6f5
subject: Thinking memory extraction requires multi-line content filtering
keywords:
  - thinking
  - memory extraction
  - filtering
  - multi-line
  - content analysis
applies_to: global
occurred_at: '2025-12-21T18:28:38.979Z'
content_hash: 69aadcf73d5bdc65
---
The `analyzeForMemories` function in `src/utils/transcript.ts` only extracts memories from messages with content longer than 2 lines. This filtering:

- Prevents trivial or single-line content from becoming memories
- Reduces noise in the memory store
- Is intentional behavior, not a bug

When extracting thinking memories, ensure the output text that follows the thinking is multi-line, otherwise it won't be saved as a memory despite having thinking content.
