---
id: 206c78c0-32fe-4ee5-8231-a9940e7baaa0
subject: >-
  SessionStart hook loads all memories from disk without vector store
  initialization for speed
keywords:
  - session-start-hook
  - memory-loading
  - performance-optimization
  - lazy-initialization
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-02T17:51:47.097Z'
content_hash: 93f5222cd8284a55
---
The SessionStart hook is optimized for speed by doing a full reload of memories from disk via `MemoryManager.listMemories()` and returning the 5 most recent memories sorted by `occurred_at`. Importantly, it does NOT use the vector store to avoid slow initialization on every session start. This is a design trade-off: full reload is fast because it avoids embedding generation, but it means SessionStart only returns recency-based results. The UserPromptSubmit hook handles semantic search separately with lazy vector store initialization.
