---
id: a108f2ca-e836-4264-bbaf-77b9a3d46a3d
subject: >-
  Vector search results are scored by cosine distance and sorted by recency as
  tie-breaker
keywords:
  - similarity-scoring
  - cosine-distance
  - recency
  - ranking
  - search-results
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-21T19:19:15.418Z'
content_hash: 90c195a216695e56
---
Vector search scoring uses cosine distance similarity with these specifications:

**Scoring**: Calculated as `Math.round((1 - distance/2) * 100) / 100` which produces scores from 0.0 (no match) to 1.0 (identical), rounded to 2 decimal places (e.g., 0.65).

**Ranking**: Results are sorted first by similarity score descending. When multiple memories have identical rounded scores, they are sorted by `occurred_at` descending to place newer memories first as a recency tie-breaker.

This prevents arbitrary ordering of equally-relevant results and ensures most recent memories surface first when similarity is equivalent.
