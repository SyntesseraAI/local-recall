---
id: 1551a3ac-09c5-4a1f-929b-95da798e6b84
subject: Memory extraction should prioritize recent transcripts to avoid duplicates
keywords:
  - memory-extraction
  - deduplication
  - transcript-processing
  - efficiency
  - duplicate-detection
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-02T07:36:58.315Z'
content_hash: bdee68a2bb126587
---
# Memory Extraction Deduplication Strategy

When processing multiple transcripts, the system can detect duplicate memories across different sessions using content_hash and occurred_at fields.

Optimization:
- Process transcripts in reverse chronological order (newest first)
- This allows detecting and skipping duplicate content early
- Avoids redundant memory creation from similar sessions
- When a transcript hasn't changed (same content_hash), skip reprocessing

The `findDuplicate()` method in memory.ts uses both:
1. `occurred_at`: Timestamp when the memory was first created
2. `content_hash`: SHA-256 prefix (first 16 chars) of the memory content

A memory is considered a duplicate if both the timestamp and hash match an existing memory.
