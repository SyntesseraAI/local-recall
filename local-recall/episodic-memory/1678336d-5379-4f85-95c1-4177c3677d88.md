---
id: 1678336d-5379-4f85-95c1-4177c3677d88
subject: Memory extraction uses Claude API with streaming and condensed transcripts
keywords:
  - memory extraction
  - claude api
  - streaming
  - transcript condensing
  - haiku model
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-02T07:04:15.999Z'
content_hash: 09aaaa2944de4a21
---
The memory extractor in `src/core/memory-extractor.ts` uses the Claude API (via `@anthropic-ai/sdk`) with streaming enabled to extract memories from condensed transcripts. The system condenses transcripts before sending them to Claude to reduce token usage. Uses `claude-3-5-haiku-20241022` model for memory extraction. The extraction process is triggered by the MCP server daemon and uses a structured prompt system with system, user, and assistant messages.
