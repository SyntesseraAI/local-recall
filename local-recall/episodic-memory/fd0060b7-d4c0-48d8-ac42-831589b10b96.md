---
id: fd0060b7-d4c0-48d8-ac42-831589b10b96
subject: IndexManager.getIndex() always ensures .gitignore exists for local-recall
keywords:
  - gitignore
  - index
  - session-start
  - initialization
  - index-manager
applies_to: 'file:src/core/index.ts'
occurred_at: '2025-12-21T19:00:53.999Z'
content_hash: 9a0cc63ad8a0df2f
---
The `IndexManager.getIndex()` method now calls `ensureGitignore()` before returning the index. This ensures that on every session start, the `.gitignore` file is created/maintained in the local-recall folder if it doesn't exist. This is important because the session-start hook calls `searchEngine.getRelevantForSession()` which triggers `indexManager.getIndex()`, making it an ideal place to guarantee the .gitignore is present.

The `.gitignore` file excludes:
- `recall.log` (debug log file)
- `orama-*-index.json` (Orama vector index files that are auto-generated)

This prevents binary index files from being committed to git while keeping the memory files themselves tracked.
