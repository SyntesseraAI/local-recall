---
id: dde8b6df-6d6a-4cff-8e16-25a17bb00b32
subject: >-
  Memory extraction uses Claude Haiku with structured prompt for consistent
  extraction
keywords:
  - memory-extractor
  - claude-haiku
  - prompt-engineering
  - extraction-pipeline
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T06:20:05.696Z'
content_hash: 3ab079d8ec90e9e3
---
The memory extraction system uses Claude Haiku (`claude-3-5-haiku-20241022`) with a structured prompt template to extract memories from transcripts. The extractor is configured to:

1. Use `memory-extraction.ts` which contains the extraction prompt
2. Process transcripts through the Haiku model
3. Return structured JSON with memory objects
4. Each memory includes id, subject, keywords, applies_to scope, occurred_at timestamp, and content_hash

The extraction happens asynchronously and is called from the MCP server's background daemon. This ensures consistent, high-quality memory extraction across sessions.
