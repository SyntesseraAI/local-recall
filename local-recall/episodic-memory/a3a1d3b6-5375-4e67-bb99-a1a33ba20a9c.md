---
id: a3a1d3b6-5375-4e67-bb99-a1a33ba20a9c
subject: Hooks now work directly without daemon HTTP communication
keywords:
  - hooks
  - architecture
  - daemon
  - direct-search
applies_to: global
occurred_at: '2025-12-21T19:31:18.593Z'
content_hash: 6ae052c30256b2bb
---
# Simplified Hook Architecture

Previously, Claude Code hooks communicated with a background daemon via HTTP. The architecture has been simplified.

## Changes
- **Removed**: `http-server.ts` (HTTP daemon endpoints)
- **Removed**: `daemon-client.ts` (HTTP client from hooks)
- **Removed**: `database.ts` (shared SQLite database)
- **New behavior**: Hooks use Orama directly for vector search without inter-process communication

## Benefits
- Reduced complexity
- No mutex or process isolation issues
- Hooks execute faster without network overhead
- Pure JavaScript implementation with no native dependencies
