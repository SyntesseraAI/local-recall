---
id: 77883c9d-1ccd-441c-a0b5-651da30f5107
subject: Memory deduplication uses occurred_at timestamp and content_hash
keywords:
  - deduplication
  - idempotent
  - content-hash
  - occurred-at
applies_to: 'area:memory-management'
occurred_at: '2025-12-02T21:13:14.069Z'
content_hash: 25d74c8630ac0ca0
---
Memory creation is idempotent - `createMemory()` returns existing memory if duplicate detected. Deduplication uses two factors:
1. `occurred_at`: ISO-8601 timestamp of original event
2. `content_hash`: SHA-256 hash prefix (16 chars) of memory content

The `findDuplicate(occurredAt, contentHash)` method checks for existing duplicates before creation. This prevents redundant memories while allowing similar memories from different times.
