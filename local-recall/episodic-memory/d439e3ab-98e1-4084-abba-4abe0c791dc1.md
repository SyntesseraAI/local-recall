---
id: d439e3ab-98e1-4084-abba-4abe0c791dc1
subject: Orama vector store corruption causes search failures and invalid JSON
keywords:
  - orama
  - vector-store
  - corruption
  - json-parse
  - index-rebuild
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-21T19:40:43.728Z'
content_hash: ca03811aabc12dfd
---
The Orama index files can become corrupted during concurrent writes, leading to:

- JSON parse errors when loading `orama-*-index.json` files
- Invalid file state with partial writes
- Search failures that propagate to hooks
- Need for automatic index rebuilding/recovery

Solution implemented: VectorStore.initialize() now catches parse errors and automatically rebuilds the index from scratch if it's corrupted. This provides graceful recovery from concurrent write issues.

Key implementation: Try to load existing index, catch JSON.parse errors, fall back to create new empty index if corrupted.
