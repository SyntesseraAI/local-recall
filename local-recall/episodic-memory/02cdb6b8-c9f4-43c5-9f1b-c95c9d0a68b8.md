---
id: 02cdb6b8-c9f4-43c5-9f1b-c95c9d0a68b8
subject: >-
  Claude Code integration via three hooks: SessionStart (load recent memories),
  UserPromptSubmit (semantic search), Stop (extract memories from transcripts)
keywords:
  - claude-code
  - hooks
  - integration
  - session-start
  - user-prompt-submit
applies_to: global
occurred_at: '2025-12-02T22:01:41.097Z'
content_hash: 2101ff947aabc0ee
---
Three hooks execute as shell commands receiving JSON via stdin:

1. **SessionStart**: Returns 5 most recent memories (sorted by `occurred_at`) loaded from disk
2. **UserPromptSubmit**: Performs semantic search using vector embeddings on user prompt
3. **Stop**: Currently disabled - memory extraction handled by MCP server daemon every 5 minutes

Hooks output memories to stdout, injected into Claude's context. Configuration in `.claude/settings.json` hooks.json.
