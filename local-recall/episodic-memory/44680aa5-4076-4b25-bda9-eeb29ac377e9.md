---
id: 44680aa5-4076-4b25-bda9-eeb29ac377e9
subject: Memory extractor uses Zod schema validation for parsed responses
keywords:
  - zod validation
  - memory schema
  - parsing
  - memory extractor
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-21T19:42:59.391Z'
content_hash: a14faba80c31a536
---
The memory extractor validates Claude responses using a Zod schema defined in src/prompts/memory-extraction.ts. The expected format is { memories: Memory[] } where each Memory object must have: subject, keywords (array), applies_to, content. The parseClaudeResponse function (line 174+) handles multiple response formats and applies schema validation before returning memories.
