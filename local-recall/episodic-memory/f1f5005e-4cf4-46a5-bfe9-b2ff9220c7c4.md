---
id: f1f5005e-4cf4-46a5-bfe9-b2ff9220c7c4
subject: Memory deduplication uses occurred_at and content_hash
keywords:
  - deduplication
  - duplicates
  - content-hash
  - idempotent
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-02T12:00:53.845Z'
content_hash: 230d1cf557841c0b
---
Memory manager prevents duplicates by checking occurred_at timestamp and SHA-256 content_hash prefix. createMemory returns existing memory if duplicate detected via findDuplicate(occurredAt, contentHash). This makes create operations idempotent.
