---
id: 7e59aa45-c21a-4721-9907-eab54dc540df
subject: >-
  Session transcript input includes session_id, transcript_path, cwd, and
  optional prompt fields
keywords:
  - session
  - input
  - json
  - stdin
  - hooks
  - transcript-path
  - cwd
applies_to: 'area:hooks'
occurred_at: '2025-12-02T21:32:54.298Z'
content_hash: c2d3aeb4fc8eb94e
---
# Session Hook Input Format

When Claude Code hooks are triggered, they receive JSON input via stdin with these standard fields:

## Standard Fields

- `session_id`: Unique identifier for the current Claude Code session
- `transcript_path`: Absolute path to the session's transcript file
- `cwd`: Current working directory where Claude Code was launched
- `prompt`: (Optional) The user's prompt text (only in UserPromptSubmit hook)

## Hook-Specific Usage

### SessionStart Hook
- Receives: `session_id`, `transcript_path`, `cwd`
- Purpose: Load and inject recent memories at session start
- Should return most recent 5 memories via stdout

### UserPromptSubmit Hook
- Receives: `session_id`, `transcript_path`, `cwd`, `prompt`
- Purpose: Perform semantic search based on user query
- Should return relevant memories via stdout

## Implementation Notes

- All hooks must read from stdin and parse JSON
- Paths are absolute and relative to the user's system
- The `transcript_path` is provided but transcripts are asynchronously processed by the MCP daemon
- Error handling should gracefully fail without crashing Claude Code
