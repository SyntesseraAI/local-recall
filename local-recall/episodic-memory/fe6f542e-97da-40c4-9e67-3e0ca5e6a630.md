---
id: fe6f542e-97da-40c4-9e67-3e0ca5e6a630
subject: Local Recall project structure and plugin architecture
keywords:
  - project-structure
  - plugin-architecture
  - hooks
  - mcp-server
  - memory-storage
applies_to: global
occurred_at: '2025-12-01T16:12:27.294Z'
content_hash: 7ea77c231c731c1a
---
# Local Recall Project Structure

The local-recall project follows this structure:

## Root Structure
- The project root IS the plugin root
- Uses `.claude-plugin/plugin.json` for plugin metadata
- Uses `hooks.json` for hook configuration
- Uses `.mcp.json` for MCP server configuration

## Source Code (`src/`)
- `core/` - Core memory management (memory.ts, index.ts, search.ts, types.ts)
- `hooks/` - Claude Code hooks (session-start.ts, user-prompt-submit.ts, stop.ts)
- `mcp-server/` - MCP server implementation (server.ts, tools.ts)
- `utils/` - Utilities (markdown.ts, transcript.ts, logger.ts, fuzzy.ts)

## Memory Storage (`local-recall/`)
- `index.json` - Keyword index cache (gitignored, auto-generated)
- `recall.log` - Debug log file (gitignored)
- `episodic-memory/` - Individual memory markdown files (version-controlled)

## Build Output (`scripts/`)
- Generated by `npm run build`
- Contains bundled hooks and MCP server
- Gitignored

## Memory File Format

Each memory file uses YAML frontmatter with the following fields:
- `id` - UUID identifier
- `subject` - Brief one-line description
- `keywords` - Array of searchable keywords
- `applies_to` - Scope: `global`, `file:<path>`, or `area:<name>`
- `occurred_at` - ISO-8601 timestamp for deduplication
- `content_hash` - SHA-256 prefix (16 chars) for content deduplication
