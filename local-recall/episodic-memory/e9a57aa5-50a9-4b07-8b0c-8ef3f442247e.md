---
id: e9a57aa5-50a9-4b07-8b0c-8ef3f442247e
subject: >-
  Memory extraction is part of async MCP server daemon processing, not
  synchronous hook execution
keywords:
  - mcp server
  - async processing
  - daemon
  - transcript processing
applies_to: global
occurred_at: '2025-12-02T21:38:48.058Z'
content_hash: 88bfeaee74247c52
---
The memory extraction system is designed to run asynchronously as part of the MCP server's background daemon, not as part of the synchronous Stop hook. The Stop hook is currently disabled per CLAUDE.md documentation. Instead:

1. The MCP server daemon runs every 5 minutes
2. It syncs transcripts from Claude's cache (~/.claude/projects/<project>/transcripts/)
3. Processes transcripts using memory-extractor to generate memories
4. Tracks processed transcripts with content hashes for change detection
5. Handles updates when transcripts change (deletes and recreates memories)

This async approach prevents blocking the user's workflow and allows batch processing of multiple transcripts.
