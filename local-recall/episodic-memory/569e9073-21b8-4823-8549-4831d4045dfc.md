---
id: 569e9073-21b8-4823-8549-4831d4045dfc
subject: >-
  Claude Code hooks are shell commands that receive JSON via stdin for memory
  integration
keywords:
  - hooks
  - claude-code
  - integration
  - session-start
  - user-prompt-submit
applies_to: 'area:hooks'
occurred_at: '2025-12-02T22:03:51.197Z'
content_hash: adb77e36274fd823
---
Three hooks are available in hooks.json:

1. **SessionStart**: Triggered when a Claude Code session begins
   - Receives: session_id, transcript_path, cwd
   - Loads all memories from disk (full reload, not incremental)
   - Returns 5 most recent memories sorted by occurred_at
   - Outputs memory content to stdout for context injection
   - Does NOT use vector store (to avoid slow initialization per session)

2. **UserPromptSubmit**: Triggered when user submits a prompt (before Claude processes it)
   - Receives: session_id, transcript_path, cwd, prompt
   - Lazily initializes vector store (cached after first use)
   - Performs semantic search using vector embeddings
   - Outputs matching memories to stdout for context injection

3. **Stop**: Currently disabled
   - Memory extraction is handled by MCP server daemon (processes transcripts every 5 minutes)

Hook configuration example for .claude/settings.json provided for both npm package install and local project directory setups.
