---
id: 9865ce6c-2745-4c02-bc95-77a1afbdbf89
subject: >-
  Session-start hook is safe because it avoids embeddings - only uses file-based
  MemoryManager
keywords:
  - session-start
  - hook
  - safety
  - no-embeddings
  - file-based
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-21T19:19:54.289Z'
content_hash: 940ab6418b0ae565
---
The `session-start.ts` hook is concurrent-safe because it only uses `MemoryManager` for file-based reads. It doesn't load the embedding model and doesn't instantiate search engines. This is why session-start can run without mutex errors even with multiple Claude instances.

**Implication**: Any hook that avoids loading embeddings can support multiple concurrent instances. The danger is only in hooks that trigger model loading.
