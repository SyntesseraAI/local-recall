---
id: dbfb6ff7-9963-4df3-b5f8-19b815a209ca
subject: >-
  Memory extraction uses Claude Haiku with structured prompts for consistent
  memory creation
keywords:
  - memory-extractor
  - claude-haiku
  - prompt-engineering
  - memory-extraction
  - structured-output
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T01:39:22.610Z'
content_hash: 3e35550e1cedda90
---
The memory extraction system uses Claude Haiku (claude-haiku-4-5-20251001) via the Anthropic API to analyze transcripts and extract memories. The extraction process:

1. Uses a structured prompt stored in `src/prompts/memory-extraction.ts`
2. Sends transcript content to Claude for analysis
3. Receives structured JSON responses with memory objects
4. Validates responses against expected schema
5. Creates deduplicated memories using content hashing

The prompt engineering is critical - it defines what constitutes a valuable memory and how memories should be structured with subjects, keywords, and scopes.
