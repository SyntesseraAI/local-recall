---
id: b60926db-19d3-4a97-b25e-e52df5a1d530
subject: >-
  Memories must be deduplicated by occurrence_at timestamp and content_hash to
  prevent duplicates
keywords:
  - deduplication
  - duplicate-detection
  - content_hash
  - occurred_at
  - memory
  - idempotent
applies_to: 'area:memory-management'
occurred_at: '2025-12-21T19:02:32.602Z'
content_hash: e35bf9c8a8b2b8b6
---
Memory creation is idempotent - memories are deduplicated based on two fields:
- `occurred_at` - ISO-8601 timestamp when the original event occurred
- `content_hash` - SHA-256 prefix (16 characters) of the memory content

Before creating a new memory, the system checks for existing duplicates using `findDuplicate(occurredAt, contentHash)`. If a duplicate is found, the existing memory ID is returned instead of creating a new one.

This prevents the same memory from being created multiple times across different sessions, ensuring the memory system remains clean and efficient.
