---
id: 63d28872-c2b5-4ee4-ac57-5196a2a72cc4
subject: MemoryManager must ensure .gitignore file exists in local-recall directory
keywords:
  - gitignore
  - memory-manager
  - initialization
  - setup
  - memory-creation
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-01T16:00:56.625Z'
content_hash: e15cc70b53dac30b
---
The `MemoryManager` class creates the `local-recall/episodic-memory/` directory but previously did not ensure the `.gitignore` file exists in the parent `local-recall/` directory. This caused the `.gitignore` to not be created when memory operations occurred. The fix involves:

1. Store `baseDir` as a class property in `MemoryManager`
2. Add an `ensureGitignore()` method that creates the `.gitignore` file with appropriate content
3. Call `ensureGitignore()` in the constructor to initialize it when the MemoryManager is created

The `.gitignore` file itself should be version-controlled (tracked in git), as shown by its presence in `git show HEAD:local-recall/.gitignore`. The file contents specify which files are ignored (like `index.json` and `recall.log`).

Without this fix, the `.gitignore` file wouldn't exist until the `IndexManager` was used, which may not happen during normal memory creation workflows.
