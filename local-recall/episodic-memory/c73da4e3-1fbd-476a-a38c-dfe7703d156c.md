---
id: c73da4e3-1fbd-476a-a38c-dfe7703d156c
subject: Daemon runs every 5 minutes in each Claude Code instance independently
keywords:
  - daemon
  - transcript-collector
  - 5-minute-interval
  - background-task
applies_to: 'file:src/mcp-server/server.ts'
occurred_at: '2025-12-21T19:40:43.728Z'
content_hash: d9a14fc87f387f34
---
The MCP server runs a background daemon that:

- Starts when MCP server initializes
- Runs every 5 minutes (300 second interval)
- Collects transcripts from `~/.claude/projects/<project>/transcripts/`
- Processes them to extract memories
- Tracks state in processed-log JSONL files

The problem: In multi-instance scenarios (multiple Claude Code windows), each instance runs its own daemon independently, creating concurrent file writes. This is a fundamental architectural issue that needs either:
- File-based locking
- Single centralized daemon
- Process coordination via lock files
