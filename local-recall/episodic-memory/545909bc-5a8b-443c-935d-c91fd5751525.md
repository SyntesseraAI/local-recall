---
id: 545909bc-5a8b-443c-935d-c91fd5751525
subject: 'Memory extraction happens via MCP server daemon, not Stop hook'
keywords:
  - stop hook
  - memory extraction
  - mcp server
  - daemon
  - transcript processing
applies_to: global
occurred_at: '2025-12-01T15:53:23.714Z'
content_hash: 4c7ffb67f51025f5
---
The Stop hook is disabled. Instead, memory extraction is handled by an MCP server daemon that:
- Runs asynchronously every 5 minutes
- Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
- Processes transcripts using `claude -p` to extract memories
- Tracks processed transcripts with content hashes for change detection
- Deletes and recreates memories when transcripts change

This asynchronous approach prevents blocking the user's session while still capturing memories from conversations.
