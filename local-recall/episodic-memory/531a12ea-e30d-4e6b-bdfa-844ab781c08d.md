---
id: 531a12ea-e30d-4e6b-bdfa-844ab781c08d
subject: >-
  Memory extraction system has infinite loop bug with self-referential
  transcripts
keywords:
  - memory extraction
  - bug
  - infinite loop
  - transcript processing
  - local-recall-internal
applies_to: global
occurred_at: '2025-12-01T16:32:39.794Z'
content_hash: be9b1bdf383fc8e2
---
The memory extraction system (transcript-collector.ts) is processing its own internal `[LOCAL_RECALL_INTERNAL]` prompts as regular user input, creating an infinite loop where each iteration contains the previous iteration's content. This occurs when the system analyzes transcripts that contain the memory extraction prompt itself.

Root cause: The transcript parsing doesn't distinguish between internal system prompts and actual user/assistant exchanges.

Impact: Memory files get created with progressively larger content containing nested copies of the extraction prompt.

Fix needed: Filter out `[LOCAL_RECALL_INTERNAL]` prefixed content during transcript parsing, or prevent memory extraction prompts from being included in transcripts.
