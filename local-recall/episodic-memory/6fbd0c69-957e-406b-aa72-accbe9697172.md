---
id: 6fbd0c69-957e-406b-aa72-accbe9697172
subject: IndexManager.getIndex() ensures .gitignore exists on every call
keywords:
  - gitignore
  - index-manager
  - session-start
  - initialization
applies_to: 'file:src/core/index.ts'
occurred_at: '2025-12-21T19:28:11.124Z'
content_hash: e171e3c9fc820ce6
---
The `IndexManager.getIndex()` method now calls `ensureGitignore()` before returning the index. This ensures that the `.gitignore` file is created on every session start, even if the index file already exists. Previously, `ensureGitignore()` was only called during `buildIndex()`, which only runs when the index doesn't exist yet.

This is important because:
1. Users may delete the `.gitignore` but keep the index files
2. The session-start hook calls `getIndex()` on every session, guaranteeing `.gitignore` recreation
3. The `.gitignore` should exclude `orama-*.json` index files and `recall.log` files
