---
id: 65b9d770-4ab6-45bf-835f-ef19e065f216
subject: Synthetic transcript handling in transcript collector
keywords:
  - synthetic transcripts
  - transcript-collector
  - copyTranscript
  - filtering
  - i/o optimization
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-21T18:28:20.994Z'
content_hash: 62b9b8415ef223e2
---
## Synthetic Transcript Filtering

The transcript collector's `syncTranscripts()` method now filters synthetic transcripts BEFORE copying them from Claude's cache, rather than after. This optimization prevents unnecessary I/O operations.

### Flow
1. `cleanupTranscripts()` runs first - removes any existing synthetic files from `local-recall/transcripts/`
2. Lists source transcripts from Claude's cache
3. For each new/modified transcript, checks `isSyntheticFile(transcript.sourcePath)` BEFORE copying
4. Skips copying with debug log if the transcript is synthetic

### Why This Matters
Previously, synthetic transcripts could be copied into the local folder and then deleted on the next cleanup run. Now they're filtered at the source, avoiding wasted I/O operations.

### Related Code
- `isSyntheticFile()` - Determines if a transcript is synthetic
- `cleanupTranscripts()` - Removes synthetic files that might have slipped through
- `copyTranscript()` - The actual copy operation, now guarded by synthetic check
