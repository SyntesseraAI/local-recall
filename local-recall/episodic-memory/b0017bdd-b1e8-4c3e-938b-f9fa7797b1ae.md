---
id: b0017bdd-b1e8-4c3e-938b-f9fa7797b1ae
subject: >-
  Memory extraction uses Claude Haiku via claude-cli for efficient transcript
  analysis
keywords:
  - memory-extraction
  - claude-haiku
  - transcript-parsing
  - mcp-server
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-01T15:57:45.909Z'
content_hash: 268c9557f9ff3d69
---
The memory extraction system in `src/core/memory-extractor.ts` uses the `claude-cli` package to invoke Claude Haiku models for analyzing transcripts. The extraction process:

1. Reads transcript files from Claude's cache
2. Uses `claude -p --model haiku` to process transcripts
3. Sends a structured prompt from `src/prompts/memory-extraction.ts` to extract memories
4. Parses the response and creates memory files using the memory manager

This approach is efficient because Haiku is faster and cheaper than larger models for this task. The system tracks processed transcripts via content hashes to avoid reprocessing unchanged files.
