---
id: 22d54993-f025-4c49-ba19-9769a6ccfcc3
subject: 'MCP daemon no longer starts HTTP server, uses pure MCP protocol'
keywords:
  - mcp-server
  - daemon
  - http-server
  - architecture
applies_to: 'file:src/mcp-server/server.ts'
occurred_at: '2025-12-03T10:13:19.759Z'
content_hash: bbae7f5e8911c223
---
Removed HTTP server startup from the MCP daemon:

- Deleted `startHttpServer()` call from daemon initialization
- MCP server continues to provide tools via standard MCP protocol
- Hooks no longer communicate with daemon via HTTP
- All inter-process communication uses file-based locking at the database level

The MCP server still processes transcripts asynchronously every 5 minutes using the same VectorStore/ThinkingVectorStore with file-based locking.
