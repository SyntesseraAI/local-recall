---
id: 2fc05b0c-948d-4af4-bdbc-059b597f318f
subject: >-
  Memory extraction process uses Claude Haiku with structured prompts to convert
  session transcripts into actionable memories
keywords:
  - memory extraction
  - claude haiku
  - transcript processing
  - structured prompts
  - memory creation
  - memory extractor
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-02T16:30:20.446Z'
content_hash: c0eca1103de68ed2
---
The memory extraction system in `src/core/memory-extractor.ts` analyzes Claude Code session transcripts and converts them into structured memories using Claude Haiku. The process:

1. Takes a condensed transcript with events marked as `[User]`, `[Assistant]`, `[Tool: Name]`, `[Result: OK/ERROR]`
2. Uses a structured prompt that guides Haiku to identify:
   - What was learned during the session
   - New knowledge about the codebase
   - Specific patterns or conventions discovered
   - Problems solved and solutions applied
3. Returns memories with metadata: subject, keywords, applies_to scope, and detailed content in markdown format
4. Filters out generic knowledge, temporary debugging steps, and sensitive data
5. Extracts only actionable, specific memories with file paths, function names, and concrete details

Memory scope guidelines:
- `global` - Architecture, conventions, preferences applicable to entire codebase
- `file:<path>` - Specific to particular files
- `area:<name>` - Related to components or functional areas

This structured approach ensures memories are concise, actionable, and immediately useful for future AI assistants working on the codebase.
