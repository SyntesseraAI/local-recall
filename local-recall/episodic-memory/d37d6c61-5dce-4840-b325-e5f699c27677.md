---
id: d37d6c61-5dce-4840-b325-e5f699c27677
subject: Memory extraction filters single-line content by design
keywords:
  - memory filtering
  - multiline content
  - single-line filtering
  - thinking memories
  - memory criteria
applies_to: 'file:src/utils/transcript.ts'
occurred_at: '2025-12-21T19:20:20.675Z'
content_hash: 3f340160187149e5
---
The memory extraction logic in `analyzeForMemories()` at `src/utils/transcript.ts:294-342` intentionally has different filtering rules:

- **Thinking blocks**: Saved even if single-line (all thinking is preserved)
- **Content/answers**: Only saved if multiline (single-line responses are filtered out)

This design ensures that multiline, substantive responses become memories while brief single-line messages don't clutter the memory system. The filtering check `if (lines.length >= 2)` at line 329 is intentional.
