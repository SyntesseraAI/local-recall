---
id: f58df5b9-bc7b-453c-a362-4b85013d3584
subject: Memory deduplication prevents duplicate memories from being created
keywords:
  - deduplication
  - duplicate detection
  - content hash
  - occurred_at
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-02T01:41:51.424Z'
content_hash: dbe44031e123117e
---
The memory system prevents duplicates by checking:

1. **Time-based**: Memories with the same `occurred_at` timestamp are considered potential duplicates
2. **Content-based**: Using `contentHash` (SHA-256 prefix) to detect identical memory content

The `findDuplicate(occurredAt, contentHash)` method checks both conditions before creating new memories. This ensures the same event extracted in multiple sessions doesn't create redundant memories.
