---
id: 58f6abfe-1e47-4a07-a484-90c2e6ba6009
subject: Memory extraction prompt should not be included in transcript content
keywords:
  - transcript
  - memory extraction
  - architecture
  - stop hook
  - mcp daemon
applies_to: 'area:transcript-processing'
occurred_at: '2025-12-01T16:27:32.674Z'
content_hash: a0300b09a63c76a1
---
The transcript processing pipeline (whether in Stop hook or MCP daemon) should filter out the `[LOCAL_RECALL_INTERNAL]` memory extraction instruction before sending the transcript to Claude for analysis. This instruction is metadata/tooling, not user content, and including it creates recursion issues.

The memory extraction should operate on the actual user-assistant interaction content only, not the system prompts that drive the extraction process itself.
