---
id: 6fe104b8-8c43-4f58-a708-ed20e33889e5
subject: 'Thinking blocks in transcripts have ''thinking'' property, not ''text'''
keywords:
  - thinking
  - content blocks
  - transcript format
  - extraction
  - bug
applies_to: 'file:src/utils/transcript.ts'
occurred_at: '2025-12-21T19:19:37.035Z'
content_hash: 5c211d820d5ff55c
---
When processing transcript content blocks, thinking blocks use the 'thinking' property (e.g., {type: 'thinking', thinking: '...'}) while text blocks use 'text' property. The bug in stop.ts was checking c.text on thinking blocks, causing them to be silently dropped. Use extractThinkingFromBlocks() helper which properly checks block.type === 'thinking' and accesses block.thinking.
