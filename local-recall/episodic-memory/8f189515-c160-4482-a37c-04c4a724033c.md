---
id: 8f189515-c160-4482-a37c-04c4a724033c
subject: 'ToolResultContent.content can be string or array, not just string'
keywords:
  - transcript
  - tool result
  - content
  - type mismatch
  - array
applies_to: 'file:src/core/transcript-condenser.ts'
occurred_at: '2025-12-21T19:00:39.886Z'
content_hash: cedafe4b124d21bb
---
TypeScript types define `ToolResultContent.content` as `string`, but Claude's actual transcript format can have `content` as either a string OR an array of content blocks (for multi-part results like images + text).

Code calling `.toLowerCase()` or `.split()` on this field fails when it's an array. Functions that process tool result content must check the type at runtime and handle both cases, not rely on the TypeScript type definition.
