---
id: 14392dfb-5c39-48e6-8408-dbce5c845a3f
subject: Transcript-collector needs to handle transcript file discovery on macOS
keywords:
  - transcript-collector
  - file-discovery
  - glob-patterns
  - path-resolution
  - macos
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:06:30.412Z'
content_hash: 4af5b938052ef298
---
# Transcript File Discovery Implementation

The `transcript-collector.ts` module needs to discover transcript JSONL files in the Claude projects directory on macOS.

## Current Status

The basic structure for finding transcripts is in place, but it needs proper implementation of:
1. Path resolution using the home directory (`~`)
2. Glob pattern matching to find `.jsonl` files
3. Proper error handling for missing directories or files

## Implementation Notes

- Use Node.js path utilities to expand `~` to the actual home directory
- The glob pattern should match all JSONL files: `transcripts/**/*.jsonl`
- File discovery should be async and handle non-existent directories gracefully
- Consider caching discovered files to avoid repeated filesystem scans

## Related Files

- MCP server expects transcript-collector to provide an async function for discovering transcripts
- The background daemon (5-minute interval) relies on transcript-collector working correctly
