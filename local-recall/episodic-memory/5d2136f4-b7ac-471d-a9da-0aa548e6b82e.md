---
id: 5d2136f4-b7ac-471d-a9da-0aa548e6b82e
subject: Current hooks architecture uses Orama for pure JavaScript vector search
keywords:
  - hooks
  - vector-search
  - orama
  - pure-javascript
  - architecture
applies_to: 'area:hooks'
occurred_at: '2025-12-21T19:21:22.678Z'
content_hash: b2a0606b036a85d1
---
The project's hook system now uses Orama (pure JavaScript) for vector search instead of native modules like better-sqlite3. This enables hooks to run directly in Claude Code processes without binary dependencies or process isolation issues. The main hooks (`user-prompt-submit.js`, `session-start.js`) use:

- Orama for semantic search (works in Node.js processes)
- Ollama for embeddings (external service call)
- JSON index files for persistence

This architecture is important to maintain when updating or creating new hooks - avoid native dependencies.
