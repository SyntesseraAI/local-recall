---
id: 33016057-4d6c-489a-b821-9d505a5f5c46
subject: >-
  Plugin MCP server must have dependencies bundled due to no node_modules in
  deployment
keywords:
  - plugin
  - bundling
  - mcp-server
  - esbuild
  - dependencies
applies_to: 'file:dev-marketplace/local-recall-plugin/.claude-plugin/plugin.json'
occurred_at: '2025-12-21T19:13:11.749Z'
content_hash: 31638ce49cb15903
---
The MCP server (scripts/mcp-server/server.js) must be bundled with all dependencies using esbuild without the `--external` flag. The plugin deployment does not include node_modules, so all required packages must be statically bundled into the server.js file. Previously, using `--external` caused the server to fail with missing dependencies when run in other Claude instances.
