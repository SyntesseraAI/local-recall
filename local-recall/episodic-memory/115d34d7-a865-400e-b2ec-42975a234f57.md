---
id: 115d34d7-a865-400e-b2ec-42975a234f57
subject: Thinking memory formatting includes similarity score in injected context
keywords:
  - memory formatting
  - similarity score
  - display format
  - markdown output
  - context injection
applies_to: 'file:src/utils/markdown.ts'
occurred_at: '2025-12-21T19:14:30.494Z'
content_hash: 36a3c2e8507e0184
---
When thinking memories are injected into Claude's context, they're formatted with metadata using `formatThinkingMemoryForDisplay()` function. The formatting includes:

- Memory ID
- Scope (applies_to field)
- Occurred timestamp (ISO-8601)
- Thought section
- Output section
- **Similarity score** as percentage (e.g., '85%')

The similarity score helps Claude understand how relevant the memory is to the current prompt. This contextual metadata makes thinking memories more interpretable and useful for reasoning about which past examples apply to current tasks.
