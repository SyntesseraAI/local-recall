---
id: a0d375a3-2681-486f-a261-f2498b4b9517
subject: Session-start hook enhanced to include both episodic and thinking memories
keywords:
  - session-start
  - thinking memories
  - episodic memories
  - hook implementation
  - context injection
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-21T17:22:22.424Z'
content_hash: 8e6601b7b78ed5f7
---
The session-start hook (`src/hooks/session-start.ts`) was enhanced to retrieve and inject both episodic and thinking memories on session start, not just episodic memories.

**Implementation details:**
- Retrieves the 5 most recent episodic memories (if `episodicEnabled` config is true)
- Retrieves the 5 most recent thinking memories (if `thinkingEnabled` config is true)
- Both sorted by `occurred_at` timestamp in descending order (most recent first)
- Uses `formatEpisodicÂ­MemoryForDisplay()` and `formatThinkingMemoryForDisplay()` utilities from `src/utils/markdown.ts` for consistent formatting
- Outputs separate sections for each memory type
- Respects existing configuration flags to allow enabling/disabling each type independently

**Why this matters:**
- Session start now provides fuller context continuity - both factual knowledge (episodic) and reasoning patterns (thinking)
- Helps Claude understand not just what was learned but how similar problems were approached before
- Allows future sessions to benefit from both types of memories without requiring explicit search
