---
id: 533050e8-50f1-4930-bb65-f2e33be74d25
subject: >-
  UserPromptSubmit hook performs lazy-initialized semantic search using vector
  store
keywords:
  - user-prompt-submit-hook
  - semantic-search
  - lazy-initialization
  - vector-store
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-02T16:19:04.303Z'
content_hash: 4d5dfafc21eed455
---
The UserPromptSubmit hook in `src/hooks/user-prompt-submit.ts` triggers before Claude processes a user prompt. It lazily initializes the vector store on first use (cached after first initialization), performs semantic search using vector embeddings, and outputs matching memories to stdout for injection into Claude's context.
