---
id: e545d260-3be3-4e09-ba80-26c4fa766c8f
subject: Hooks executing but producing empty stdout - memory injection failing
keywords:
  - hooks
  - sessionstart
  - userpromptsubmit
  - stdout
  - memory injection
  - debugging
applies_to: global
occurred_at: '2025-12-21T19:14:23.787Z'
content_hash: a93047562ef9a92d
---
## Problem
Both SessionStart and UserPromptSubmit hooks are executing successfully but returning empty stdout and stderr. This prevents memory content from being injected into Claude's context.

## Symptoms
- Hook execution shows `hook_response: empty` in logs
- stdout and stderr are both empty strings
- Hook process completes without errors
- No memories appear in Claude's prompt context

## Investigation Steps
1. Verify hooks are actually running (check logs for execution)
2. Add console.log debugging to hook entry points
3. Check if Orama index files exist and are valid JSON
4. Verify Ollama connection for embeddings
5. Check memory files in local-recall/episodic-memory/ directory
6. Test hook scripts directly with mock input JSON

## Key Debug Points
- SessionStart hook: Check if reading from memory files correctly
- UserPromptSubmit hook: Verify vector search is returning results
- Both: Ensure stdout is not being redirected or suppressed
- Check for try-catch blocks that might be silently failing
