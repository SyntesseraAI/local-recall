---
id: 9008f4dc-d331-4163-b088-68614abae842
subject: User prompt hook extracts keywords from user input to search relevant memories
keywords:
  - user prompt hook
  - keyword extraction
  - memory search
  - context injection
  - claude cli
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-01T16:18:32.291Z'
content_hash: 746aaa3e9e8bbba4
---
The UserPromptSubmit hook in `user-prompt-submit.ts` uses Claude CLI to extract keywords from the user's prompt, then searches the memory index for relevant memories. These matching memories are injected into Claude's context. The hook uses `claude -p --model haiku` for fast, efficient keyword extraction.
