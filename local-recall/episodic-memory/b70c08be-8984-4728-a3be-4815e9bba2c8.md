---
id: b70c08be-8984-4728-a3be-4815e9bba2c8
subject: Transcript JSONL format and event structure
keywords:
  - transcript
  - jsonl
  - format
  - events
  - user-message
  - assistant-response
  - tool-calls
  - parsing
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T16:16:18.563Z'
content_hash: cd13071d87301afb
---
# Transcript JSONL Format

Claude Code transcripts are stored as JSONL (JSON Lines) format, where each line is a complete JSON object.

## Event Types

Common event types in transcripts:
- `user_message` - User's input/question
- `assistant_response` - Claude's response
- `tool_use` - Tool invocation (e.g., Read, Edit, Bash)
- `tool_result` - Result of a tool execution
- `thinking` - Claude's internal reasoning (optional)

## Event Structure

Each event contains:
- `type` - Event type identifier
- `timestamp` - When the event occurred
- `content` - The actual content (varies by type)
- `metadata` - Additional information (tool name, status, etc.)

## Parsing Considerations

- Each line must be parsed as separate JSON
- Invalid JSON lines should be skipped with logging
- Events are chronologically ordered
- Tool results may span multiple lines if content includes newlines

## Relevance to Memory Extraction

The transcript collector needs to:
1. Parse JSONL efficiently
2. Identify valuable events (key decisions, bug fixes, learnings)
3. Extract context from surrounding events
4. Deduplicate based on content hash
