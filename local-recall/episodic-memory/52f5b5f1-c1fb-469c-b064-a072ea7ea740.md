---
id: 52f5b5f1-c1fb-469c-b064-a072ea7ea740
subject: >-
  Disable MCP servers during internal extraction subprocess with
  --strict-mcp-config
keywords:
  - mcp-server
  - claude-command
  - strict-mcp-config
  - extraction
  - subprocess
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-21T18:23:40.594Z'
content_hash: 4978fb59113ae79c
---
When calling `claude -p` for keyword extraction, pass --strict-mcp-config parameter to prevent MCP servers from loading in that subprocess. This adds an additional layer of protection against recursive hook execution and ensures the extraction process runs cleanly without interference from MCP tools.
