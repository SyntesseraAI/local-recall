---
id: 6801472f-9fa3-4d89-a6f7-22a9a3ec84a0
subject: Project uses transcript condensing to extract memories before storing them
keywords:
  - transcript
  - condensing
  - memory-extraction
  - claude
  - haiku
  - summarization
  - event-based
applies_to: global
occurred_at: '2025-12-01T22:31:36.506Z'
content_hash: 00c3c282064cafc3
---
# Transcript Condensing for Memory Extraction

The project implements a transcript condensing strategy before extracting memories:

## Why Condense?

- Raw Claude transcripts are verbose and include system messages
- Sending full transcripts to Claude for memory extraction would be expensive and slow
- Condensed format (events) is more efficient and focused

## Condensed Format

Transcripts are condensed into key events:
- `[User]` - What the user asked or requested
- `[Assistant]` - What Claude said or explained
- `[Tool: Name]` - Tool invocations (Read, Edit, Write, Bash, Grep, etc.)
- `[Result: OK/ERROR]` - Outcome of tool invocations

## Implementation

The condensing logic is in `src/core/memory-extractor.ts` and provides a structured input to Claude Haiku for memory extraction. This keeps token usage low while preserving essential information.

## Memory Extraction Process

The condensed transcript is then sent to Claude with specific guidelines about what to extract (architectural decisions, bug fixes, patterns, etc.) and what to skip (generic knowledge, temporary debugging steps).
