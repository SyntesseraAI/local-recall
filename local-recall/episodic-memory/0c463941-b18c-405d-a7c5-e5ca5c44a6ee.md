---
id: 0c463941-b18c-405d-a7c5-e5ca5c44a6ee
subject: Transcript-collector module processes Claude transcripts for memory extraction
keywords:
  - transcript-collector
  - memory-extraction
  - daemon
  - async-processing
  - claude-api
  - mcp-server
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:33:15.059Z'
content_hash: c330320590a5ce30
---
# Transcript Collector Module

## Purpose

The `transcript-collector.ts` module is responsible for:
1. Discovering Claude Code transcripts from `~/.claude/projects/`
2. Polling for new/updated transcripts periodically
3. Processing transcripts to extract memories
4. Handling deduplication and change detection

## Current Implementation Status

- Module was recently refactored (commit: `5d8310f`)
- Standardized string quotes and improved logging consistency
- Recent transcript condensing feature was implemented (commit: `8c4fbf5`)

## Integration Points

- Used by the MCP server daemon for background transcript processing
- Works with the memory creation system to store extracted memories
- Runs on a configurable interval (typically 5 minutes)
- Uses Claude API (`claude -p --model haiku`) for memory extraction

## Important Notes

- The module should handle path encoding correctly when accessing transcripts
- Deduplication is critical - use `occurred_at` and `content_hash` fields
- Transcripts are JSONL format, requiring line-by-line parsing
- Change detection prevents reprocessing unchanged transcripts
