---
id: 2caaef89-1a24-4772-8209-78ee7fd41d73
subject: >-
  Memory extraction system uses Claude API to analyze transcripts and extract
  structured memories
keywords:
  - memory-extractor
  - claude-api
  - transcript-analysis
  - memory-extraction
  - sdk
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-01T16:06:49.108Z'
content_hash: 29c4b51363584834
---
The memory extraction system in `src/core/memory-extractor.ts` uses the Anthropic Claude API to analyze Claude Code session transcripts and extract valuable memories. The system:

- Uses the Messages API to send transcripts to Claude for analysis
- Extracts structured memory objects with fields: subject, keywords, applies_to, content
- Handles streaming responses for efficient processing
- Uses a custom prompt system defined in `src/prompts/memory-extraction.ts`
- Deduplicates memories using content hash and occurred_at timestamp
- Supports filtering memories by scope (global, file, area)

This is a key component for making the local-recall memory system self-aware - it automatically learns from session transcripts.
