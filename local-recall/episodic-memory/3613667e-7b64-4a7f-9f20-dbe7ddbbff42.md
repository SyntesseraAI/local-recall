---
id: 3613667e-7b64-4a7f-9f20-dbe7ddbbff42
subject: >-
  MCP server daemon processes transcripts asynchronously every 5 minutes for
  memory extraction
keywords:
  - mcp-server
  - background-daemon
  - transcript-processing
  - async-memory-extraction
applies_to: 'file:src/mcp-server/server.ts'
occurred_at: '2025-12-02T17:11:27.906Z'
content_hash: c05d120081995aa7
---
The MCP server runs a background daemon that syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`) every 5 minutes. It processes transcripts using `claude -p` to extract memories, tracks processed transcripts with content hashes for change detection, and deletes/recreates memories when transcripts change. This enables asynchronous memory extraction without blocking Claude Code sessions. The Stop hook is currently disabled in favor of this MCP daemon approach.
