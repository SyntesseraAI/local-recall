---
id: a9575528-def3-4783-b346-5fb4ec81aceb
subject: Memory extractor parseClaudeResponse handles array format from Claude Haiku
keywords:
  - memory extractor
  - claude haiku
  - array format
  - response parsing
  - parseClaudeResponse
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T23:05:04.499Z'
content_hash: c650d771ca0681b2
---
The `parseClaudeResponse` method in memory-extractor.ts needs to handle cases where Claude (Haiku) returns memories as a plain array `[...]` instead of wrapped in an object `{ memories: [...] }`. Added array detection at line 174-177 that wraps raw arrays in the expected format before validation. This fixes the 'Expected object, received array' error during memory extraction.
