---
id: 7e03535c-0439-454d-8f02-229b2ca5a6dc
subject: MCP server daemon processes transcripts asynchronously every 5 minutes
keywords:
  - mcp
  - daemon
  - transcript
  - processing
  - async
  - schedule
applies_to: 'file:src/mcp-server/server.ts'
occurred_at: '2025-12-01T22:19:09.045Z'
content_hash: 714cab55b28cb7a3
---
The MCP server includes a background daemon that processes transcripts asynchronously rather than using the Stop hook. The daemon:

1. Polls for new/updated transcripts every 5 minutes
2. Uses content hashes to detect changes
3. Processes transcripts to extract memories
4. Handles deletion and recreation of memories when transcripts change

This approach avoids the hook recursion issues but introduces a 5-minute delay in memory availability. The Stop hook is currently disabled in favor of this daemon-based approach.
