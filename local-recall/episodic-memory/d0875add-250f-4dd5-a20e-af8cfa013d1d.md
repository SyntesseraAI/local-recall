---
id: d0875add-250f-4dd5-a20e-af8cfa013d1d
subject: >-
  SessionStart hook loads 5 most recent memories without vector store to avoid
  slow initialization
keywords:
  - sessionstart-hook
  - performance
  - memory-loading
  - vector-store
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-02T16:19:51.746Z'
content_hash: 5999110813e0d054
---
The SessionStart hook operates differently from UserPromptSubmit:

- Loads ALL memories from disk via `MemoryManager.listMemories()`
- Returns only the 5 most recent memories (sorted by `occurred_at`)
- Does NOT use the vector store to avoid slow initialization on every session start
- Is a full reload, not incremental
- Outputs memory content to stdout for injection into Claude's context

This is a deliberate optimization to keep session startup fast, unlike the UserPromptSubmit hook which performs semantic search.
