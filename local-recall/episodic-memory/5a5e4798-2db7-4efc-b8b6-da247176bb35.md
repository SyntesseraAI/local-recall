---
id: 5a5e4798-2db7-4efc-b8b6-da247176bb35
subject: Session-start hook now retrieves both episodic and thinking memories
keywords:
  - session-start
  - hook
  - memory-retrieval
  - episodic
  - thinking
  - context-injection
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-21T18:58:21.298Z'
content_hash: ff279c35df929fe2
---
The session-start hook has been updated to retrieve and inject both episodic and thinking memories when a Claude Code session begins, instead of just episodic memories. This allows sessions to continue with richer context including both factual memories and previous reasoning patterns.

### Implementation Details
- Retrieves the 5 most recent episodic memories (sorted by `occurred_at`, newest first) when `episodicEnabled` is true
- Retrieves the 5 most recent thinking memories (sorted by `occurred_at`, newest first) when `thinkingEnabled` is true
- Uses the `formatMemoryForDisplay()` function for episodic memories and `formatThinkingMemoryForDisplay()` for thinking memories
- Both memory types are output to stdout for injection into Claude's context
- Configuration flags control whether each memory type is included

### Memory Scope
Both episodic and thinking memories are retrieved using memory managers that read directly from the file system, providing immediate context without requiring the MCP server.
