---
id: 3fdbb98e-4098-4fb8-b578-13a73618f97c
subject: Memory extraction task workflow and transcript condensing
keywords:
  - memory-extraction
  - transcript
  - condensing
  - workflow
  - tool-invocation
applies_to: global
occurred_at: '2025-12-01T16:19:19.885Z'
content_hash: 7f3eb8f387f207b7
---
# Memory Extraction Task Workflow

When Local Recall processes transcripts for memory extraction:

## 1. Transcript Condensing
Transcripts are condensed into a simplified event format before analysis:
- `[User]` - User requests or questions
- `[Assistant]` - Claude's responses and explanations
- `[Tool: Name]` - Tool invocations (Read, Edit, Write, Bash, Grep, etc.)
- `[Result: OK/ERROR]` - Outcome of tool invocations

This condensing happens in `src/core/transcript-collector.ts` and reduces token usage for the extraction LLM.

## 2. Memory Extraction
After condensing, the transcript is analyzed to extract:
- What was learned (new knowledge, insights)
- What is now known (important facts about codebase, architecture)
- Codebase-specific patterns and conventions
- Problems solved (bugs fixed, issues resolved)

## 3. Memory Format Requirements
Each extracted memory must have:
- `subject`: Brief one-line description (max 200 chars)
- `keywords`: Array of 1-10 searchable keywords (lowercase, specific)
- `applies_to`: Scope (`global`, `file:<path>`, or `area:<name>`)
- `content`: Detailed memory in markdown format

## 4. Extraction Guidelines
DO extract: architectural decisions, bug fixes, code patterns, configuration quirks, user preferences, component relationships, performance optimizations

DO NOT extract: generic programming knowledge, temporary debugging steps, trivial information, sensitive data, outdated information
