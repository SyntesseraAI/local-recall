---
id: ecf730f7-cd47-49e4-84a9-665287f7771c
subject: >-
  User is migrating from embedding-based search to keyword-based search with
  fuzzy matching
keywords:
  - search
  - embedding
  - keyword
  - fuzzy-matching
  - refactor
  - performance
applies_to: 'area:search'
occurred_at: '2025-12-02T01:00:11.815Z'
content_hash: 8fa2b5324ca2e441
---
# Search Architecture Migration

The user is refactoring the search system from embedding-based semantic search to keyword-based search with fuzzy matching.

## Motivation

- Embedding models are slow and resource-intensive (requires downloading ~133MB models)
- Keyword-based search is faster and more predictable
- Fuzzy matching provides good enough relevance for memory recall
- Better performance for local-only deployment

## Implementation Details

- Memories have a `keywords` field in YAML frontmatter
- Search uses fuzzy matching against these keywords
- The system maintains a keyword index in `local-recall/index.json`
- Index is rebuilt on demand or periodically

## Migration Status

The user has mentioned this is an ongoing refactor work, with changes being made to the search implementation and related components.
