---
id: 71c8c304-9788-4e46-afae-7a67570bc42e
subject: MCP server transcript processing and memory extraction workflow
keywords:
  - mcp
  - server
  - transcript
  - memory-extraction
  - daemon
  - background-processing
  - frequency
applies_to: 'area:mcp-server'
occurred_at: '2025-12-01T16:14:32.883Z'
content_hash: f680dbf533e2fcea
---
# MCP Server Transcript Processing

## Current Implementation Status

The MCP server includes a background daemon that processes transcripts asynchronously:
- Runs every 5 minutes
- Syncs transcripts from `~/.claude/projects/<project>/transcripts/`
- Processes transcripts using `claude -p` to extract memories
- Tracks processed transcripts with content hashes for change detection
- Deletes and recreates memories when transcripts change

## Processing Frequency

The 5-minute interval is intentional to:
- Avoid excessive processing overhead
- Batch multiple transcript changes together
- Allow Claude to complete responses before extraction

## Memory Extraction Strategy

The daemon uses `claude -p` (prompt mode) to:
1. Read transcript content
2. Ask Claude to extract valuable memories
3. Create memory files from the extracted information
4. Handle deduplication using content hashes

## Considerations for Implementation

- Transcript path construction requires proper path normalization
- Content hashes are used to detect when transcripts change
- Memories are created as idempotent operations (existing duplicates return existing memory)
- The daemon runs independently, so transcript processing is async relative to user sessions
