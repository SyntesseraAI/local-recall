---
id: 09b71e37-89ad-42f6-a483-87851542e065
subject: >-
  Memory extraction should process entire transcripts, not just condensed
  summaries
keywords:
  - memory-extraction
  - transcript-processing
  - mcp-server
  - daemon
  - background
applies_to: global
occurred_at: '2025-12-01T15:56:54.188Z'
content_hash: 3859edec35478ad2
---
# Transcript Processing for Memory Extraction

## Discovery

When extracting memories from transcripts, the system should process the ENTIRE transcript content, not just condensed summaries or summaries of the session.

## Rationale

The current MCP server implementation processes full transcripts to extract memories. Extracting memories from condensed summaries loses important context and details that might be valuable for future sessions.

## Implementation Details

- The background daemon reads complete JSONL transcript files
- Uses `claude -p` (prompt mode) to extract memories from full content
- Tracks processed transcripts by content hash to detect changes
- Recreates memories when transcripts change

## Related Files

- `src/mcp-server/server.ts` - Background daemon implementation
- `src/utils/transcript.ts` - Transcript parsing utilities
