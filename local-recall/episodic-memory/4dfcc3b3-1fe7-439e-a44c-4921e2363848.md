---
id: 4dfcc3b3-1fe7-439e-a44c-4921e2363848
subject: SessionStart hook updated to retrieve both episodic and thinking memories
keywords:
  - session-start
  - hook
  - thinking-memories
  - episodic-memories
  - context-injection
  - session-continuity
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-08T12:40:12.042Z'
content_hash: ebff927a526e5247
---
Updated the SessionStart hook to retrieve both episodic and thinking memories for session context:

**Changes:**
- Now loads the 5 most recent episodic memories AND 5 most recent thinking memories (based on `occurred_at`)
- Respects both `episodicEnabled` and `thinkingEnabled` config flags
- Outputs separate sections: "# Local Recall: Recent Memories" and "# Local Recall: Recent Thoughts"
- Memory stats show totals for both memory types

**Purpose:**
This allows sessions to continue with fuller context from previous work, including both factual memories (episodic) and reasoning patterns (thinking).

**Imports added:**
- `ThinkingMemoryManager` from `../core/thinking-memory.js`
- `formatThinkingMemoryForDisplay` from `../utils/markdown.js`
- Types: `Memory`, `ThinkingMemory`
