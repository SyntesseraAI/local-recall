---
id: 76adfb06-b566-4de9-9ce3-a89d434f88ae
subject: >-
  Transcript collector needs to normalize file paths when comparing with
  Claude's path-converted names
keywords:
  - transcript-collector
  - path-normalization
  - edge-case
  - absolute-paths
  - comparison
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:34:21.487Z'
content_hash: 7af3a649b240dc4f
---
When collecting transcripts from Claude's project folders, absolute file paths must be normalized before comparison with Claude's path-converted directory names.

Specific issue found:
- Input path may be relative like `./local-recall`
- Claude stores under `~/.claude/projects/Users-joe-Code-Syntessera-local-recall/`
- Direct string comparison fails because relative paths don't match the full path conversion

Solution: Resolve relative paths to absolute paths using `path.resolve()` before converting `/` to `-` for directory lookup.

This is a common edge case when the CWD doesn't match the project root exactly.
