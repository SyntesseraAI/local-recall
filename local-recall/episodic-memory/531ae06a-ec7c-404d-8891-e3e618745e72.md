---
id: 531ae06a-ec7c-404d-8891-e3e618745e72
subject: >-
  MCP server background daemon syncs transcripts and extracts memories
  asynchronously
keywords:
  - mcp
  - daemon
  - background
  - transcript-sync
  - memory-extraction
  - async
  - 5-minute-interval
applies_to: 'area:mcp-server'
occurred_at: '2025-12-01T16:13:22.254Z'
content_hash: 9c906c0fb084d81e
---
The MCP server runs a background daemon that:

1. **Finds transcript files** from `~/.claude/projects/` using the project path encoding pattern
2. **Syncs transcripts** by checking for changes (using content hashes for deduplication)
3. **Extracts memories** from new/changed transcripts using Claude Haiku (`claude -p --model haiku`)
4. **Tracks processed transcripts** with content hashes to detect changes
5. **Deletes and recreates memories** when transcripts are modified
6. **Runs every 5 minutes** (configurable interval)

This replaces the disabled Stop hook and enables asynchronous, non-blocking memory extraction. The daemon prevents blocking the user's Claude Code session while still capturing valuable context for future sessions.
