---
id: 762a5d20-3e56-4a9e-91e2-c86fb10a9538
subject: Extract keywords from user prompts to improve memory search accuracy
keywords:
  - keyword-extraction
  - claude-haiku
  - memory-search
  - user-prompt
  - semantic-matching
  - ai-assisted
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-01T22:53:14.801Z'
content_hash: 4c0b95596a315d35
---
# Keyword Extraction from User Prompts

## Implementation

The UserPromptSubmit hook uses Claude Haiku to extract keywords from user prompts before searching the memory index.

## Process

1. Receive user prompt from stdin
2. Call Claude Haiku with a system prompt asking for keyword extraction
3. Parse the returned keywords (JSON array format)
4. Search memory index using extracted keywords
5. Return matching memories to stdout

## Benefits

- Improves search accuracy by understanding intent rather than simple word matching
- Reduces false positives from unrelated keyword matches
- Handles synonyms and related concepts better than literal matching
- Uses Haiku for speed and cost efficiency

## Example

User prompt: "How should I handle authentication in the middleware?"

Extracted keywords might include: `authentication`, `middleware`, `security`, `http`, `request-handling`
