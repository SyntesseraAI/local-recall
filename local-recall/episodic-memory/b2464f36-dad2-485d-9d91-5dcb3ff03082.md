---
id: b2464f36-dad2-485d-9d91-5dcb3ff03082
subject: >-
  Memory extraction requires proper handling of markdown formatting and JSON
  parsing
keywords:
  - memory-format
  - yaml-frontmatter
  - json-parsing
  - markdown
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-01T16:05:03.838Z'
content_hash: 756933da750dc628
---
Memory files use YAML frontmatter followed by markdown content. The memory extraction process must:
1. Parse Claude's JSON response carefully (watch for incomplete/truncated responses)
2. Validate that all required fields are present (id, subject, keywords, applies_to, content)
3. Handle nested markdown content that may contain code blocks or special characters
4. Ensure keywords are lowercase and specific for better search matching
5. Include content_hash and occurred_at for deduplication

Common issues:
- Claude may return incomplete JSON if response is cut off
- Keywords should be simple terms, not full phrases
- Markdown content should be properly escaped in JSON
