---
id: 0d183e0e-361b-4a46-a7d4-283472740ef6
subject: >-
  User-prompt-submit hook searches memories and injects context before Claude
  processes prompts
keywords:
  - user-prompt-submit
  - hook
  - memory-search
  - context-injection
  - keyword-extraction
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-01T22:37:50.139Z'
content_hash: 3fdb32aa31d47c8f
---
The user-prompt-submit hook is triggered before Claude processes a user's prompt. It extracts keywords from the prompt using Claude Haiku, searches the memory index for matching memories using fuzzy matching, and outputs the matching memories to stdout so they get injected into Claude's context. This allows Claude to access relevant project memories without explicitly asking for them.
