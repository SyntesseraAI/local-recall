---
id: 17e641cc-67c7-450c-8f56-69d44bab134e
subject: >-
  Episodic and thinking memory searches are independent with separate
  configuration thresholds
keywords:
  - episodic memory
  - thinking memory
  - search
  - configuration
  - threshold
  - min similarity
  - max tokens
applies_to: global
occurred_at: '2025-12-21T19:04:31.826Z'
content_hash: 16bf9be3c8b74f5c
---
## Architecture

Episodic and thinking memories are searched independently using separate vector stores and configurations.

## Configuration

Each memory type has independent settings:

**Episodic Memories:**
- `episodicEnabled` - Enable/disable episodic search
- `episodicMaxTokens` - Maximum tokens to include (default: 1000)
- `episodicMinSimilarity` - Minimum similarity threshold (default: 0.5)

**Thinking Memories:**
- `thinkingEnabled` - Enable/disable thinking search
- `thinkingMaxTokens` - Maximum tokens to include (default: 1000)
- `thinkingMinSimilarity` - Minimum similarity threshold (default: 0.5)

## Behavior

The UserPromptSubmit hook:
1. Searches episodic memories if `episodicEnabled` and filters by `episodicMinSimilarity`
2. Searches thinking memories if `thinkingEnabled` and filters by `thinkingMinSimilarity`
3. Respects separate token budgets for each type
4. Combines results and injects both types into context

## Benefit

Independent configuration allows fine-tuning each memory type separately based on quality and relevance needs.

## Code Location

`src/hooks/user-prompt-submit.ts` - Unified hook handles both episodic and thinking memories with separate configurations.
