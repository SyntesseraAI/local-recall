---
id: 11a67527-61da-4be7-badc-ce386031c618
subject: >-
  Memory extraction uses streaming API with claude-3-5-sonnet for efficient
  transcript processing
keywords:
  - memory extraction
  - streaming
  - claude-3-5-sonnet
  - transcript processing
  - api
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T07:13:13.152Z'
content_hash: e2ea7c5526458d43
---
The memory extraction system in `extractMemoriesFromTranscript()` uses Claude's streaming API with the claude-3-5-sonnet model to process transcripts efficiently. The system:

- Uses `client.messages.create()` with `stream: true` for real-time processing
- Implements custom event handling for `content_block_start`, `content_block_delta`, and `message_stop` events
- Validates the model and streaming capabilities before making requests
- Returns a promise that resolves with extracted memories in JSON format

This streaming approach improves performance by avoiding blocking I/O while processing large transcripts.
