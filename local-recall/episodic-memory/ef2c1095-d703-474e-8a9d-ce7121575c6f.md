---
id: ef2c1095-d703-474e-8a9d-ce7121575c6f
subject: Hooks architecture and three main integration points
keywords:
  - hooks
  - session-start
  - user-prompt-submit
  - stop
  - claude-code-integration
  - memory-injection
applies_to: global
occurred_at: '2025-12-21T19:17:09.190Z'
content_hash: 328aec75a83e12b2
---
Local Recall provides three hooks that integrate with Claude Code:

1. **SessionStart Hook** (`src/hooks/session-start.ts`): Triggered when a session begins. Loads memory index and injects relevant memories into Claude's context based on files/areas.

2. **UserPromptSubmit Hook** (`src/hooks/user-prompt-submit.ts`): Triggered before Claude processes user input. Performs semantic search on memories and injects relevant context.

3. **Stop Hook** (`src/hooks/stop.ts`): Currently disabled. Originally extracted memories from transcripts, now handled by MCP daemon.

Hooks are configured in `.claude/settings.json` and execute as shell commands receiving JSON via stdin.
