---
id: abf86b49-c6c0-4b38-9d2f-d0c899a7ed9b
subject: Three pathways for data to load into SQLite vector store
keywords:
  - vector-store
  - sqlite
  - data-loading
  - sync
  - embedding
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-21T19:19:24.814Z'
content_hash: e76dc606591341ff
---
Data enters the SQLite vector store through three pathways:

1. **On Memory Creation**: `MemoryManager.createMemory()` (in `src/core/memory.ts:107-113`) creates the markdown file and immediately calls `vectorStore.add(memory)` to insert it into SQLite with embedding

2. **On MCP Server Start**: `src/mcp-server/server.ts:73` calls `vectorStore.sync(memories)` which adds any memories that aren't yet in the store

3. **Daemon Processing**: The background daemon creates new memories via `episodic_create` which triggers pathway 1

This multi-pathway approach ensures memories are searchable immediately while also handling out-of-sync cases.
