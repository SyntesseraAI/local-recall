---
id: 90ff3b49-8fb8-4c02-b6c0-36702ba45314
subject: Memory deduplication uses occurred_at timestamp and content_hash
keywords:
  - deduplication
  - content hash
  - occurred_at
  - duplicate detection
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-01T15:52:55.804Z'
content_hash: 901f3233c0ab15e4
---
The memory system prevents duplicates by checking both the `occurred_at` timestamp and `content_hash` fields. The `findDuplicate()` function in memory.ts compares these values to detect if a memory with the same occurrence time and content already exists. When creating a memory, if a duplicate is detected, the existing memory is returned instead of creating a new one.
