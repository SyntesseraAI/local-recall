---
id: a3568405-b90d-4974-9570-b6cb4ff06ce1
subject: >-
  TranscriptCollector class converts JSONL transcripts to events with proper
  timestamp handling
keywords:
  - transcript
  - jsonl
  - events
  - parsing
  - timestamp
  - occurred-at
  - transcript-collector
  - event-conversion
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T21:07:37.714Z'
content_hash: d662c081c64317e5
---
# TranscriptCollector Implementation

The `TranscriptCollector` class in `src/core/transcript-collector.ts` is responsible for reading and parsing Claude's JSONL transcript files.

## Key Functions

### `readTranscriptsFromPath(cwd: string)`
Reads all JSONL transcript files from a project's transcript directory.

### `parseTranscriptFile(filePath: string)`
Parses a single JSONL file and converts events into a structured format.

## Event Structure

Each event in the JSONL has:
- `timestamp`: When the event occurred (ISO-8601 or Unix timestamp)
- Other event-specific data depending on type

Events are converted to have:
- `occurred_at`: The timestamp field (ensuring consistent naming across the system)
- Other properties from the original event

## Important Details

- JSONL files contain one event per line
- Each line is valid JSON that can be parsed independently
- Timestamp handling is critical for memory deduplication
- The `occurred_at` field is used in memory creation for tracking when events happened
