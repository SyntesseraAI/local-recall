---
id: 3a472bd3-56ce-408e-af19-b1962d43b3b3
subject: >-
  Stop hook is disabled; memory extraction handled by async MCP daemon every 5
  minutes
keywords:
  - mcp-server
  - async-processing
  - transcripts
  - memory-extraction
applies_to: 'area:mcp-server'
occurred_at: '2025-12-02T17:47:03.554Z'
content_hash: a67bb12652b65b8c
---
The Stop hook is currently disabled. Instead, memory extraction is handled by a background daemon in the MCP server that:
1. Runs every 5 minutes
2. Syncs transcripts from Claude's cache (~/.claude/projects/<project>/transcripts/)
3. Processes transcripts using `claude -p` to extract memories
4. Tracks processed transcripts with content hashes for change detection
5. Deletes and recreates memories when transcripts change

This asynchronous approach avoids blocking the user's workflow while ensuring memories are extracted and indexed.
