---
id: 2aba99e6-f6eb-4b75-be70-e868ead02cc5
subject: Local Recall MCP server processes transcripts asynchronously every 5 minutes
keywords:
  - mcp
  - server
  - transcript
  - processing
  - daemon
  - background
  - async
  - 5-minute
applies_to: global
occurred_at: '2025-12-01T15:57:09.529Z'
content_hash: 2a102866c48e7aab
---
# Local Recall MCP Server Background Processing

The MCP server includes a background daemon that automatically processes Claude Code transcripts.

## Processing Interval

The daemon runs every 5 minutes to:
- Sync transcripts from Claude's cache directory (`~/.claude/projects/<project>/transcripts/`)
- Process new or modified transcripts using Claude to extract memories
- Track processed transcripts with content hashes for change detection
- Delete and recreate memories when transcripts change

## Why Every 5 Minutes?

This interval was chosen to:
- Keep memory extraction current without overwhelming the system
- Allow for batching of multiple messages if a session is still active
- Provide reasonable latency for new memories to become available
- Reduce API costs by not processing on every single message

## Memory Extraction Workflow

1. Daemon detects new/modified transcripts
2. Calls Claude Haiku to analyze transcript and extract structured memories
3. Creates memory files in `local-recall/episodic-memory/`
4. Rebuilds the search index
5. Waits 5 minutes before processing again

This approach decouples memory extraction from the Stop hook, allowing asynchronous processing without blocking user sessions.
