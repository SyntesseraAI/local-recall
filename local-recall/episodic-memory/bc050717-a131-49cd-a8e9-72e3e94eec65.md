---
id: bc050717-a131-49cd-a8e9-72e3e94eec65
subject: Memory extraction validation uses Zod schema with required string fields
keywords:
  - zod
  - schema
  - validation
  - memory
  - types
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-21T19:17:04.759Z'
content_hash: 46de01ae00865dd1
---
Memory objects must pass Zod validation with all required fields being non-empty strings:
- `subject`: string (one-line description)
- `keywords`: array of strings (searchable tags)
- `applies_to`: string (scope: `global`, `file:path`, or `area:name`)
- `content`: string (markdown-formatted memory content)

This validation occurs after field normalization (line 188) and is strict - any missing or undefined fields cause validation failure. The extraction pipeline must either produce valid memories or return empty array.
