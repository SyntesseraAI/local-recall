---
id: 2235311d-c411-47c3-8816-db9a184d40ff
subject: >-
  Memory extraction processes malformed Claude responses and creates empty
  memory objects
keywords:
  - memory-extractor
  - claude-response
  - json-parsing
  - validation
  - empty-objects
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:29:26.136Z'
content_hash: 358913d8377de17d
---
When the memory extractor parses Claude responses containing malformed or incomplete JSON objects, empty objects {} are created and added to the memories array instead of being filtered out. This creates invalid memories with missing required fields (subject, keywords, applies_to, content). The issue occurs because the code doesn't validate parsed objects before adding them to results.

To fix: Add validation in the JSON parsing logic to ensure each parsed object has required fields before including it in the results array. Filter out empty or invalid objects.
