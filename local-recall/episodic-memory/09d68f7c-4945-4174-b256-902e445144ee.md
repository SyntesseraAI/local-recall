---
id: 09d68f7c-4945-4174-b256-902e445144ee
subject: Memory extraction uses claude -p for prompt analysis
keywords:
  - memory-extraction
  - claude
  - prompt
  - analysis
  - keywords
  - haiku
applies_to: global
occurred_at: '2025-12-01T15:54:44.161Z'
content_hash: d62c2e840a4f2284
---
# Memory Extraction Analysis Method

The Local Recall system uses Claude's command-line interface to analyze transcripts and extract memories:
- Command: `claude -p` (prompt mode)
- Uses Claude Haiku model for keyword extraction from user prompts
- Also used in the UserPromptSubmit hook to extract keywords for searching the memory index
- This allows for intelligent, semantic analysis of conversation content rather than simple keyword matching

The analysis happens:
1. On each user prompt submission (UserPromptSubmit hook)
2. Periodically when processing accumulated transcripts (MCP daemon, every 5 minutes)
