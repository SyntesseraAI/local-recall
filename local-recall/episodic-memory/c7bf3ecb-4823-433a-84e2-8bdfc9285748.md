---
id: c7bf3ecb-4823-433a-84e2-8bdfc9285748
subject: Memory deduplication uses occurred_at timestamp and content_hash fields
keywords:
  - deduplication
  - occurred-at
  - content-hash
  - idempotent-creation
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-01T22:13:31.809Z'
content_hash: 834dd07ebff50762
---
The memory creation system prevents duplicates through: 1) `occurred_at` - ISO-8601 timestamp of when the original event occurred (used for sorting and temporal deduplication), 2) `content_hash` - SHA-256 hash prefix of memory content (16 chars), 3) `findDuplicate(occurredAt, contentHash)` method checks for existing duplicates before creating new memories. This ensures memories remain idempotent across multiple runs.
