---
id: d6c8588b-1854-4c0f-93f9-bf92bdf873fa
subject: >-
  Claude Code hooks are configured in hooks.json and receive JSON via stdin as
  shell commands
keywords:
  - hooks
  - claude-code-integration
  - session-start
  - user-prompt-submit
  - shell-commands
applies_to: global
occurred_at: '2025-12-02T12:50:46.418Z'
content_hash: edaf2cc458f57050
---
Two active hooks integrate Local Recall with Claude Code:

1. **SessionStart Hook** - Loads all memories on session initialization:
   - Receives: `session_id`, `transcript_path`, `cwd`
   - Returns: 5 most recent memories sorted by `occurred_at`
   - No vector store used (full reload for speed)

2. **UserPromptSubmit Hook** - Performs semantic search when user submits prompts:
   - Receives: `session_id`, `transcript_path`, `cwd`, `prompt`
   - Initializes vector store (lazy, cached after first use)
   - Returns: Semantically matching memories

Stop hook is disabled; memory extraction handled by MCP server daemon instead.
