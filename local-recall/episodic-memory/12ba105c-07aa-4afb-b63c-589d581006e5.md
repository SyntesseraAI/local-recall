---
id: 12ba105c-07aa-4afb-b63c-589d581006e5
subject: >-
  Memory deduplication uses occurred_at timestamp and content_hash for
  identifying duplicate memories
keywords:
  - deduplication
  - content hash
  - occurred_at
  - findDuplicate
  - idempotent
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-01T16:17:51.850Z'
content_hash: f0a2c6492a09f77a
---
The `findDuplicate()` function in memory.ts checks for existing memories by matching both `occurred_at` (timestamp when the event occurred) and `content_hash` (SHA-256 prefix of content). This enables idempotent memory creation - if the same event is processed multiple times, it returns the existing memory rather than creating a duplicate.
