---
id: 83b7ae3a-f4c2-40e7-8b79-b03863d4dad0
subject: >-
  Memory extraction uses Claude Haiku with structured prompts for consistent
  extraction
keywords:
  - memory-extraction
  - claude-haiku
  - prompts
  - extraction-system
applies_to: global
occurred_at: '2025-12-01T23:07:50.383Z'
content_hash: 96fc5796989f5f44
---
The memory extraction system uses Claude Haiku (`claude-haiku-4-5-20251001`) to analyze transcripts and extract structured memories. The extraction uses a dedicated prompt system in `src/prompts/memory-extraction.ts` that provides Claude with specific guidelines for what constitutes a valuable memory, how to scope memories appropriately (global, file, area), and how to extract keywords.

Key implementation details:
- Uses streaming API for transcripts
- Memory extraction is asynchronous and runs in the background (every 5 minutes via MCP server)
- Extracted memories are validated and deduplicated based on `occurred_at` and `content_hash`
- The system prioritizes actionable, specific memories over generic knowledge
