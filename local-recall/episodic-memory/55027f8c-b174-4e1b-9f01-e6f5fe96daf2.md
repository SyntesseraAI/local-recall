---
id: 55027f8c-b174-4e1b-9f01-e6f5fe96daf2
subject: Core memory management components and vector store implementation
keywords:
  - memory-manager
  - vector-store
  - sqlite
  - embeddings
  - semantic-search
applies_to: 'area:core'
occurred_at: '2025-12-02T21:09:47.708Z'
content_hash: 53c5658440977392
---
Key components in `src/core/`:

- `memory.ts`: CRD operations (no update - memories are idempotent)
- `vector-store.ts`: SQLite-backed semantic search using better-sqlite3 and sqlite-vec extension
- `embedding.ts`: Uses fastembed library with BGE-small-en-v1.5 model (~133MB)
- `search.ts`: Semantic search implementation
- `transcript-collector.ts`, `transcript-condenser.ts`, `memory-extractor.ts`: Process transcripts

Vector store uses cosine distance similarity (0.0-1.0 scale, rounded to 2 decimals). Results ranked by score descending, with recency as tie-breaker for equal scores.
