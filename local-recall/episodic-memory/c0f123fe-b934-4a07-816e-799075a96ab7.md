---
id: c0f123fe-b934-4a07-816e-799075a96ab7
subject: >-
  Transcript collector filters synthetic transcripts before copying to avoid
  unnecessary I/O
keywords:
  - transcript-collector
  - synthetic transcripts
  - sync process
  - cleanup
  - optimization
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-21T19:23:07.179Z'
content_hash: 0cd1775876a99d55
---
The `syncTranscripts()` method in transcript-collector.ts was updated to check for synthetic transcripts **before** copying them from Claude's cache. Previously, synthetic files could be copied and then cleaned up, wasting I/O.

New flow (line ~239):
1. `cleanupTranscripts()` removes any existing synthetic files from `local-recall/transcripts/`
2. For each source transcript in Claude's cache, calls `isSyntheticFile(transcript.sourcePath)` to check if it's synthetic
3. Skips copying if synthetic (with debug log)
4. Only copies genuine transcripts

This optimization prevents unnecessary file copying operations for transcripts that would be immediately deleted.
