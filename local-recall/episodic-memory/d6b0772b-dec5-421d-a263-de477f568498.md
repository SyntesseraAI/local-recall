---
id: d6b0772b-dec5-421d-a263-de477f568498
subject: Transcript collector needs to discover Claude projects directory dynamically
keywords:
  - transcript-collector
  - claude-projects
  - dynamic-discovery
  - macos
  - home-directory
  - path-resolution
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:13:11.522Z'
content_hash: a95fe5b6840a0b26
---
# Dynamic Discovery of Claude Projects Directory

The transcript collector cannot assume a fixed path for Claude transcripts. Instead, it must:

1. **Locate the home directory**: Use `os.homedir()` to get the user's home directory
2. **Resolve to Claude projects**: Navigate to `<home>/.claude/projects/`
3. **Derive project folder**: Hash the current working directory (MD5/Base32) to find the correct project folder
4. **Access transcripts**: Look in `<project-folder>/transcripts/` for JSONL files

## Why Dynamic Discovery Matters

- Users may have different home directory locations
- The project folder name is deterministically generated from the working directory path
- Hard-coding paths will break for different environments
- This approach is platform-aware (works on macOS and should work on other OS)

## Implementation Approach

The collector should:
- Use Node.js `path` module for path manipulation
- Use `os.homedir()` for cross-platform home directory resolution
- Implement hash function matching Claude's path generation algorithm
- Handle cases where transcript directory doesn't exist yet
- Gracefully handle missing or inaccessible transcript files
