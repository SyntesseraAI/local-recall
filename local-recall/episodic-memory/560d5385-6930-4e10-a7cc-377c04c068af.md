---
id: 560d5385-6930-4e10-a7cc-377c04c068af
subject: >-
  Claude Code hooks handle memory injection via SessionStart and
  UserPromptSubmit
keywords:
  - hooks
  - claude-code
  - session-start
  - user-prompt-submit
  - memory-injection
applies_to: 'area:hooks'
occurred_at: '2025-12-02T13:04:42.071Z'
content_hash: 472983a2ee01ad53
---
SessionStart hook: Loads 5 most recent memories (sorted by `occurred_at`) without vector store (avoids slow initialization). UserPromptSubmit hook: Initializes vector store (lazy, cached after first use) and performs semantic search before Claude processes prompt. Both output matching memories to stdout for injection into Claude's context. Stop hook is disabled; memory extraction handled by MCP server daemon instead.
