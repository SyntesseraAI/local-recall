---
id: f04e5a7e-6af2-4c02-96dc-c8d5b3e47553
subject: Transcript condensing implementation for memory extraction
keywords:
  - transcript
  - condense
  - summarization
  - memory-extraction
  - claude-api
  - token-efficiency
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T16:12:31.503Z'
content_hash: f809393aaadb3080
---
# Transcript Condensing for Memory Extraction

When extracting memories from transcripts, the full transcript should be condensed before sending to Claude for analysis. This reduces token usage and focuses Claude's analysis on the most important events.

## Condensing Process

1. Filter out verbose or repetitive events (e.g., tool outputs with large content)
2. Summarize tool results into brief status indicators (OK/ERROR)
3. Keep user requests and assistant responses intact
4. Preserve structural information (what tools were called, what happened)
5. Remove sensitive data before condensing

## Benefits

- Significantly reduces token usage when processing long transcripts
- Maintains context while removing noise
- Allows Claude to focus on extracting valuable patterns and lessons learned
- Enables processing of longer sessions that would otherwise exceed token limits

## Implementation

The `condenseTranscript()` function in `src/core/transcript-collector.ts` handles this condensing before memories are extracted via Claude API.
