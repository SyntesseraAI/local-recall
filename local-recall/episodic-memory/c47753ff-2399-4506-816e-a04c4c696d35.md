---
id: c47753ff-2399-4506-816e-a04c4c696d35
subject: >-
  Memory extraction uses Claude Haiku to parse transcripts into structured
  memories
keywords:
  - memory-extractor
  - claude-haiku
  - transcript-parsing
  - memory-extraction
  - mcp-server
applies_to: global
occurred_at: '2025-12-01T21:58:07.918Z'
content_hash: e78e9a3cf1fb196e
---
The memory extraction system in `src/core/memory-extractor.ts` uses Claude Haiku with a specialized prompt to analyze session transcripts and extract valuable memories. The process:

1. Reads condensed transcript events from Claude's transcript cache
2. Sends transcript + extraction prompt to Claude Haiku via MCP server
3. Claude returns structured JSON with extracted memories
4. Memories are validated for required fields (subject, keywords, applies_to, content)
5. Duplicate memories are detected using occurred_at + content_hash
6. Successfully extracted memories are created via the memory manager

The extraction prompt is in `src/prompts/memory-extraction.ts` and instructs Claude to identify:
- Architectural decisions and reasoning
- Bug fixes and root causes
- Code patterns and conventions
- Configuration quirks
- User preferences
- Important component relationships

Extracted memories help future AI assistants understand codebase context without re-analyzing past transcripts.
