---
id: 1b1144ad-de69-4909-9510-baa6dbe5af54
subject: >-
  Transcript collector processes Claude transcripts asynchronously every 5
  minutes in background daemon
keywords:
  - transcript-collector
  - mcp-server
  - background-daemon
  - memory-extraction
  - async
  - polling
  - interval
applies_to: 'area:mcp-server'
occurred_at: '2025-12-02T01:53:18.922Z'
content_hash: 304044121aaa2379
---
# Transcript Collection in MCP Server

The MCP server runs a background daemon that:
1. Polls the transcript directory every 5 minutes
2. Reads new or changed `.jsonl` transcript files
3. Processes them to extract memories using Claude Haiku
4. Tracks processed transcripts by content hash to detect changes
5. Deletes old memories and recreates them when transcripts change

This asynchronous processing means memories are not created synchronously when prompts are submitted, but rather are batch-processed periodically in the background.

## Relevant Files
- `src/core/transcript-collector.ts` - Handles transcript discovery and processing
- `src/mcp-server/server.ts` - Main daemon loop with 5-minute interval
