---
id: 8b622caa-e3c4-4c21-9e84-e43738f704a6
subject: Memory extraction uses Claude API with streaming for efficient processing
keywords:
  - memory-extractor
  - claude-api
  - streaming
  - tokens
  - cost-optimization
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:27:28.115Z'
content_hash: 64e771ea3f045a53
---
The memory extraction system uses Claude's API directly (not the CLI) with streaming enabled. This approach:
- Reduces token costs by processing transcripts incrementally
- Uses `claude-3-5-haiku-20241022` model for efficiency
- Implements streaming with token counting to track API usage
- The `memory-extractor.ts` file contains the core extraction logic
- Memory extraction prompts are defined in `src/prompts/memory-extraction.ts`

This is more efficient than using the CLI approach (`claude -p`) previously mentioned in documentation.
