---
id: aa5d3d4b-65d9-4f18-87c2-f2ff34835162
subject: >-
  Claude Code hooks provide context injection at SessionStart and
  UserPromptSubmit
keywords:
  - hooks
  - claude-code
  - session-start
  - user-prompt-submit
  - context-injection
applies_to: global
occurred_at: '2025-12-02T17:54:44.447Z'
content_hash: 0990d83be44906bc
---
Claude Code integration uses hooks configured in hooks.json:

**SessionStart Hook**: Triggered when session begins, loads 5 most recent memories (sorted by occurred_at) via MemoryManager.listMemories() and outputs to stdout for context injection. Vector store not used here to avoid slow initialization.

**UserPromptSubmit Hook**: Triggered before Claude processes user prompt, initializes vector store (lazy, cached after first use) and performs semantic search on the user's prompt, outputting matching memories for context injection.

**Stop Hook**: Currently disabled. Memory extraction handled by MCP server daemon processing transcripts asynchronously every 5 minutes.

Hooks are installed as shell commands in .claude/settings.json with configurable paths for npm packages or local development.
