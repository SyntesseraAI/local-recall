---
id: a95f2d3e-616d-440a-a5b7-6a2fb6315f1b
subject: >-
  Transcript condensing implementation extracts user and assistant messages from
  JSONL
keywords:
  - transcript
  - condensing
  - jsonl
  - parsing
  - user-messages
  - assistant-messages
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T15:59:09.544Z'
content_hash: abfbfbf6c27109c1
---
# Transcript Condensing

The transcript condensing feature processes Claude JSONL transcript files to extract user and assistant messages.

## JSONL Structure

Each line in the transcript file is a JSON object representing a single event. The relevant fields for condensing are:
- `type`: Event type ("user_message", "assistant_message", etc.)
- `content`: Message content (can be string or array of objects with `type` and `text`)

## Extraction Logic

When condensing:
1. Parse each JSON line from the JSONL file
2. Filter for `type === "user_message"` and `type === "assistant_message"`
3. Extract text content - handle both string and array formats
4. Format as `[User] <text>` or `[Assistant] <text>`
5. Concatenate all messages into a single condensed transcript

This allows the memory extraction system to work with a simplified, human-readable format while preserving all conversational content.
