---
id: 9cd70e0c-0cd7-40c5-9d9d-a69c2705622d
subject: >-
  Vector store uses cosine distance similarity with recency tie-breaker for
  ranking
keywords:
  - vector-store
  - search-ranking
  - similarity-scoring
  - recency
  - sqlite-vec
applies_to: global
occurred_at: '2025-12-02T12:47:39.521Z'
content_hash: 71fa569b8c830b2a
---
The vector store (src/core/vector-store.ts) uses better-sqlite3 with sqlite-vec extension for semantic search. Search results are ranked by:
- **Primary**: Cosine distance similarity (0.0-1.0 scale, rounded to 2 decimals)
- **Tie-breaker**: Recency (more recent occurred_at timestamps ranked first when scores are equal)

This ensures both semantic relevance and temporal proximity in memory retrieval.
