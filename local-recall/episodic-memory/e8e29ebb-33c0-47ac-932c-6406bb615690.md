---
id: e8e29ebb-33c0-47ac-932c-6406bb615690
subject: >-
  Memory extraction process uses Claude API with structured prompts to identify
  and extract actionable memories from transcripts
keywords:
  - memory-extractor
  - claude-api
  - transcript-processing
  - memory-extraction
  - prompts
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T21:44:13.427Z'
content_hash: d2f1cdf12d0b56b4
---
The MemoryExtractor class uses the Anthropic Claude API to analyze transcripts and extract memories. Key implementation details:

- Uses `messages` API with system and user prompts
- Processes transcripts in configurable chunk sizes to stay within token limits
- Extracts JSON array of Memory objects with metadata (subject, keywords, applies_to, occurred_at)
- Uses SHA-256 content hashing for deduplication
- Automatically generates unique UUIDs for new memories
- Handles API errors gracefully with retry logic
- The extraction prompt guides Claude to identify architectural decisions, bug fixes, code patterns, and important relationships

Key files involved:
- `src/core/memory-extractor.ts` - Main extractor class
- `src/prompts/memory-extraction.ts` - System and user prompt templates
- Uses Anthropic SDK for API calls
