---
id: 35199b43-388f-4ffc-8543-f3c62df94a10
subject: MemoryManager must ensure .gitignore creation during directory setup
keywords:
  - gitignore
  - memory-manager
  - initialization
  - directory-creation
  - bug-fix
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-02T06:49:06.269Z'
content_hash: 71c4b9d8148a9f42
---
The MemoryManager class was creating the `local-recall/memories/` directory but not ensuring the parent `.gitignore` file existed. This caused the `.gitignore` file to never be created unless IndexManager.buildIndex() was called. The fix: ensure ensureGitignore() is called when initializing the memory directory in MemoryManager.ensureMemoryDir(). This ensures the .gitignore file is always created, even if no memories are written during a session.
