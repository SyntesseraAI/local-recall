---
id: 2dfb0608-fe69-4414-b243-646cdc058d63
subject: Memory extraction handles Zod validation errors with detailed logging
keywords:
  - memory-extractor
  - zod
  - validation
  - error-handling
  - debugging
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-21T18:19:06.772Z'
content_hash: 5067a813db9b9fec
---
When Zod validation fails in memory extraction, the error handler at lines 226-230 logs detailed validation error information. The error object contains an 'issues' array with field-level validation failures. This helps identify which specific fields failed validation and why.

During debugging, check:
1. Exact field names returned by Claude vs schema expectations
2. Whether values are null/undefined vs wrong type
3. Whether fields are missing entirely vs present with wrong values

Field normalization was added before Zod validation to handle common naming discrepancies from Claude's responses.
