---
id: da06eef4-36db-457b-ae5b-463ad23b6e18
subject: >-
  Claude Code transcript format uses content blocks array with thinking
  extraction
keywords:
  - transcript
  - thinking
  - content blocks
  - parsing
  - claude code
applies_to: global
occurred_at: '2025-12-21T18:28:38.979Z'
content_hash: 80c7ccd3efa5eb56
---
Claude Code transcripts have a different format than initially expected:

- `content` is an **array of content blocks**, not a string
- Thinking blocks have `type: "thinking"` with a `thinking` field
- Text blocks have `type: "text"` with a `text` field
- Tool blocks include `type: "tool_use"` and `type: "tool_result"`

The transcript parser in `src/utils/transcript.ts` was updated to:
1. Extract thinking from content blocks during parsing
2. Support both old (string content) and new (array content) formats for backward compatibility
3. Normalize to a consistent internal format with `thinking` and `content` at message level

This allows thinking memories to be properly captured from actual Claude Code sessions.
