---
id: 9082bcca-1cbb-4594-b996-8bf29a754dcf
subject: >-
  TranscriptCollector needs to parse Claude's JSON transcript format for memory
  extraction
keywords:
  - transcript
  - json
  - parsing
  - events
  - tool-calls
  - memory-extraction
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:17:39.090Z'
content_hash: e2073a2abc9432ef
---
# Transcript Format and Parsing

Claude stores transcripts as JSON Lines (.jsonl) where each line contains an event object.

## Event Structure

Each event in the transcript has:
- `type`: Event type (e.g., 'user_message', 'assistant_message', 'tool_call')
- `timestamp`: ISO-8601 timestamp
- `content`: The actual event content
- Additional type-specific fields

## Common Event Types

- `user_message`: User input to Claude
- `assistant_message`: Claude's response
- `tool_call`: When Claude invokes a tool
- `tool_result`: Result returned from a tool

## Parsing Requirements

The transcript-collector needs to:
1. Read .jsonl files line-by-line
2. Parse each line as JSON
3. Extract relevant information for memory creation
4. Handle malformed or incomplete transcripts gracefully

## Usage Context

This is used by the MCP server daemon to asynchronously process transcripts every 5 minutes and extract memories automatically.
