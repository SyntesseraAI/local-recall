---
id: 549de143-6bb0-47a0-b3e0-8d9ee3840040
subject: MCP server daemon processes transcripts asynchronously every 5 minutes
keywords:
  - mcp server
  - daemon
  - transcript processing
  - background
  - schedule
  - memory extraction
applies_to: 'file:src/mcp-server/server.ts'
occurred_at: '2025-12-21T18:59:36.143Z'
content_hash: 156ccf4bfe62e8fd
---
The MCP server runs a background daemon that:
1. Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
2. Processes transcripts using `claude -p` to extract memories asynchronously
3. Tracks processed transcripts with content hashes for change detection
4. Deletes and recreates memories when transcripts change
5. Runs on a 5-minute interval

This background processing allows memory extraction without blocking the main hook execution path.
