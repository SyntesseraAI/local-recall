---
id: 20b03852-b629-4b8d-b4e1-0284fe0e6840
subject: >-
  Vector store uses SQLite with sqlite-vec extension and BGE-small-en-v1.5
  embedding model
keywords:
  - vector-store
  - sqlite-vec
  - embeddings
  - semantic-search
  - bge-model
applies_to: 'area:vector-store'
occurred_at: '2025-12-02T22:03:51.197Z'
content_hash: 0b9dd6002401e1b1
---
The vector store implementation uses:
- `better-sqlite3` for database operations
- `sqlite-vec` extension for vector similarity search
- `fastembed` library with BGE-small-en-v1.5 model (~133MB) for embeddings

Embedding model is automatically downloaded to `local_cache/` on first use. First run may take 30-60 seconds for download, subsequent runs load from cache.

Search results use cosine distance similarity scoring (0.0 to 1.0 range, rounded to 2 decimal places). Results are sorted by score descending, with recency (`occurred_at`) as a tie-breaker when scores are equal.

The vector store is lazily initialized in the UserPromptSubmit hook and cached after first use to avoid slow initialization on every session start.
