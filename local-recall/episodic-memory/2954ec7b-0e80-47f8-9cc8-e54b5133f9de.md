---
id: 2954ec7b-0e80-47f8-9cc8-e54b5133f9de
subject: Memory extraction process overview and MCP server integration
keywords:
  - memory-extraction
  - mcp-server
  - transcript-processing
  - claude-haiku
  - background-daemon
applies_to: global
occurred_at: '2025-12-01T15:53:21.134Z'
content_hash: a27b0fcca1508298
---
# Memory Extraction Process

The local-recall system extracts memories from Claude Code session transcripts through the MCP server's background daemon:

1. **Transcript Collection**: Daemon reads JSONL transcripts from `~/.claude/projects/<project-folder>/transcripts/`
2. **Change Detection**: Uses content hashes to identify new or modified transcripts
3. **Memory Generation**: Processes transcripts with `claude -p --model haiku` to extract structured memories
4. **Storage**: Creates/updates memory markdown files in `local-recall/episodic-memory/`
5. **Index Update**: Rebuilds the keyword index for searching
6. **Frequency**: Runs every 5 minutes (configurable)

The Stop hook is disabled - memory creation is handled entirely by the MCP server daemon approach.
