---
id: 03752df5-a4d8-4df7-ab16-0e3274242681
subject: >-
  Memory extraction should filter internal system prompts from transcript
  analysis
keywords:
  - transcript-collector
  - filtering
  - system prompts
  - local-recall-internal
  - memory extraction
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:32:39.794Z'
content_hash: 09014ba0c7299035
---
The transcript-collector.ts should implement filtering to exclude `[LOCAL_RECALL_INTERNAL]` prefixed content and the memory extraction prompt itself from being processed as regular transcript content. This prevents the infinite loop where the system analyzes its own internal workings as user interaction.

Recommended approach:
1. Mark memory extraction prompts with a special prefix that can be filtered
2. Strip these markers before parsing transcripts for memory content
3. Only analyze actual user/assistant/tool exchanges for memory extraction
