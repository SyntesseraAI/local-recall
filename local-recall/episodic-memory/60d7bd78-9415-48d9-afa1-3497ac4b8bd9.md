---
id: 60d7bd78-9415-48d9-afa1-3497ac4b8bd9
subject: Memory extraction uses streaming responses with claude-3-5-sonnet model
keywords:
  - memory-extractor
  - streaming
  - claude-3-5-sonnet
  - transcript-processing
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:14:52.811Z'
content_hash: 1a5045add2696004
---
The MemoryExtractor class in memory-extractor.ts uses `response.stream()` to get streaming responses from the Claude API with the claude-3-5-sonnet-20241022 model. This allows processing transcript content incrementally rather than waiting for the full response.

Key implementation details:
- Uses `Anthropic` client from @anthropic-ai/sdk
- Calls `extractMemoriesStreaming()` method which yields parsed memories
- Memory extraction prompt is in src/prompts/memory-extraction.ts
- Handles streaming with try-catch for robust error handling
