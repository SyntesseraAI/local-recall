---
id: 9b0fbc32-1b62-4d68-8bba-14b2070d584b
subject: UUID format expected in memory IDs and deduplication
keywords:
  - uuid
  - memory-id
  - deduplication
  - content-hash
  - occurred-at
  - idempotent
applies_to: global
occurred_at: '2025-12-01T16:23:04.128Z'
content_hash: 12782a4bdc5283bf
---
# Memory ID and Deduplication

## UUID Format

Memory IDs should be generated as UUIDs (typically v4). This ensures:
- Uniqueness across all memories
- Ability to track memory provenance
- Compatibility with database systems

## Deduplication Strategy

Memories are deduplicated using:
1. `occurred_at` timestamp - when the event/memory was created
2. `content_hash` - SHA-256 hash prefix (first 16 chars) of the content

Before creating a new memory, check if a duplicate exists using `findDuplicate(occurredAt, contentHash)`.

This approach:
- Prevents duplicate memories when processing the same transcript multiple times
- Allows memories to be recreated if content changes (different hash)
- Maintains idempotency of the memory system
