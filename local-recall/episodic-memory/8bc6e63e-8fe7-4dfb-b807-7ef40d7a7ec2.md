---
id: 8bc6e63e-8fe7-4dfb-b807-7ef40d7a7ec2
subject: Migrated from index.json to SQLite with vector embeddings for semantic search
keywords:
  - sqlite
  - migration
  - vector-store
  - indexing
  - architecture
applies_to: global
occurred_at: '2025-12-03T09:47:48.632Z'
content_hash: 6c34eb744294ee1e
---
The project has migrated from a JSON-based index (`index.json`) to SQLite with vector embeddings for semantic search. The new architecture uses:

- `src/core/vector-store.ts`: SQLite-backed vector store using `better-sqlite3` with the `sqlite-vec` extension
- `src/core/embedding.ts`: Generates embeddings using `fastembed` with BGE-small-en-v1.5 model
- `local-recall/memory.sqlite`: Auto-generated database (gitignored)

Data flows into SQLite through three pathways:
1. On memory creation: `MemoryManager.createMemory()` â†’ `vectorStore.add(memory)`
2. On MCP server startup: `vectorStore.sync(memories)` loads all disk memories
3. During transcript processing: Memories are added as they're extracted
