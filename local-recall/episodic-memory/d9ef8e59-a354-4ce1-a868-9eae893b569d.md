---
id: d9ef8e59-a354-4ce1-a868-9eae893b569d
subject: >-
  Stop hook is disabled; memory extraction is handled by MCP server daemon
  running every 5 minutes
keywords:
  - stop-hook
  - memory-extraction
  - mcp-daemon
  - transcript-processing
applies_to: global
occurred_at: '2025-12-02T16:19:51.746Z'
content_hash: a614d48c2cbf02d9
---
The Stop hook is currently disabled. Instead, memory extraction is handled by a background daemon in the MCP server that:

- Runs every 5 minutes
- Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
- Processes transcripts using `claude -p` to extract memories
- Tracks processed transcripts with content hashes for change detection
- Deletes and recreates memories when transcripts change

This asynchronous approach allows memory extraction without blocking the session stop.
