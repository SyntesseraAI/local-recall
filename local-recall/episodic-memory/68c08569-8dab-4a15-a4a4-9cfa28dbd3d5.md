---
id: 68c08569-8dab-4a15-a4a4-9cfa28dbd3d5
subject: Claude Code hooks integrate memory system into sessions
keywords:
  - hooks
  - integration
  - session-start
  - user-prompt-submit
  - stop-hook
applies_to: 'file:src/hooks'
occurred_at: '2025-12-02T11:32:43.355Z'
content_hash: e55b1b9a6c9cbc12
---
Three hook types in hooks.json:
1. **SessionStart**: Loads memory index from local-recall/index.json when session begins
2. **UserPromptSubmit**: Extracts keywords from user prompt using claude -p --model haiku, searches memory index, outputs matching memories
3. **Stop**: Currently disabled - processing moved to MCP server daemon (runs every 5 minutes)

Hooks use ${CLAUDE_PLUGIN_ROOT} for script references and receive cwd via stdin.
