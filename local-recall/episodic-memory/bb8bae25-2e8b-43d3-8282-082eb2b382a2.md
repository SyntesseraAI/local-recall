---
id: bb8bae25-2e8b-43d3-8282-082eb2b382a2
subject: >-
  Memory extraction uses Claude Haiku with structured prompt for consistent
  formatting
keywords:
  - memory-extraction
  - claude-haiku
  - prompt-engineering
  - memory-format
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:08:11.334Z'
content_hash: 29da90250b009631
---
The memory extraction process uses Claude Haiku with a predefined prompt located in src/prompts/memory-extraction.ts. The prompt instructs Claude to return memories in a specific JSON format with fields: subject, keywords, applies_to, and content. This ensures consistent memory extraction across sessions.

Key implementation details:
- Uses `claude -p` to invoke Haiku model
- Passes transcript content to extraction prompt
- Parses returned JSON to create memory objects
- Memories are created via the memory manager with idempotent deduplication
