---
id: c628bec7-8062-4332-8c28-02bf94fa0c80
subject: Memory extraction requires transcript analysis with Claude API
keywords:
  - memory-extraction
  - transcript-processing
  - claude-api
  - python-sdk
  - mcp-server
applies_to: global
occurred_at: '2025-12-01T15:54:45.938Z'
content_hash: 73a2d7f5019cecc7
---
# Memory Extraction Process

## Current Challenge

The user asked about using `claude -p` (the Claude CLI) to extract memories from transcripts, but this approach has limitations:
- The `-p` flag is used for prompt input/output, not memory extraction
- Direct file processing via CLI is not practical for structured extraction

## Better Approach

Use the Claude Python SDK to:
1. Read transcript files from `~/.claude/projects/<project>/transcripts/`
2. Parse JSONL format to reconstruct conversation context
3. Send the transcript content to Claude API with a memory extraction prompt
4. Structure the response as memory objects with metadata

## Implementation Considerations

- The MCP server daemon needs to handle API authentication and rate limiting
- Transcripts should be processed incrementally to avoid missing new events
- Track processed transcripts by content hash to detect changes
- Store memories in the episodic-memory directory with appropriate frontmatter metadata
