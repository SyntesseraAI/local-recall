---
id: b9e4c532-9adb-4b06-9562-9ef8b8ae248f
subject: Transcript condensing feature implementation for memory extraction
keywords:
  - transcript
  - condensing
  - memory-extraction
  - events
  - compression
  - claude-api
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T16:06:22.282Z'
content_hash: d8a9ff2bb6785ee9
---
# Transcript Condensing for Memory Extraction

Implemented a transcript condensing feature to compress transcript data for memory extraction.

## Purpose

Transcript files can become very large (hundreds of MB). When extracting memories with Claude, sending the entire transcript is inefficient.

## Implementation Details

- Reads JSONL transcript files from `~/.claude/projects/<project>/transcripts/`
- Processes transcript events and condenses them into a compact event format
- Event format includes:
  - `[User]` - User messages
  - `[Assistant]` - Claude responses
  - `[Tool: ...]` - Tool invocations with names
  - `[Result: OK/ERROR]` - Tool execution results

## Location

Implemented in `src/core/transcript-collector.ts`

## Usage in Memory Extraction

The condensed transcript is used as context when calling Claude's API to extract memories, reducing token usage while preserving the essential information needed for memory extraction.
