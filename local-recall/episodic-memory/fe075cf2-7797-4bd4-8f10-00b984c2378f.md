---
id: fe075cf2-7797-4bd4-8f10-00b984c2378f
subject: Memory extraction from Claude Code transcripts - implementation approach
keywords:
  - memory-extraction
  - transcript-processing
  - mcp-server
  - session-extraction
  - condensing
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-02T02:23:14.799Z'
content_hash: 56df8d0319a5abf2
---
# Memory Extraction from Claude Transcripts

## Extraction Process

The MCP server processes Claude Code transcripts to extract memories. The extraction involves:

1. **Transcript Condensing**: Complex transcripts are condensed to reduce token usage when sent to Claude for analysis
2. **Memory Analysis**: Claude (Haiku) is used to analyze condensed transcripts and extract valuable memories
3. **Deduplication**: New memories are compared against existing ones using content hashes to prevent duplicates

## Key Considerations

- Transcripts can be very long, so condensing is necessary before sending to LLM for analysis
- The extraction process should identify: bugs fixed, architectural decisions, code patterns, and discoveries
- Memory deduplication uses `occurred_at` timestamp and `content_hash` to detect duplicates
- This process runs asynchronously every 5 minutes in the MCP server daemon

## Implementation Files

- `src/core/memory-extractor.ts`: Handles extraction logic
- `src/core/transcript-collector.ts`: Collects and manages transcripts
- `src/mcp-server/server.ts`: MCP daemon that runs extraction cycle
