---
id: 5b2c6d78-f1e2-40a8-8a16-448326685cc2
subject: Local Recall project structure and architecture overview
keywords:
  - local-recall
  - architecture
  - project-structure
  - memory-system
  - mcp-server
applies_to: global
occurred_at: '2025-12-02T11:57:20.944Z'
content_hash: 644f67d8efab0b5b
---
# Local Recall Architecture

Local Recall is a markdown-powered memory system for AI coding assistants. Key architectural components:

## Directory Structure
- `src/core/` - Core memory management (memory.ts, vector-store.ts, embedding.ts, search.ts)
- `src/hooks/` - Claude Code hooks (session-start.ts, user-prompt-submit.ts, stop.ts)
- `src/mcp-server/` - MCP server implementation for exposing memory tools
- `local-recall/` - Memory storage directory with episodic-memory/ subdirectory for markdown files
- `scripts/` - Build output containing bundled hooks and MCP server

## Memory File Format
Memories are stored as markdown files with YAML frontmatter:
- `id`: UUID
- `subject`: Brief description
- `keywords`: Array of searchable terms
- `applies_to`: Scope (global, file:<path>, or area:<name>)
- `occurred_at`: ISO-8601 timestamp
- `content_hash`: SHA-256 prefix for deduplication

## Core Components
- **Vector Store**: SQLite-backed semantic search using better-sqlite3 and sqlite-vec
- **Embedding**: fastembed library with BGE-small-en-v1.5 model (~133MB)
- **Hooks**: Session-start loads recent memories, UserPromptSubmit performs semantic search
- **MCP Server**: Exposes memory_create, memory_get, memory_search, memory_list, index_rebuild tools
