---
id: c56aa83c-8752-453e-8257-4fcce6617b33
subject: Memory extraction prompt structure and JSON schema
keywords:
  - memory format
  - yaml frontmatter
  - json schema
  - memory extraction
  - keywords
applies_to: 'file:src/prompts/memory-extraction.ts'
occurred_at: '2025-12-21T18:29:11.578Z'
content_hash: 313ea8cf2a09e21e
---
Memory extraction prompt output format:
- Returns JSON object with `memories` array
- Each memory has: `subject` (max 200 chars), `keywords` (1-10 lowercase), `applies_to` (scope), `content` (markdown)
- Prefix: `[LOCAL_RECALL_INTERNAL]` prevents hook recursion
- Must return ONLY valid JSON with no markdown formatting, code blocks, or explanation
- Scope values: `global`, `file:<path>`, or `area:<name>`
