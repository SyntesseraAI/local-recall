---
id: a4b3c199-6cc0-4978-91ff-5cfd3be194e6
subject: Transcript tests require updates for new content block structure
keywords:
  - testing
  - transcript parsing
  - test fixtures
  - content blocks
applies_to: 'file:tests/unit/utils/transcript.test.ts'
occurred_at: '2025-12-02T21:37:14.576Z'
content_hash: 9dae38a54b0474a8
---
Test cases needed to be updated when switching to content block parsing:

1. Validation tests changed from expecting errors to expecting silent skipping of invalid messages
2. analyzeForMemories tests needed multi-line content (single-line content gets filtered out)
3. Test fixtures must now use the proper content block format with `type` and either `thinking`, `text`, or tool-related fields

All transcript tests pass after these updates (verified with npx vitest run).
