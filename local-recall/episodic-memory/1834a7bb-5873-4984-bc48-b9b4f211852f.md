---
id: 1834a7bb-5873-4984-bc48-b9b4f211852f
subject: MCP server exposes memory tools and runs background daemon
keywords:
  - mcp server
  - memory tools
  - daemon
  - transcript processing
applies_to: 'area:mcp-server'
occurred_at: '2025-12-02T21:05:28.307Z'
content_hash: 5e7892760ea978de
---
The MCP server (src/mcp-server/server.ts) provides:

Available tools:
- `memory_create`: Create new memory (idempotent)
- `memory_get`: Retrieve specific memory by ID
- `memory_search`: Semantic search using vectors
- `memory_list`: List memories with optional filtering
- `index_rebuild`: Sync vector store with memory files

Background daemon:
- Syncs transcripts from Claude's cache (~/.claude/projects/<project>/transcripts/)
- Processes transcripts using claude -p to extract memories
- Tracks processed transcripts with content hashes for change detection
- Deletes and recreates memories when transcripts change
- Runs every 5 minutes
