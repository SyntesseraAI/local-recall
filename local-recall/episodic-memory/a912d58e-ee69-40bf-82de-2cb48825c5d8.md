---
id: a912d58e-ee69-40bf-82de-2cb48825c5d8
subject: Mutex errors occur with sqlite-vec when multiple processes load concurrently
keywords:
  - sqlite-vec
  - mutex
  - concurrent
  - loading
  - cross-process
  - file locking
applies_to: global
occurred_at: '2025-12-21T18:20:32.021Z'
content_hash: 165d4f806a47cc64
---
The codebase has a known issue where sqlite-vec can throw 'mutex lock failed: Invalid argument' errors when multiple processes attempt to load the library simultaneously. This is a cross-process synchronization problem that requires file locking mechanisms to prevent concurrent initialization. The concern is documented in src/mcp-server/server.ts around line 230.
