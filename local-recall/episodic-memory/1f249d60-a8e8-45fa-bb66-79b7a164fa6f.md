---
id: 1f249d60-a8e8-45fa-bb66-79b7a164fa6f
subject: >-
  Memory storage migrated from markdown to JSONL format for episodic and
  thinking memories
keywords:
  - storage-format
  - jsonl
  - markdown
  - migration
  - episodic-memory
  - thinking-memory
applies_to: global
occurred_at: '2025-12-21T18:22:39.533Z'
content_hash: a0ab00ee7e4b5e73
---
Recent migration changed how memories are stored:

**Episodic Memories**: Still stored as individual `.md` files in `local-recall/episodic-memory/` with YAML frontmatter and markdown content.

**Thinking Memories**: Migrated to JSONL format in `thinking-processed-log.jsonl` (not individual files).

**Processed Logs**: Both have JSONL processed logs:
- `episodic-processed-log.jsonl` - Tracks which transcripts have been processed for episodic extraction
- `thinking-processed-log.jsonl` - Tracks which transcripts have been processed for thinking extraction

**Key files**:
- `src/core/episodic-jsonl-store.ts` - Manages episodic processed log
- `src/core/thinking-jsonl-store.ts` - Manages thinking processed log
- `src/core/thinking-memory.ts` - CRUD for thinking memories (stored in JSONL)

**Migration details**:
- Thinking memories are now appended to a single JSONL file rather than individual markdown files
- Each line is a valid JSON object representing one thinking memory
- Episodic memories remain as individual markdown files for git version control

**Important**: The thinking memory storage uses append-only JSONL, which means concurrent writes can corrupt the file. This is part of the broader concurrency issue affecting the project.
