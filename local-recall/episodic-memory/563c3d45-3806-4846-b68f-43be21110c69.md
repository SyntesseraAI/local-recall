---
id: 563c3d45-3806-4846-b68f-43be21110c69
subject: >-
  Hook error handling should include detailed timing and stack traces for
  debugging
keywords:
  - hooks
  - error handling
  - timing
  - stack traces
  - user-prompt-submit
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-21T19:16:09.210Z'
content_hash: 61f53811800923df
---
The UserPromptSubmit hook was improved to include:
- Operation timing for SearchEngine and ThinkingSearchEngine instantiation
- Full stack traces when errors occur
- Clear logging at each step (initialization, search, combining results)
- Detailed error messages that capture the full context

This makes it much easier to identify whether errors are in initialization, search execution, or result combination.
