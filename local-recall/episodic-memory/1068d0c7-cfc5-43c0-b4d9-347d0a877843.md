---
id: 1068d0c7-cfc5-43c0-b4d9-347d0a877843
subject: Vector store singleton needs reset function for test isolation
keywords:
  - vector-store
  - singleton
  - testing
  - reset
  - test-isolation
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-21T18:17:30.301Z'
content_hash: 80c9b458c98373ba
---
Added a `resetInstance()` function to reset the vector store singleton between tests. Without this, the singleton state persisted across test cases, causing integration tests to fail due to memories from previous tests remaining in the store. Tests now call `resetInstance()` in their beforeEach/afterEach hooks.
