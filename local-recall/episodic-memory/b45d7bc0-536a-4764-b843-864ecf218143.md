---
id: b45d7bc0-536a-4764-b843-864ecf218143
subject: analyzeForMemories function extracts thinking and content as separate memories
keywords:
  - memory extraction
  - thinking blocks
  - function logic
  - analysis
applies_to: 'file:src/hooks/stop.ts'
occurred_at: '2025-12-01T15:58:32.988Z'
content_hash: 6f7e2182684843a7
---
Updated analyzeForMemories function to iterate through thinking blocks in assistant messages and save each one as a separate memory (even single-line blocks), while also saving multiline content/answers. This dual-capture approach ensures both the reasoning process and the actual output are preserved as memories for future assistants.
