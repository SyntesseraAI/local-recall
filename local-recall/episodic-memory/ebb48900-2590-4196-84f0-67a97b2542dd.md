---
id: ebb48900-2590-4196-84f0-67a97b2542dd
subject: Stop hook is disabled; MCP server daemon handles async memory extraction
keywords:
  - stop hook
  - mcp server
  - daemon
  - transcript processing
applies_to: 'area:hooks'
occurred_at: '2025-12-02T12:58:50.561Z'
content_hash: 38b31f7ee79a03d4
---
The Stop hook is currently disabled. Instead, memory extraction is handled asynchronously by the MCP server daemon which:

1. Processes transcripts every 5 minutes
2. Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
3. Uses `claude -p` to extract memories from transcripts
4. Tracks processed transcripts with content hashes for change detection
5. Deletes and recreates memories when transcripts change

This approach decouples transcript processing from session end events.
