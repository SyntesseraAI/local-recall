---
id: b8ee5b5b-e749-47c8-b8c9-e629eebf3d29
subject: Hooks architecture with three integration points for Claude Code
keywords:
  - hooks
  - session-start
  - user-prompt-submit
  - stop
  - claude code integration
  - context injection
applies_to: global
occurred_at: '2025-12-21T18:19:38.550Z'
content_hash: 2dc8594bd999b9c9
---
Local Recall has three hooks that integrate with Claude Code:

1. **SessionStart Hook** (`src/hooks/session-start.ts`): Triggered when a Claude Code session begins. Loads memory index, searches for relevant memories, and outputs them to stdout for context injection. Shows index stats (total memories).

2. **UserPromptSubmit Hook** (`src/hooks/user-prompt-submit.ts`): Triggered when user submits a prompt. Handles semantic search and memory retrieval before Claude processes the prompt.

3. **Stop Hook** (`src/hooks/stop.ts`): Executes when session ends. Used for transcript collection and memory extraction from session transcripts.

All hooks use stdout to inject memories into Claude's context.
