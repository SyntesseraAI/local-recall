---
id: 5e58d7c9-0737-4d34-9454-b3320dee1b71
subject: >-
  Memory schema includes occurred_at for tracking when events happened, enabling
  proper episodic ordering
keywords:
  - schema
  - memory
  - occurred_at
  - timestamp
  - episodic
applies_to: 'file:src/core/types.ts'
occurred_at: '2025-12-21T18:20:12.298Z'
content_hash: ecdf3a48e01c3bf8
---
# Memory Schema: occurred_at Field

## Purpose
`occurred_at` (ISO-8601 timestamp) marks when the original conversation/event occurred, not when the memory was created.

## Usage
1. **Deduplication**: Part of dedup key (occurred_at + content_hash)
2. **Ordering**: Memories sorted by occurred_at descending (most recent first)
3. **Tie-breaking**: When search scores are equal, recency wins
4. **Episodic context**: Preserves chronological order of learning

## In CreateMemoryInput
- `occurred_at` is required and comes from the transcript entry timestamp
- Separate from `created_at` which is auto-generated when memory file is written

## Contrast with created_at
- `created_at`: When the memory file was written (auto-generated)
- `occurred_at`: When the event/learning occurred in the conversation

This distinction is crucial for episodic memory - the "when did I learn this" vs "when did I process it" are different timestamps.
