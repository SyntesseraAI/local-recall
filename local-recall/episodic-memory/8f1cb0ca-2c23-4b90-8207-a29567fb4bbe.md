---
id: 8f1cb0ca-2c23-4b90-8207-a29567fb4bbe
subject: >-
  Claude Code hooks are configured in hooks.json and execute as shell commands
  receiving JSON stdin
keywords:
  - hooks
  - claude-code
  - session-start
  - user-prompt-submit
  - integration
applies_to: global
occurred_at: '2025-12-02T21:41:35.797Z'
content_hash: 049673b5f61160fe
---
Three hooks are configured:

1. **SessionStart**: Triggered on session begin, loads 5 most recent memories via MemoryManager.listMemories(), outputs to stdout for context injection. No vector store used (avoids slow initialization on every session).

2. **UserPromptSubmit**: Triggered before Claude processes user prompt, initializes vector store (lazy, cached), performs semantic search, outputs matching memories.

3. **Stop**: Currently disabled. Memory extraction handled by MCP server daemon processing transcripts asynchronously every 5 minutes.

Hook configuration paths: `.claude/settings.json` for Claude Code, `claude_desktop_config.json` for Claude Desktop.
