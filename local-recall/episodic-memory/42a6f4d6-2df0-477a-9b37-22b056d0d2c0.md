---
id: 42a6f4d6-2df0-477a-9b37-22b056d0d2c0
subject: Memory deduplication uses occurred_at timestamp and content_hash
keywords:
  - deduplication
  - duplicate detection
  - occurred_at
  - content_hash
  - idempotent
  - memory creation
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-01T22:25:48.966Z'
content_hash: 38befc66843020e6
---
Memories are deduplicated using two fields: `occurred_at` (ISO-8601 timestamp of when the original event occurred) and `content_hash` (SHA-256 prefix, 16 characters). The `findDuplicate()` function checks for existing memories with matching occurred_at and content_hash before creation. The `createMemory()` function is idempotent - calling it multiple times with the same data returns the existing memory instead of creating duplicates.
