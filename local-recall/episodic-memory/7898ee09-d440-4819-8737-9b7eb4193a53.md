---
id: 7898ee09-d440-4819-8737-9b7eb4193a53
subject: Memory extraction happens asynchronously via MCP server daemon
keywords:
  - memory
  - extraction
  - mcp
  - daemon
  - transcript
  - asynchronous
  - 5-minute-interval
applies_to: global
occurred_at: '2025-12-01T23:10:38.045Z'
content_hash: 92be2405f267d956
---
# Memory Extraction via MCP Server

The Stop hook is currently disabled. Memory extraction is handled by the MCP server daemon which processes transcripts asynchronously.

## How It Works

1. The MCP server daemon runs in the background
2. It syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
3. It processes transcripts using Claude to extract memories
4. It tracks processed transcripts with content hashes for change detection
5. It deletes and recreates memories when transcripts change
6. The process runs every 5 minutes

## Why This Approach

Asynchronous processing is better than the Stop hook because:
- Doesn't block the user when stopping a session
- Allows incremental processing of long sessions
- Handles transcript updates gracefully
- More reliable than shell-based processing
