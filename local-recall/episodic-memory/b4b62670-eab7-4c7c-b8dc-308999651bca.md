---
id: b4b62670-eab7-4c7c-b8dc-308999651bca
subject: MemoryManager must ensure .gitignore exists in parent directory
keywords:
  - gitignore
  - memory-manager
  - initialization
  - directory-structure
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-21T19:15:27.713Z'
content_hash: 24bb339ea6ef7e1d
---
The `MemoryManager` class creates the `local-recall/memories/` directory but wasn't ensuring the `.gitignore` file existed in the parent `local-recall/` directory. This caused the `.gitignore` to not be created unless the `IndexManager` was explicitly invoked first. The fix involves storing the base directory as a class property and calling an `ensureGitignore()` method during initialization to create the parent `.gitignore` file with appropriate ignore patterns for index files and logs.
