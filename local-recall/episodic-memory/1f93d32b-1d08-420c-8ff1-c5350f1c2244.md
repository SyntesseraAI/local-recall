---
id: 1f93d32b-1d08-420c-8ff1-c5350f1c2244
subject: Memory extraction field name normalization for Claude Haiku responses
keywords:
  - memory-extractor
  - claude-haiku
  - field-normalization
  - zod-validation
  - parsing
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-21T18:19:47.354Z'
content_hash: f1a6ab5587f30417
---
Claude Haiku sometimes returns memory objects with alternative field names instead of the expected `subject`, `keywords`, `applies_to`, `content`. Added field name normalization in the `parseClaudeResponse` function (lines 179-186) to map common variations:

- `title` → `subject`
- `summary` → `subject`
- `description` → `content`
- `scope` → `applies_to`
- `tags` → `keywords`

This normalization happens before Zod validation, preventing validation errors when Claude uses slightly different field naming conventions.
