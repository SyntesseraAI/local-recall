---
id: 8b7606b2-8df1-4797-b27d-cde94ce0e818
subject: >-
  Memory extraction uses Claude API with thinking blocks to identify valuable
  insights from transcripts
keywords:
  - memory-extractor
  - claude-api
  - thinking-blocks
  - transcript-processing
  - memory-extraction
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T22:06:03.791Z'
content_hash: dba152b911cfbabe
---
The memory extractor in `src/core/memory-extractor.ts` uses Claude's API to process transcripts and extract memories. It leverages thinking blocks to help Claude reason about what's valuable to remember. The extractor handles:

- Batch processing of transcript segments (up to 20 parallel)
- Deduplication using `occurredAt` timestamp and content hash
- Filtering out trivial or already-known information
- Extracting structured memory objects with subject, keywords, applies_to scope, and content

The extraction process uses prompts defined in `src/prompts/memory-extraction.ts` that guide the model on what to extract and in what format.
