---
id: e9fe92de-a6df-493b-bc1f-3032942d1ac8
subject: Plugin hooks were using stale better-sqlite3 dependency that no longer exists
keywords:
  - plugin
  - hooks
  - better-sqlite3
  - stale
  - migration
  - orama
applies_to: 'area:plugin'
occurred_at: '2025-12-21T18:27:23.198Z'
content_hash: 426109ec367fff86
---
The dev-marketplace/local-recall-plugin had stale hook files (user-prompt-submit-thinking.js) that tried to import 'better-sqlite3', a native module that cannot be bundled. The main project migrated from SQLite to Orama (pure JavaScript) for vector search, but the plugin's bundled hooks were not updated. The stale file was removed and hooks.json was updated to use the current user-prompt-submit.js which uses Orama instead.
