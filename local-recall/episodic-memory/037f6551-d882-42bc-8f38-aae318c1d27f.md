---
id: 037f6551-d882-42bc-8f38-aae318c1d27f
subject: >-
  Thinking blocks in transcripts must be captured alongside content for complete
  memory extraction
keywords:
  - thinking content
  - assistant thinking
  - transcript format
  - memory extraction
  - content blocks
applies_to: 'file:src/utils/transcript.ts'
occurred_at: '2025-12-01T23:16:45.613Z'
content_hash: 3468c928ceb1be0a
---
When parsing transcripts, both assistant thinking AND multiline content must be captured as separate memories:

- **All thinking content** should be saved (even single-line thinking gets saved with [Thinking] prefix)
- **Only multiline content/answers** should be saved (single-line answers are dropped)
- Thinking blocks in JSONL have type='thinking' with a 'thinking' property (not 'text')
- Content blocks can have type='text' with a 'text' property or type='thinking' with a 'thinking' property

The extractTextFromBlocks() and extractThinkingFromBlocks() helper functions in transcript.ts handle this distinction correctly and should be reused rather than reimplemented elsewhere.
