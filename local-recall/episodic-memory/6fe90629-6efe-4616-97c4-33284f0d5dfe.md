---
id: 6fe90629-6efe-4616-97c4-33284f0d5dfe
subject: >-
  SessionStart hook loads 5 most recent memories without vector store,
  UserPromptSubmit hook performs semantic search with lazy-loaded vector store
keywords:
  - hooks
  - session-start
  - user-prompt-submit
  - memory-loading
  - vector-search
applies_to: global
occurred_at: '2025-12-02T12:03:20.706Z'
content_hash: 1e337cb741801d71
---
SessionStart hook (triggered when Claude Code session begins) loads all memories from disk and returns the 5 most recent memories sorted by occurred_at, without using vector store to avoid slow initialization. UserPromptSubmit hook (triggered on user prompt) performs semantic search using vector embeddings with lazy initialization of vector store, which is cached after first use.
