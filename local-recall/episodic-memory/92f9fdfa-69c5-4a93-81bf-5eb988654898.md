---
id: 92f9fdfa-69c5-4a93-81bf-5eb988654898
subject: >-
  Vector Store synchronization keeps semantic search index aligned with memory
  files
keywords:
  - vector store
  - sync
  - semantic search
  - embeddings
  - sqlite-vec
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-02T11:52:09.734Z'
content_hash: 700dd21832b24759
---
The Vector Store (`src/core/vector-store.ts`) maintains SQLite-backed semantic search:

- `initialize()` - Sets up database and loads sqlite-vec extension
- `add(memory)` - Adds a memory with its embedding to the store
- `remove(id)` - Removes a memory from the store
- `search(query, options)` - Performs semantic similarity search
- `sync(memories)` - Syncs store with file-based memories (add/remove as needed)

The store uses lazy initialization - it's only created when needed (UserPromptSubmit hook), not on SessionStart to avoid slow initialization on every session start.
