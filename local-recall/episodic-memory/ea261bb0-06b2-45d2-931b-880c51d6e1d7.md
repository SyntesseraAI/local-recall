---
id: ea261bb0-06b2-45d2-931b-880c51d6e1d7
subject: >-
  Memory extractor uses streaming Claude API with token counting for efficient
  extraction
keywords:
  - memory-extractor
  - streaming
  - claude-api
  - token-counting
  - efficiency
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:05:50.381Z'
content_hash: 2bdd87719bab3d61
---
The memory-extractor.ts module implements extraction of memories from transcripts using Claude API. It uses:
- Streaming API calls via Anthropic SDK for token-efficient processing
- Token counting utilities to manage prompt sizes and avoid token limits
- Structured output handling with proper JSON parsing
- Error handling for API failures and malformed responses

This approach allows processing large transcripts while maintaining control over token usage.
