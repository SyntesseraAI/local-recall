---
id: df58f890-6d55-4225-8eb5-90557a3ecb3a
subject: >-
  Local Recall MCP server daemon processes transcripts asynchronously every 5
  minutes
keywords:
  - mcp
  - server
  - daemon
  - transcript
  - memory
  - extraction
  - async
applies_to: global
occurred_at: '2025-12-01T22:38:19.131Z'
content_hash: 85c4776836a82869
---
# MCP Server Background Daemon

The Local Recall MCP server runs a background daemon that automatically processes transcripts for memory extraction.

## Behavior

- **Interval**: Runs every 5 minutes
- **Source**: Syncs transcripts from Claude's cache at `~/.claude/projects/<encoded-path>/transcripts/`
- **Processing**: Uses `claude -p` to extract memories from transcripts
- **Tracking**: Maintains content hashes to detect changes and avoid reprocessing
- **Deduplication**: When a transcript changes, deletes and recreates associated memories

## Implementation Details

The daemon is implemented in the background processing loop and handles:
1. Reading transcript files from Claude's project cache
2. Computing content hashes for change detection
3. Extracting keywords and memory content using Claude Haiku
4. Creating memory files in `local-recall/episodic-memory/`
5. Managing memory lifecycle (deletion when transcripts change)

## Related Files

- `src/core/memory.ts` - Memory CRUD operations
- `src/mcp-server/server.ts` - MCP server implementation with daemon loop
- `src/utils/markdown.ts` - Markdown parsing for memory extraction
