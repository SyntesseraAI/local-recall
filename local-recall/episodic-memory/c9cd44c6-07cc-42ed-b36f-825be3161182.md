---
id: c9cd44c6-07cc-42ed-b36f-825be3161182
subject: >-
  MCP server runs background daemon that processes transcripts asynchronously
  every 5 minutes
keywords:
  - mcp-server
  - background-daemon
  - transcript-processing
  - async
applies_to: 'area:mcp-server'
occurred_at: '2025-12-02T12:10:07.891Z'
content_hash: 70e810b8ad415d0e
---
The MCP server in `src/mcp-server/server.ts` includes a background daemon that:
- Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
- Processes transcripts using `claude -p` to extract memories
- Tracks processed transcripts with content hashes for change detection
- Deletes and recreates memories when transcripts change
- Runs every 5 minutes

The Stop hook is currently disabled because memory extraction is handled by this daemon.
