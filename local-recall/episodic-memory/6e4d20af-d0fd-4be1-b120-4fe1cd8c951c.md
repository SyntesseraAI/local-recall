---
id: 6e4d20af-d0fd-4be1-b120-4fe1cd8c951c
subject: 'Stop hook not triggered in VS Code extension, preventing memory creation'
keywords:
  - stop hook
  - vs code extension
  - memory creation
  - hooks
  - memory extraction
applies_to: global
occurred_at: '2025-12-21T19:02:06.379Z'
content_hash: ea342fe04b212d2b
---
# Stop Hook Not Triggered in VS Code Extension

The Stop hook is not being triggered by the VS Code extension, which prevents automatic memory creation. The Stop hook is responsible for:
- Parsing transcripts after a session ends
- Extracting memories from the conversation
- Creating memory files via `src/hooks/stop.ts:77-108`

Because this hook never fires in VS Code, memories are not automatically created, even though SessionStart and UserPromptSubmit hooks work correctly.

## Investigation Notes
- Checked logs in `local-recall/recall.log` - no Stop hook entries
- The plugin configuration in `dev-marketplace/local-recall-plugin/config/hooks.json` has Stop hook registered
- VS Code extension may not support Stop hook event or triggers it only in limited circumstances

## Workarounds
1. Use the MCP server `memory_create` tool directly (independent of hooks)
2. Use the daemon transcript processing (background async approach)
3. Implement alternative memory creation mechanism for VS Code extension
