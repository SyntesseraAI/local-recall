---
id: ab8ea2ee-1f49-497e-8ec2-a16ed59455af
subject: >-
  SessionStart hook was timing out due to vector store initialization
  downloading embedding model
keywords:
  - session-start
  - hook
  - timeout
  - vector-store
  - embedding
  - performance
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-21T18:17:30.301Z'
content_hash: d5317cd0fc7a04f2
---
The SessionStart hook was initializing the vector store which downloads a 133MB embedding model on first use, causing the 30-second hook timeout to be exceeded. Fixed by removing vector store initialization - the hook now just loads the 5 most recent memories directly from files without vector operations. Vector store is initialized lazily by the MCP server or user-prompt-submit hook when actually needed.
