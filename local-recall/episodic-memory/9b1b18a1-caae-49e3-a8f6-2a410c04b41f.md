---
id: 9b1b18a1-caae-49e3-a8f6-2a410c04b41f
subject: Hook integration receives cwd parameter to operate on user's project directory
keywords:
  - hooks
  - plugin
  - cwd
  - session-start
  - user-prompt-submit
  - stdin
  - json
applies_to: global
occurred_at: '2025-12-01T15:55:36.260Z'
content_hash: bde2b983c87dc14c
---
Claude Code hooks receive structured JSON input via stdin and use the `cwd` parameter to locate the user's project:

**Hook Input Format**:
- Hooks receive JSON via stdin with fields: `session_id`, `transcript_path`, `cwd`
- The `cwd` field contains the working directory of the user's project
- The `transcript_path` is relative to the plugin root and needs to be resolved using `cwd`

**Important Integration Details**:
- The `${CLAUDE_PLUGIN_ROOT}` variable in hooks.json references the plugin installation directory
- Hooks must parse JSON from stdin to get the `cwd` parameter
- The `cwd` is crucial for locating memory files and transcripts relative to the user's project
- Memory files are stored at `<cwd>/local-recall/` directory

**Hook Types**:
- `SessionStart`: Called when Claude Code session begins
- `UserPromptSubmit`: Called before Claude processes user's prompt
- `Stop`: Called when session ends (currently async via MCP daemon)
