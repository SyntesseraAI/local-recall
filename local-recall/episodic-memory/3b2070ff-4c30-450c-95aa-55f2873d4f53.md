---
id: 3b2070ff-4c30-450c-95aa-55f2873d4f53
subject: Memory deduplication uses occurred_at timestamp and content hash
keywords:
  - deduplication
  - memory-creation
  - content-hash
  - idempotency
  - duplicate-detection
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-21T18:23:39.604Z'
content_hash: 3019d891f68e4afd
---
When creating a memory, the system checks for duplicates using `findDuplicate(occurredAt, contentHash)` which compares the timestamp and 16-character SHA-256 content hash prefix. If a matching duplicate exists, the existing memory ID is returned instead of creating a new file. This ensures idempotency: calling create multiple times with the same data returns the same memory ID.
