---
id: b29f85b3-96a2-4878-806e-ad0bc0df4021
subject: Memory extraction uses Claude's MCP tools with context about project structure
keywords:
  - memory-extraction
  - mcp
  - claude-api
  - prompts
  - context
  - architecture
applies_to: 'area:memory-extractor'
occurred_at: '2025-12-02T17:11:09.082Z'
content_hash: 9e850c8ccab288b0
---
# Memory Extraction Pipeline

## Claude API Integration

The memory extraction process uses Claude's API (likely via MCP) to analyze transcripts and extract valuable memories.

## Context Requirements

When extracting memories, Claude needs to understand:
1. **Project Structure** - The Local Recall architecture, file organization, and key components
2. **Codebase Conventions** - How this project structures memories, naming conventions, and patterns
3. **Memory Format** - YAML frontmatter structure, required fields, and scope definitions

## Prompt Design

The extraction prompts in `src/prompts/memory-extraction.ts` should include:
- Clear examples of valuable memories with proper formatting
- Instructions on what to extract and what to ignore
- Guidance on scope selection (global vs file vs area)
- The full CLAUDE.md context for reference

## Implementation Strategy

- Provide CLAUDE.md content to Claude during extraction
- Use specific examples from the codebase
- Include guidelines for memory deduplication
- Explain the difference between actionable memories and generic knowledge
