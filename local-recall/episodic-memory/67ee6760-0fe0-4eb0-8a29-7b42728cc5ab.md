---
id: 67ee6760-0fe0-4eb0-8a29-7b42728cc5ab
subject: Memory extraction uses Claude Haiku with single-turn JSON output
keywords:
  - memory extraction
  - haiku model
  - json output
  - single turn
  - claude cli
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-21T18:30:03.315Z'
content_hash: 5bf2a47aadfd0c19
---
Memory extraction invokes Claude CLI with specific constraints:
- Model: `claude-haiku-4-5` (for cost and speed)
- Flags: `--max-turns 1` (single response only, no back-and-forth)
- Output: JSON-only format (no explanatory text)
- Timeout: 600000ms (10 minutes) to allow sufficient processing time

The prompt in `memory-extraction.ts` explicitly instructs Claude to return ONLY valid JSON with no additional explanation or markdown formatting.
