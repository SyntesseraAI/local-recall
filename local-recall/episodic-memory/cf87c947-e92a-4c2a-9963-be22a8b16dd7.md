---
id: cf87c947-e92a-4c2a-9963-be22a8b16dd7
subject: Vector store implementation with SQLite and fastembed
keywords:
  - vector-store
  - sqlite
  - embeddings
  - fastembed
  - semantic-search
  - bge-small
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-02T12:05:57.826Z'
content_hash: 52fb0ebd7141fc43
---
Vector store uses better-sqlite3 with sqlite-vec extension for semantic search. Embeddings generated using fastembed library with BGE-small-en-v1.5 model (~133MB). Search results use cosine distance similarity (0.0-1.0 range, rounded to 2 decimal places). Recency tie-breaker ranks more recent memories first when scores are equal. Vector store initialized lazily on first semantic search to avoid startup slowdown.
