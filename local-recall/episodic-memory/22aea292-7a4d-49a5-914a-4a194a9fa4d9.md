---
id: 22aea292-7a4d-49a5-914a-4a194a9fa4d9
subject: Local Recall project root IS the Claude Code plugin root
keywords:
  - plugin
  - root
  - architecture
  - plugin-json
  - hooks
  - mcp
  - structure
applies_to: global
occurred_at: '2025-12-01T16:27:41.043Z'
content_hash: 93111b65cb0da773
---
# Local Recall Plugin Architecture

The Local Recall project root is configured as the Claude Code plugin root.

## Structure

This means:
- `.claude-plugin/plugin.json` contains plugin metadata
- `hooks.json` configures hook event handlers
- `.mcp.json` configures the MCP server
- `scripts/` contains bundled executables (build output, gitignored)

## Important Details

- The plugin uses `${CLAUDE_PLUGIN_ROOT}` in hook configuration to reference scripts relative to the plugin installation
- Hooks receive `cwd` via stdin to operate on the user's project directory
- This allows Local Recall to function both as a standalone plugin and as an npm package dependency

## Installation Methods

1. **As a plugin**: Clone and build, then add to `.claude/settings.json` under `plugins.installed`
2. **As an npm package**: Install via npm and configure hooks to point to `node_modules/local-recall/scripts/`
3. **Direct configuration**: Add hooks directly to `.claude/settings.json` without using the plugin system
