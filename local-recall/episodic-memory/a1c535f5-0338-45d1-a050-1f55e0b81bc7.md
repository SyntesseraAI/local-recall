---
id: a1c535f5-0338-45d1-a050-1f55e0b81bc7
subject: Transcript condensing reduces token usage in memory extraction
keywords:
  - transcript
  - condensing
  - token-usage
  - compression
  - memory-extraction
  - haiku-api
applies_to: global
occurred_at: '2025-12-02T01:26:37.964Z'
content_hash: 2966f2bc0f6688fc
---
# Transcript Condensing Implementation

Transcripts passed to Claude Haiku for memory extraction are condensed to reduce token usage and API costs.

## Process

Instead of processing entire transcripts, only relevant events are extracted:
1. User messages (prompts)
2. Assistant responses
3. Tool invocations and results

This creates a compact summary that preserves semantic meaning while reducing token count significantly.

## Benefits

- Reduces API costs for memory extraction
- Faster processing times
- Focuses Claude Haiku on extracting meaningful memories from key interactions
- Prevents token limit issues with large transcripts

## Location

Implemented in `src/core/memory-extractor.ts`
