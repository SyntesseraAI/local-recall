---
id: 6133da94-fc67-45d2-b2c6-11fc9cd31a56
subject: >-
  Project is refactoring memory collection system with new embedding-based
  vector store
keywords:
  - refactor
  - embedding
  - vector-store
  - memory-collection
  - semantic-search
  - bge-small
  - fastembed
applies_to: global
occurred_at: '2025-12-02T02:20:20.792Z'
content_hash: bae122283701d306
---
# Memory Collection Refactoring

## Current Status
The project is undergoing a significant refactor of the memory collection system:
- New files added: `src/core/embedding.ts` and `src/core/vector-store.ts`
- These files are currently new/untracked in git

## Architecture Changes
- Moving from keyword-based search to semantic/embedding-based search
- Using `fastembed` library with BGE-small-en-v1.5 model (~133MB)
- Model is automatically downloaded to `local_cache/` on first use
- Model caching reduces startup time on subsequent runs

## Performance Notes
- First run: Initial startup may take 30-60 seconds while model downloads
- Subsequent runs: Load from cache (much faster)

## Known Issues
- Tokenizer file not found error can occur if cache is corrupted/incomplete
- Solution: Delete `local_cache/fast-bge-small-en-v1.5*` and let model re-download

## Development Status
The refactor is in progress on branch `claude/refactor-memory-collection-01HQY8jXfJm7zh35BcYYiE1u`
