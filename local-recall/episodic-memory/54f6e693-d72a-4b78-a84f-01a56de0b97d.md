---
id: 54f6e693-d72a-4b78-a84f-01a56de0b97d
subject: Memory deduplication uses occurred_at and content_hash
keywords:
  - deduplication
  - idempotent
  - content-hash
  - occurred-at
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-21T18:57:37.986Z'
content_hash: cb4d2b01d0c0aa83
---
Memory creation is idempotent: before creating a new memory, findDuplicate() checks for existing memories with the same occurred_at timestamp and content_hash (SHA-256 prefix). If a duplicate exists, the existing memory is returned instead of creating a new one. This prevents accumulation of redundant memories.
