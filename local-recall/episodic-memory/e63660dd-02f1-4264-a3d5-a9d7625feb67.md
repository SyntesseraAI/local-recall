---
id: e63660dd-02f1-4264-a3d5-a9d7625feb67
subject: >-
  Memory extraction uses Claude Haiku with structured prompts to parse
  transcripts
keywords:
  - memory-extraction
  - claude-haiku
  - transcript-parsing
  - llm-processing
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-01T16:05:03.838Z'
content_hash: 631fde3f3985b8e0
---
The memory extraction system uses Claude Haiku (via `claude -p --model haiku`) to intelligently parse session transcripts and extract valuable memories. The extraction is guided by a detailed system prompt in `src/prompts/memory-extraction.ts` that instructs the model on what constitutes valuable memories, how to scope them, and how to format them.

The `MemoryExtractor` class in `src/core/memory-extractor.ts` orchestrates the extraction process:
1. Reads and validates transcript content
2. Sends transcript to Claude Haiku with extraction prompt
3. Parses the JSON response containing extracted memories
4. Creates memory files for each extracted memory
5. Handles errors gracefully (invalid JSON, malformed responses)
