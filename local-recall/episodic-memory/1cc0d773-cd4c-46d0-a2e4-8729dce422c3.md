---
id: 1cc0d773-cd4c-46d0-a2e4-8729dce422c3
subject: 'Transcript structure: messages array with type, role, and content fields'
keywords:
  - transcript
  - jsonl
  - message-structure
  - type
  - role
  - content
  - parsing
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T22:34:08.269Z'
content_hash: 89ca2ed3abb6a907
---
# Transcript Message Structure

Each transcript JSONL file contains a `messages` array where each message object has:

- **type**: String indicating the message type (e.g., 'message', 'tool_use', etc.)
- **role**: Either 'user' or 'assistant'
- **content**: Either a string or an array of content blocks
  - For messages: Direct text content
  - For tool uses: Array of content blocks with `type` and `tool_use_id`

## Usage in Local Recall

When processing transcripts for memory extraction, the parsing logic must:
1. Iterate through the `messages` array
2. Check the `type` field to identify message types
3. Handle both string and array formats for `content`
4. Extract relevant information based on role and content type

This structure is important for the memory extraction pipeline in `transcript-collector.ts` and the background daemon.
