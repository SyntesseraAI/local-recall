---
id: 5ddc6f62-8fd5-4012-8ea7-8f1598ec104c
subject: Claude Code hooks inject memories at specific points in the conversation flow
keywords:
  - claude-code-hooks
  - session-start
  - user-prompt-submit
  - memory-injection
applies_to: global
occurred_at: '2025-12-02T22:16:03.381Z'
content_hash: f1131a8115f0f6c8
---
Three hooks integrate with Claude Code (configured in `.claude/settings.json`):
1. **SessionStart**: Loads the 5 most recent memories (sorted by `occurred_at`) from disk without vector store (to avoid slow initialization)
2. **UserPromptSubmit**: Initializes the vector store lazily and performs semantic search on the user's prompt
3. **Stop** (currently disabled): The MCP server daemon processes transcripts asynchronously every 5 minutes instead

Hooks communicate via JSON stdin/stdout. The hooks directory is compiled to `dist/hooks/` for both npm package and local deployment.
