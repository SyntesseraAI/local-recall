---
id: 4e0d7230-926d-472a-bbbe-d6baaf4e0585
subject: >-
  Memory extraction process: transcript parsing → condensing → keyword
  extraction → memory creation
keywords:
  - memory extraction
  - transcript processing
  - pipeline
  - stop hook
  - mcp server
applies_to: global
occurred_at: '2025-12-02T01:24:19.661Z'
content_hash: fd46e270fd9a87c6
---
The memory extraction process in `stop.ts` follows this pipeline:
1. Parse transcript into condensed events using `parseTranscript()` which outputs `[User]`, `[Assistant]`, and `[Tool]` events
2. Condense the transcript using Claude Haiku (`claude -p --model haiku`) to create a more compact summary
3. Extract keywords from the condensed transcript using Claude Haiku
4. Create memory from the condensed transcript content

This condensed format is intentional - it reduces noise while preserving essential information for future sessions.
