---
id: 9c4717b7-9a3b-4960-9f8e-2634f9fc0b30
subject: 'Plugin structure uses ${CLAUDE_PLUGIN_ROOT} and receives cwd via stdin'
keywords:
  - plugin-architecture
  - hooks
  - scripts
  - plugin-root
applies_to: global
occurred_at: '2025-12-02T12:02:18.047Z'
content_hash: f1450fb2b77ef137
---
The project root is the plugin root following Claude Code's format. Hooks configuration in `hooks.json` uses `${CLAUDE_PLUGIN_ROOT}` to reference scripts relative to plugin installation.

Hooks receive input via stdin including:
- `session_id`, `transcript_path`, `cwd` (all hooks)
- `prompt` (UserPromptSubmit hook)

Bundled scripts are in `scripts/` directory (build output, gitignored source in `src/hooks/`):
- `scripts/hooks/session-start.js`
- `scripts/hooks/user-prompt-submit.js`
- `scripts/hooks/stop.js`
- `scripts/mcp-server/server.js`
