---
id: 99f6024b-77c1-4d69-be82-d6b43eb59936
subject: Claude Code integration uses hooks for memory management
keywords:
  - hooks
  - claude code
  - integration
  - session start
  - prompt submit
applies_to: global
occurred_at: '2025-12-02T21:05:28.307Z'
content_hash: 2c737e43722aac72
---
Claude Code integration provides three hooks configured in hooks.json:

1. **SessionStart**: Runs when session begins
   - Loads all memories from disk via MemoryManager.listMemories()
   - Returns 5 most recent memories sorted by `occurred_at`
   - Full reload, doesn't use vector store to avoid slow initialization

2. **UserPromptSubmit**: Runs when user submits prompt
   - Performs semantic search using vector embeddings
   - Initializes vector store lazily (cached after first use)
   - Outputs matching memories for context injection

3. **Stop**: Currently disabled
   - Memory extraction handled by MCP server daemon asynchronously every 5 minutes
