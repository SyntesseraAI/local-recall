---
id: 86d4b929-15c7-4988-a936-917ac5d0b3f2
subject: >-
  Memory files are idempotent - duplicates detected via occurred_at and
  content_hash
keywords:
  - idempotent
  - duplicate detection
  - content hash
  - sha256
  - deduplication
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-02T16:35:44.694Z'
content_hash: 6b67372bcd958422
---
The Memory Manager (`createMemory()`) checks for duplicates using:
- `occurred_at`: Timestamp of when the event occurred
- `content_hash`: SHA-256 hash prefix (16 chars) of the memory content

The `findDuplicate(occurredAt, contentHash)` method prevents creating duplicate memories. If a duplicate is found during creation, it returns the existing memory instead of creating a new one. This makes memory creation idempotent.
