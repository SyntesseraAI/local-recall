---
id: 9914f9e7-5824-471c-bc65-dbe832b46b91
subject: >-
  Vector search now sorts by similarity score rounded to 2 decimals, with
  recency as tiebreaker
keywords:
  - search
  - scoring
  - ranking
  - similarity
  - occurred_at
  - tiebreaker
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-21T18:26:56.199Z'
content_hash: 446b201d35e4cd65
---
Search results in `vector-store.ts:258-268` now use:

1. **Rounded Similarity Scores**: Scores are rounded to 2 decimal places using `Math.round((1 - distance / 2) * 100) / 100`, producing values like 0.65 instead of 0.6534

2. **Recency Tiebreaker**: When multiple results have the same rounded score, they are sorted by `occurred_at` descending (newest first)

3. **Score Range**: 0.0 (no match) to 1.0 (perfect match) based on cosine distance

This provides cleaner output and ensures newer memories are preferred when equally relevant.
