---
id: 9ff0c103-71a5-4bd1-9f68-5c46e7b5a973
subject: >-
  UserPromptSubmit hook performs semantic search using lazy-initialized vector
  store
keywords:
  - user-prompt-submit-hook
  - semantic-search
  - lazy-initialization
  - vector-embeddings
applies_to: global
occurred_at: '2025-12-02T12:11:15.903Z'
content_hash: 87564cdce16ba36c
---
UserPromptSubmit hook initializes vector store lazily (cached after first use) to perform semantic search on user prompts. It returns matching memories ranked by similarity score, which are injected into Claude's context before processing. Initialization is deferred from SessionStart to avoid slow startup times.
