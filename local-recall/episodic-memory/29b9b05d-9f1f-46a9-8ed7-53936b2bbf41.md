---
id: 29b9b05d-9f1f-46a9-8ed7-53936b2bbf41
subject: Duplicate detection uses occurred_at timestamp and content_hash SHA-256 prefix
keywords:
  - deduplication
  - content_hash
  - occurred_at
  - duplicate detection
  - idempotent
applies_to: global
occurred_at: '2025-12-01T16:04:07.483Z'
content_hash: 4840381816be94b6
---
Memory deduplication is handled using two fields:
- `occurred_at`: ISO-8601 timestamp when event occurred
- `content_hash`: SHA-256 hash prefix (first 16 characters)

The `findDuplicate(occurredAt, contentHash)` function checks if a memory with the same timestamp and content hash already exists. This prevents duplicate memories from being created when the same event is processed multiple times. Memory creation is idempotent - creating a duplicate returns the existing memory.
