---
id: 0677c36b-316f-47ef-82fd-65d8e785d810
subject: Keyword extraction from user prompts using Claude API
keywords:
  - claude
  - api
  - keywords
  - extraction
  - haiku
  - prompt-analysis
  - memory-search
applies_to: global
occurred_at: '2025-12-01T16:14:09.245Z'
content_hash: 346de9de9d99a1e5
---
The UserPromptSubmit hook uses the Claude API to extract keywords from user prompts for better memory searching.

## Implementation Details

- Uses Claude Haiku model via `claude -p --model haiku` command
- Analyzes the user's prompt to identify searchable keywords
- These keywords are used for fuzzy matching against memory indexes

## Benefits

- More intelligent memory retrieval based on semantic understanding
- Helps find relevant memories even when exact keyword matches aren't present
- Lightweight using the faster Haiku model rather than larger models

## Integration Point

Found in the UserPromptSubmit hook workflow which:
1. Receives user prompt from Claude Code
2. Extracts keywords using Claude API
3. Searches memory index with extracted keywords
4. Returns matching memories for context injection
