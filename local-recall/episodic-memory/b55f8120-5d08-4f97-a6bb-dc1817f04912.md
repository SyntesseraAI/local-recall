---
id: b55f8120-5d08-4f97-a6bb-dc1817f04912
subject: JSONL-based memory storage requires proper index syncing after file operations
keywords:
  - jsonl
  - memory-storage
  - index-sync
  - episodic-memory
  - vector-store
  - file-operations
applies_to: global
occurred_at: '2025-12-21T18:23:00.278Z'
content_hash: a5b7c69f160ebdf7
---
The migration from markdown to JSONL-based memory storage revealed that the vector store index must be synced after file operations to reflect new memories.

**Key insight**: Simply storing memories in JSONL files doesn't automatically make them searchableâ€”they must be explicitly added to the Orama vector store via the `sync()` method.

**Pattern**: When adding memories programmatically:
1. Write memory to JSONL file
2. Call `vectorStore.add(memory)` to index the embedding
3. Call `vectorStore.persist()` to save the updated index

Or use the higher-level `createMemory()` which handles this automatically.

**Files involved**:
- `src/core/episodic-jsonl-store.ts` - JSONL file operations
- `src/core/vector-store.ts` - Orama indexing and search

**Gotcha**: If index syncing is skipped, memories exist in JSONL but aren't searchable, leading to silent failures where memories appear to be lost.
