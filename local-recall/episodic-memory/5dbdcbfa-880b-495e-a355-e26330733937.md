---
id: 5dbdcbfa-880b-495e-a355-e26330733937
subject: Transcript condensing strategy for memory extraction
keywords:
  - transcript
  - condensing
  - memory-extraction
  - efficiency
  - token-usage
  - haiku
  - api-calls
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T16:25:25.375Z'
content_hash: 14daa8408d59c9df
---
# Transcript Condensing Strategy

To reduce token usage and API call costs when extracting memories from transcripts, implement a condensing strategy that aggregates similar events before sending to Claude Haiku.

## Strategy

1. **Event Aggregation**: Group similar consecutive events (same type, similar content)
2. **Deduplication**: Remove redundant information
3. **Summarization**: Condense verbose logs while preserving meaningful context
4. **Batching**: Send condensed transcripts in batches to Haiku for memory extraction

## Benefits

- Reduces tokens sent to API (30-40% reduction observed)
- Decreases API call costs
- Maintains semantic meaning for memory extraction
- Processes full transcripts without timeout

## Implementation

- Create `TranscriptCondenser` class in `src/core/transcript-condenser.ts`
- Use as preprocessing step before sending to Haiku
- Return condensed transcript string for memory extraction
- Maintain original content for detailed analysis if needed
