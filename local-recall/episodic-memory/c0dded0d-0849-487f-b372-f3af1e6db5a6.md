---
id: c0dded0d-0849-487f-b372-f3af1e6db5a6
subject: Memory deduplication should consider content hash alongside timestamp
keywords:
  - deduplication
  - memory-creation
  - content-hash
  - occurred-at
  - idempotency
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-01T16:04:39.482Z'
content_hash: 4b4150a4edb097e8
---
When checking for duplicate memories, use both the `occurred_at` timestamp and `content_hash` together. A memory is considered a duplicate only if both the timestamp and content hash match an existing memory. This prevents false duplicates when similar concepts are discussed at different times and ensures idempotent memory creation even if the same extraction runs multiple times.
