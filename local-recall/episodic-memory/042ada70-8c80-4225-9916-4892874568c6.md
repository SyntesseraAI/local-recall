---
id: 042ada70-8c80-4225-9916-4892874568c6
subject: >-
  Transcript condenser optimizes memory extraction by parsing JSONL and
  extracting minimal content
keywords:
  - transcript-condenser
  - memory-extraction
  - token-optimization
  - jsonl-parsing
  - performance
applies_to: global
occurred_at: '2025-12-03T09:49:49.357Z'
content_hash: e5711af2e7882235
---
# Transcript Condenser Implementation

Created `src/core/transcript-condenser.ts` to reduce token usage in memory extraction by:

1. **Parsing JSONL transcripts** - Uses typed transcript schema to parse Claude Code session transcripts
2. **Extracting minimal content** - Only extracts relevant information for each entry type:
   - User messages: prompt text
   - Assistant messages: reasoning and key points
   - Tool operations: tool name and results (skips large outputs)
   - System events: relevant context only
3. **Creating condensed format** - Produces structured, concise data for the memory extraction prompt

This dramatically reduces token usage passed to the extractor while preserving semantic meaning for memory creation.

## Related Files
- `src/core/memory-extractor.ts` - Updated to use condenser
- `src/prompts/memory-extraction.ts` - Updated prompt instructions
- `src/types/transcript-schema.ts` - TypeScript types for JSONL parsing
