---
id: ddfa6a56-1797-4243-9ab7-85f191099b2d
subject: >-
  Content hash implementation for memory deduplication uses SHA-256 truncated to
  16 characters
keywords:
  - deduplication
  - content hash
  - sha256
  - memory.ts
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-01T16:17:37.027Z'
content_hash: e289b0e8df33da39
---
# Content Hash Implementation

Memories use a SHA-256 content hash (truncated to 16 chars) for deduplication purposes.

## Implementation
- `computeContentHash()` function creates SHA-256 hash of memory content
- Hash is truncated to first 16 characters for practical storage
- `findDuplicate()` method checks if memory with same `occurred_at` + `content_hash` already exists
- If duplicate found, existing memory is returned without creating new file

## Impact
- Prevents creation of multiple identical memories from repeated processing
- Allows detection and handling of duplicates from transcript reprocessing
