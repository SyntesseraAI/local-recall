---
id: 8d3042e5-fe65-4119-9c19-c8c136715227
subject: Multiple local-recall instances in same folder have concurrent write conflicts
keywords:
  - concurrency
  - multi-instance
  - orama-index
  - processed-log
  - file-locking
applies_to: global
occurred_at: '2025-12-21T19:40:43.728Z'
content_hash: ee0a9e92e07901b9
---
When multiple Claude Code instances run local-recall on the same codebase folder, they cause concurrent write conflicts:

- `orama-episodic-index.json` and `orama-thinking-index.json`: Multiple processes write without coordination, corrupting the Orama index files
- `episodic-processed-log.jsonl` and `thinking-processed-log.jsonl`: Concurrent writes lead to lost updates and duplicate processing
- The daemon runs every 5 minutes independently in each instance, creating race conditions

This is a critical architectural issue that needs a solution like:
- File-based locking mechanism (fs.lockfile or similar)
- Process coordination/mutex
- Centralized daemon instead of per-instance daemons
- Content hash-based deduplication to recover from corruption

This issue manifests when developers use multiple Claude Code windows on the same project simultaneously.
