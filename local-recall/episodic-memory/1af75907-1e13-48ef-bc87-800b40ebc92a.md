---
id: 1af75907-1e13-48ef-bc87-800b40ebc92a
subject: Transcript condensing feature was integrated into memory extraction workflow
keywords:
  - transcript-condensing
  - memory-extraction
  - user-prompt-submit
  - stop hook
  - mcp server
applies_to: global
occurred_at: '2025-12-01T16:02:57.872Z'
content_hash: a9d27fea0e8be6b8
---
Transcript condensing was implemented to reduce transcript size before memory extraction. The condensed format includes only essential event information:
- `[User]` blocks for user messages
- `[Assistant]` blocks for Claude responses
- `[Tool: Name]` for tool invocations
- `[Result: OK/ERROR]` for outcomes

This condensed format is now used in:
1. The `user-prompt-submit` hook to search for relevant memories
2. The `stop` hook to extract memories for future sessions
3. MCP server background daemon for transcript processing

The `TranscriptCollector.getCondensedTranscript()` method returns this simplified format to reduce token usage in Claude API calls.
