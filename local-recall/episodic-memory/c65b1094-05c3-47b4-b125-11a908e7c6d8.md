---
id: c65b1094-05c3-47b4-b125-11a908e7c6d8
subject: Memory extraction should save all thinking but only multiline answers
keywords:
  - memory
  - extraction
  - thinking
  - answers
  - filtering
applies_to: 'file:src/utils/transcript.ts'
occurred_at: '2025-12-21T18:18:08.509Z'
content_hash: c09ca94177c101f2
---
Updated `analyzeForMemories` function to:
- Save **all thinking** (even single-line) as separate memories
- Save **only multiline answers** (content with 2+ lines)
- Use first sentence as subject for both types (extracted via `generateSubject`)

This distinction helps preserve Claude's reasoning while avoiding noise from brief single-line responses.
