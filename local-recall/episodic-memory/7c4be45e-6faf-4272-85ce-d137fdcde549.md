---
id: 7c4be45e-6faf-4272-85ce-d137fdcde549
subject: Session start memory injection uses recency sorting and token budgeting
keywords:
  - session-start
  - memory-injection
  - episodic-memory
  - token-budget
  - recency
  - hooks
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-21T18:23:39.604Z'
content_hash: 42ed0063db89856b
---
The SessionStart hook injects the 5 most recent episodic memories into context. Memories are sorted by `occurred_at` timestamp (most recent first) and selected based on a token budget. This provides recent context from previous sessions without overwhelming the prompt with irrelevant historical information. The implementation reads memory files directly from disk rather than using the vector store for simplicity and performance.
