---
id: 28b94b81-5e79-48e9-baa2-6a3ec3814c0d
subject: >-
  Memory extractor was passing transcripts via command-line arguments causing
  E2BIG errors on large files
keywords:
  - memory-extractor
  - e2big error
  - stdin
  - large transcripts
  - command-line arguments
  - spawn
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:13:57.783Z'
content_hash: e18788f744a76d07
---
The `callClaudeCLI` method in `src/core/memory-extractor.ts` was passing the entire transcript as a command-line argument using `spawn('claude', ['-p', prompt, ...])`. On macOS, the ARG_MAX limit (~262KB) caused E2BIG errors when processing large transcripts. Fixed by passing transcript content via stdin instead of command-line arguments, allowing processing of transcripts larger than the system limit.
