---
id: 2194d956-7d45-427e-879f-b1f958aa6f76
subject: Memory extraction prompt refactored for condensed transcripts
keywords:
  - memory-extraction prompt
  - condensed format
  - prompt engineering
applies_to: 'file:src/prompts/memory-extraction.ts'
occurred_at: '2025-12-21T18:30:37.940Z'
content_hash: 4875ee66b8f74f75
---
Updated buildMemoryExtractionPrompt() in src/prompts/memory-extraction.ts to work with condensed transcript data instead of raw JSONL. The prompt now:

1. Receives structured CondensedTranscriptEntry objects instead of raw transcript lines
2. Has clearer context about what was done (tool invocations, results, decisions)
3. Focuses extraction on actionable insights from condensed content
4. Maintains full memory extraction guidelines while working with optimized input

This change maintains extraction quality while dramatically reducing token consumption per transcript.
