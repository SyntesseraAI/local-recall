---
id: 0e07020a-5ffb-48df-99d3-030a05edd133
subject: rake-pos package has ESM module resolution issues with Node.js v22
keywords:
  - rake-pos
  - esm
  - node-modules
  - dependency
  - import-error
  - hooks
applies_to: global
occurred_at: '2025-12-01T22:32:26.174Z'
content_hash: c0e077a566de722d
---
The `rake-pos` package has an ESM module resolution issue when running hooks with Node.js v22. It throws `ERR_MODULE_NOT_FOUND` error because the package's `package.json` exports field references a non-existent path. The package is used in `src/utils/markdown.ts` for keyword extraction via the `rake()` function. This dependency issue affects hook execution and needs to be addressed either by:

1. Fixing the package's export configuration
2. Replacing rake-pos with an alternative keyword extraction library
3. Patching the package.json exports field

The error occurs specifically when Node.js tries to resolve the ESM module exports.
