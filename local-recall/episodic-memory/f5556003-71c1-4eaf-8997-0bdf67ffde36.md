---
id: f5556003-71c1-4eaf-8997-0bdf67ffde36
subject: Transcript collector needs to handle both JSONL and raw transcript formats
keywords:
  - transcript
  - format
  - jsonl
  - raw-text
  - parsing
  - collector
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T16:27:16.052Z'
content_hash: fbfaa79e7bca616d
---
# Transcript Format Handling

The transcript collector must support multiple transcript formats:

## JSONL Format
- Claude Code stores transcripts as JSONL files in `~/.claude/projects/{project}/transcripts/`
- Each line is a JSON object representing a session event
- Structured format with well-defined fields

## Raw Text Format
- Some transcripts may be provided as plain text
- Need to parse unstructured text content
- Should gracefully handle incomplete or malformed data

## Implementation Approach

The transcript collector should:
1. First attempt to parse as JSONL
2. Fall back to raw text parsing if JSONL parsing fails
3. Normalize both formats to a common internal representation
4. Handle edge cases like empty files, corrupted data, partial transcripts

This flexibility ensures the system can work with transcripts from different sources.
