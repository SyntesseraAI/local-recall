---
id: 70dbbc6f-e126-4cee-9f01-4d39a43b44ab
subject: Hooks are the main integration point between Local Recall and Claude Code
keywords:
  - hooks
  - claude code integration
  - session-start
  - user-prompt-submit
  - stop hook
  - context injection
applies_to: global
occurred_at: '2025-12-21T19:38:57.499Z'
content_hash: 67e05c926e79332a
---
Local Recall has three hooks that integrate with Claude Code:

1. **SessionStart Hook** (`src/hooks/session-start.ts`)
   - Triggered when a Claude Code session begins
   - Loads memory index from `local-recall/index.json`
   - Searches for relevant memories based on context (files, areas)
   - Outputs memories to stdout, which gets injected into Claude's context
   - Shows index stats (total memories, etc.)

2. **UserPromptSubmit Hook** (`src/hooks/user-prompt-submit.ts`)
   - Triggered when user submits a prompt, before Claude processes it
   - Performs semantic search on memories related to the prompt
   - Injects relevant memories into context

3. **Stop Hook** (`src/hooks/stop.ts`)
   - Triggered at the end of a session
   - Processes transcripts and extracts new memories
   - Creates memory files in `local-recall/episodic-memory/`

All hooks communicate via stdin/stdout with Claude Code and receive/send JSON formatted data.
