---
id: 50c22114-2808-49bb-aa0d-6c06e0be8e18
subject: >-
  Memory extraction uses Claude Haiku for transcript analysis with specific
  prompt format
keywords:
  - memory extraction
  - claude haiku
  - transcript analysis
  - prompt engineering
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:33:41.868Z'
content_hash: a1183882564f450c
---
The memory-extractor.ts uses Claude Haiku via the `claude -p` command to analyze session transcripts and extract memories. The extraction uses a structured prompt from memory-extraction.ts that guides Haiku to identify valuable memories. The process involves:

1. Reading the condensed transcript from Claude's cache
2. Sending it to Claude Haiku with a specific prompt template
3. Parsing the JSON response to extract memory objects
4. Creating memory files with proper metadata (id, subject, keywords, applies_to, occurred_at, content_hash)

This approach leverages Haiku's efficiency for structured extraction tasks while avoiding the need for the full transcript content in memory management.
