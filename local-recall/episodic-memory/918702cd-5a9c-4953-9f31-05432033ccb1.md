---
id: 918702cd-5a9c-4953-9f31-05432033ccb1
subject: UUID filename validation for transcript files in Claude project directories
keywords:
  - transcript
  - uuid
  - filename
  - validation
  - transcript-collector
  - claude-project
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-21T18:26:52.265Z'
content_hash: 5dcb5931d549b93a
---
Transcript files in Claude project directories must have UUID filenames (format: `550e8400-e29b-41d4-a716-446655440000.jsonl`). The transcript collector should validate filenames with a UUID regex pattern before processing. This prevents processing of non-transcript `.jsonl` files that may exist in the transcripts folder.

**Implementation details:**
- Added `UUID_REGEX` pattern: `/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i`
- Created `isUuidFilename(filename: string)` helper function that strips `.jsonl` extension and validates against pattern
- Applied validation in three locations:
  1. `findClaudeProjectDir()` - when checking for transcript files to locate project directory
  2. `listSourceTranscripts()` - when filtering source transcripts from Claude cache
  3. `listLocalTranscripts()` - when filtering locally stored transcripts

This ensures consistency and prevents false positives from non-UUID files in transcript directories.
