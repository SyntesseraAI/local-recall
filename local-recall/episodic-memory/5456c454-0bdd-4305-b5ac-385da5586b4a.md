---
id: 5456c454-0bdd-4305-b5ac-385da5586b4a
subject: >-
  Memory deduplication uses occurred_at timestamp and content_hash to prevent
  exact duplicates; no compaction or consolidation currently exists
keywords:
  - deduplication
  - memory deduplication
  - occurred_at
  - content_hash
  - findDuplicate
  - duplicate prevention
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-01T16:17:05.923Z'
content_hash: 9b4a2d3fca7c6877
---
The `MemoryManager` implements basic duplicate prevention at creation time (`src/core/memory.ts:52-67`):

- The `findDuplicate(occurredAt: string, contentHash: string)` method checks if a memory with the same `occurred_at` timestamp AND `content_hash` already exists
- If a duplicate is found, the existing memory is returned instead of creating a new one
- This is the only deduplication/consolidation mechanism in the codebase
- There is NO memory compaction, merging, or cleanup logic
- Configuration supports `maxMemories` setting but it is not enforced or used
- Memories are idempotent - they persist unless explicitly deleted
