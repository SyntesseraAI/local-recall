---
id: 523fe261-4acc-4804-81e3-9dc26f74965e
subject: >-
  transcript-collector.ts needs to handle multiple transcript files and JSONL
  format
keywords:
  - transcript-collector
  - jsonl
  - multiple-files
  - file-reading
  - streaming
  - newline-delimited
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-02T16:17:51.731Z'
content_hash: 514b14d535c884c4
---
# Transcript Collection Implementation Details

## JSONL Format

Claude's transcripts are stored in newline-delimited JSON (JSONL) format, not plain JSON:
- Each line is a separate JSON object
- Multiple objects in a single `.jsonl` file
- Must be parsed line-by-line, not as a single JSON document
- Standard pattern: `line.split('\n').filter(Boolean).map(line => JSON.parse(line))`

## Multiple Transcript Files

Claude creates multiple transcript files, not just one:
- Files are named like `transcripts/part-000.jsonl`, `transcripts/part-001.jsonl`, etc.
- Need to read ALL files in the transcripts directory
- Should use glob pattern like `transcripts/*.jsonl` to find all files
- Process each file's contents as separate JSONL data

## Implementation Approach

When implementing the collector:
1. Read all `.jsonl` files from the transcripts directory
2. For each file, split by newlines and parse each line as JSON
3. Combine all parsed objects from all files into a single array
4. This array represents the complete transcript session
