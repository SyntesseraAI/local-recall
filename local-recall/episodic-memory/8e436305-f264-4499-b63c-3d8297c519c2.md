---
id: 8e436305-f264-4499-b63c-3d8297c519c2
subject: >-
  Migration from better-sqlite3 to Orama for vector search eliminated native
  module dependency issues
keywords:
  - orama
  - better-sqlite3
  - migration
  - vector-search
  - pure-javascript
applies_to: global
occurred_at: '2025-12-21T19:22:18.525Z'
content_hash: b894a57d2bc90ad4
---
The codebase migrated from using `better-sqlite3` (native module) to Orama (pure JavaScript) for vector storage and semantic search. This eliminates dependency issues in bundled hooks and simplifies deployment. The unified `user-prompt-submit.js` hook now handles both episodic and thinking memory retrieval using Orama, replacing the separate hooks approach. All Orama operations are synchronous and direct, avoiding process isolation and mutex issues.
