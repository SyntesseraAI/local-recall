---
id: 8a6fd191-3091-40d1-a186-8500f37638dc
subject: >-
  Vector store uses SQLite with sqlite-vec extension and cosine distance for
  semantic search ranking
keywords:
  - vector-store
  - sqlite-vec
  - cosine-distance
  - similarity-scoring
  - semantic-search
applies_to: 'area:search'
occurred_at: '2025-12-02T12:20:55.008Z'
content_hash: c4acca6a981a3559
---
The vector store in `src/core/vector-store.ts` uses better-sqlite3 with sqlite-vec extension. Semantic search returns results ranked by cosine distance (0.0 to 1.0, rounded to 2 decimals). When scores are equal, results are sorted by `occurred_at` (recency tie-breaker). The store is lazy-initialized in UserPromptSubmit hook and full-synced on MCP server startup.
