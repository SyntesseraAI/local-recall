---
id: a224b1d9-345b-44da-8d4a-a4b6b4aa44ce
subject: VectorStore singleton needs reset capability for testing
keywords:
  - vector-store
  - singleton
  - testing
  - test-isolation
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-21T19:15:38.757Z'
content_hash: ab04d100e1eba78e
---
The VectorStore uses a singleton pattern via getVectorStore(). Between tests, the singleton wasn't being reset, causing test data from one test to leak into the next. Added resetVectorStore() function to clear the singleton instance, used in test beforeEach() hooks to ensure clean state between tests.
