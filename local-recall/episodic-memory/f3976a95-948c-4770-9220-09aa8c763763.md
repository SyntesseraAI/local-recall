---
id: f3976a95-948c-4770-9220-09aa8c763763
subject: Memory deduplication uses content_hash and occurred_at fields
keywords:
  - deduplication
  - content-hash
  - duplicate-detection
  - memory-management
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-02T21:43:06.099Z'
content_hash: c7aa6b5e12dfb1c7
---
The memory manager prevents duplicate memories by checking the combination of `occurred_at` (when the event occurred) and `content_hash` (SHA-256 prefix of content). The `findDuplicate()` method checks for existing memories before creation to ensure idempotency.
