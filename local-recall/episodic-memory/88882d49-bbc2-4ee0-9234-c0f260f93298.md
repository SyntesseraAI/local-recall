---
id: 88882d49-bbc2-4ee0-9234-c0f260f93298
subject: >-
  Claude Code hooks system triggers memory operations at session start, user
  prompt, and session stop
keywords:
  - hooks
  - claude code
  - session start
  - user prompt submit
  - memory injection
applies_to: global
occurred_at: '2025-12-02T17:34:56.657Z'
content_hash: cb264d098c7ef72e
---
Three hooks configured in hooks.json:
1. SessionStart: Loads all memories from disk, returns 5 most recent (sorted by occurred_at), injected into Claude's context. Avoids vector store initialization for speed.
2. UserPromptSubmit: Initializes vector store, performs semantic search on user prompt, outputs matching memories to stdout.
3. Stop: Currently disabled - memory extraction handled by MCP server daemon instead (runs every 5 minutes).

Hooks execute as shell commands receiving JSON via stdin.
