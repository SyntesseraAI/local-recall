---
id: b11e34c9-6c08-4d58-b0e6-ed7e46a49cc1
subject: Vector store uses cosine distance scoring with recency tie-breaker
keywords:
  - vector-store
  - semantic-search
  - scoring
  - cosine-distance
  - recency
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-02T16:12:43.766Z'
content_hash: bb268f80e036bd81
---
The vector store uses SQLite with sqlite-vec extension for semantic similarity search. Search results are scored using cosine distance (range 0.0-1.0, rounded to 2 decimal places). Results are sorted by score descending, with recency (`occurred_at`) as the tie-breaker when scores are equal - more recent memories rank first.

The embedding model (BGE-small-en-v1.5) is automatically downloaded to `local_cache/` on first use (~133MB). First run startup takes 30-60 seconds while model downloads; subsequent runs load from cache.
