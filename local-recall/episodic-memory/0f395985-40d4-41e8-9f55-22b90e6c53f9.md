---
id: 0f395985-40d4-41e8-9f55-22b90e6c53f9
subject: >-
  SessionStart hook must use JSON hookSpecificOutput format for plugin context
  injection
keywords:
  - hooks
  - session-start
  - hookSpecificOutput
  - plugin
  - context-injection
  - JSON-format
  - fix
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-21T17:40:53.082Z'
content_hash: 92fe77441dcb59c5
---
**Root Cause:** The session-start hook was using plain `console.log()` statements for output, while plugin hooks require JSON format with `hookSpecificOutput.additionalContext` for Claude to receive the context.

**Symptoms:**
- Hooks show "hook success: Success" in system-reminder
- No actual memory content appears in Claude's context
- Transcripts show `"stdout":"","stderr":""}` for hook responses

**Fix:** Changed session-start.ts to output JSON format:
```javascript
const output = {
  hookSpecificOutput: {
    hookEventName: 'SessionStart',
    additionalContext: contextParts.join('\n\n'),
  },
};
console.log(JSON.stringify(output));
```

**Key Insight:** The user-prompt-submit hook already used JSON format correctly. The session-start hook was the only one using plain text output, which doesn't work with plugin-layer hooks.

**Related:** The `:Callback` suffix in hook names indicates plugin-layer hooks which require structured JSON output.
