---
id: d272a43f-fd35-4f1d-87fc-44d04da54559
subject: transcript-collector.ts needs to handle both mock and real transcript parsing
keywords:
  - transcript-collector
  - testing
  - mock-data
  - parsing
  - validation
  - jsonl
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:23:46.839Z'
content_hash: 8d9183c240fb298a
---
# Transcript Collector Parsing Strategy

The `transcript-collector.ts` module must handle:

## Real Transcripts
- Located at `~/.claude/projects/<project>/transcripts/`
- JSONL format (one JSON event per line)
- Events include type, content, timestamp metadata
- Must robustly parse JSONL and extract dialogue

## Mock/Test Transcripts
- Used in development and testing
- May have simpler format than real transcripts
- Need validation to ensure mock data resembles real structure
- Critical for testing memory extraction without real Claude sessions

## Implementation Considerations
- Use try-catch and validation for JSONL parsing
- Handle missing or malformed events gracefully
- Extract user prompts and assistant responses separately
- Validate that parsed data has required fields before processing
- Consider storing last processed timestamp to avoid re-processing
