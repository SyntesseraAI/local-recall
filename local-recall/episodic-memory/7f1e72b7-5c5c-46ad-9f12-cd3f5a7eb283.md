---
id: 7f1e72b7-5c5c-46ad-9f12-cd3f5a7eb283
subject: >-
  Use git filter-branch with FILTER_BRANCH_SQUELCH_WARNING=1 to safely rewrite
  history and remove unwanted files
keywords:
  - git
  - filter-branch
  - history rewriting
  - remove files
  - git cleanup
applies_to: global
occurred_at: '2025-12-03T12:59:07.634Z'
content_hash: 206ef0204fca3989
---
When local_cache files were accidentally committed, they were removed using `git filter-branch --force --index-filter` with the environment variable `FILTER_BRANCH_SQUELCH_WARNING=1` to suppress warnings. After rewriting history, cleanup backup refs with `git update-ref -d refs/original/refs/heads/main`. Always verify no commits have been pushed before rewriting history, and use `git push --force-with-lease` when pushing rewritten commits to ensure safety.
