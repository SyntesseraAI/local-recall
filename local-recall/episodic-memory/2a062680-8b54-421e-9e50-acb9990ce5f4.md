---
id: 2a062680-8b54-421e-9e50-acb9990ce5f4
subject: Memory deduplication uses both occurred_at timestamp and content_hash
keywords:
  - deduplication
  - memory
  - content-hash
  - occurred-at
  - unique-identifier
  - duplicate-detection
applies_to: 'area:memory-management'
occurred_at: '2025-12-02T07:30:09.001Z'
content_hash: 26b97269ebc10719
---
# Memory Deduplication Strategy

The `findDuplicate` function in `memory.ts` uses a two-part deduplication strategy:

1. **occurred_at**: ISO-8601 timestamp of when the memory event occurred
2. **content_hash**: SHA-256 hash prefix (first 16 characters) of the memory content

Both values must match to consider a memory a duplicate. This prevents:
- Duplicate memories from the same transcript if it's processed multiple times
- Similar content created at different times from being merged

The `content_hash` field is automatically generated from the memory content during creation and stored in the YAML frontmatter for future comparison.
