---
id: e96a7c5f-7074-47ac-add3-c66284dd03b6
subject: >-
  Vector store uses cosine distance similarity scoring with recency tie-breaker
  for search results
keywords:
  - vector store
  - cosine distance
  - similarity score
  - tie-breaker
  - occurred_at
  - ranking
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-02T17:55:01.067Z'
content_hash: 2e7adf38bbb582c6
---
The vector store in `src/core/vector-store.ts` uses cosine distance similarity for ranking search results. Scores range from 0.0 (no match) to 1.0 (identical) and are rounded to 2 decimal places. When multiple memories have equal similarity scores, they are sorted by recency using the `occurred_at` field (more recent memories ranked first). This ensures both relevance and freshness in search results.
