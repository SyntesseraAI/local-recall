---
id: 79ef3c00-7f26-4578-9990-0efe355f023a
subject: >-
  Memory deduplication uses occurred_at timestamp and content_hash SHA-256
  prefix
keywords:
  - deduplication
  - content-hash
  - occurred-at
  - memory-files
  - duplicate-detection
applies_to: global
occurred_at: '2025-12-01T15:55:14.535Z'
content_hash: efb56db9b13b65c3
---
# Memory Deduplication Strategy

The system prevents duplicate memories by combining two checks:

1. **occurred_at**: ISO-8601 timestamp of when the event originally happened
2. **content_hash**: SHA-256 hash prefix (16 chars) of the memory content

When creating a new memory, the system calls `findDuplicate(occurredAt, contentHash)` to check if a memory with the same timestamp and content hash already exists. If found, it returns the existing memory instead of creating a duplicate.

This is critical for the transcript-based memory extraction, where the same transcript might be processed multiple times, and ensures memories remain idempotent.
