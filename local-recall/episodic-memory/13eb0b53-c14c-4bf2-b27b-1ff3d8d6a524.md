---
id: 13eb0b53-c14c-4bf2-b27b-1ff3d8d6a524
subject: Claude Code plugin hooks require proper JSON stdin/stdout communication
keywords:
  - plugin
  - hooks
  - json
  - stdin
  - stdout
  - communication
applies_to: 'area:local-recall-plugin'
occurred_at: '2025-12-21T18:25:24.918Z'
content_hash: e36eacb63a6716ce
---
Claude Code hook scripts receive JSON data via stdin and must output JSON to stdout for proper integration.

**Input format**: Hooks receive JSON containing:
- `session_id`: Unique session identifier
- `transcript_path`: Path to current transcript
- `cwd`: Current working directory
- (UserPromptSubmit also includes: `prompt` - the user's prompt text)

**Output format**: Hooks must write valid JSON to stdout for injection into Claude's context. Invalid JSON or non-JSON output will cause hook failures.

**Important**: Ensure proper error handling and JSON.stringify() for all outputs. Test hooks locally to verify stdin/stdout communication before deployment.
