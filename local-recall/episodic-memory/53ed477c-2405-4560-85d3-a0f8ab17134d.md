---
id: 53ed477c-2405-4560-85d3-a0f8ab17134d
subject: >-
  SessionStart hook reads 5 most recent memories; UserPromptSubmit searches
  semantically
keywords:
  - session-start-hook
  - user-prompt-submit-hook
  - memory-injection
  - semantic-search
applies_to: global
occurred_at: '2025-12-21T18:32:04.567Z'
content_hash: 2cd8f387b026b8df
---
Two hook strategies:
1. **SessionStart**: Reads last 5 memories directly from files (no embedding cost), sorted by `occurred_at`. Provides recent context without search overhead.
2. **UserPromptSubmit**: Performs semantic search on both episodic and thinking memories using embeddings. Each memory type has independent config: `episodicEnabled`, `episodicMaxTokens`, `episodicMinSimilarity` (and thinking equivalents). Searches respect similarity threshold (default 0.5) and token budget.
