---
id: d2669bad-5af6-4b2d-a73a-cde7e6dc6709
subject: >-
  Memory extraction uses Claude API with specific prompt for analyzing
  transcripts
keywords:
  - memory-extractor
  - claude-api
  - transcript-analysis
  - prompt-engineering
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T15:59:22.497Z'
content_hash: a17781912d38c58e
---
The memory-extractor.ts module uses the Claude API (specifically claude-opus-4-1-20250805) to analyze transcripts and extract memories. It sends condensed transcript events to Claude with a detailed system prompt that guides memory extraction. The process involves:

1. Taking transcript events in format: [User], [Assistant], [Tool: Name], [Result: OK/ERROR]
2. Sending them to Claude with a memory extraction prompt
3. Parsing the returned JSON with memory objects
4. Each memory has: subject, keywords, applies_to, content

The system prompt is defined separately in src/prompts/memory-extraction.ts and should be consulted for extraction guidelines.
