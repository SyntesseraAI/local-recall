---
id: 733cf8c3-5786-4d9d-a944-6c03ce1aeb8b
subject: >-
  UserPromptSubmit hook consolidated into single unified hook that handles both
  episodic and thinking memories
keywords:
  - hooks
  - user-prompt-submit
  - episodic
  - thinking
  - unified
  - consolidation
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-03T09:50:15.512Z'
content_hash: f4c02fdcb9ec61a8
---
The separate `user-prompt-submit.ts` and `user-prompt-submit-thinking.ts` hooks were consolidated into a single `user-prompt-submit.ts` hook that dynamically calls either episodic memory search, thinking memory search, or both based on configuration flags.

This unified approach allows the hook to handle both memory types intelligently based on `episodicEnabled` and `thinkingEnabled` environment variables rather than maintaining two separate implementations.

The old `user-prompt-submit-thinking.ts` file was deleted as part of this refactor.
