---
id: ed06e8e5-e48b-4423-9e78-1b53078162cc
subject: Use git filter-branch to remove files from git history when not yet pushed
keywords:
  - git
  - history
  - filter-branch
  - rewrite
  - commits
  - unpushed
applies_to: global
occurred_at: '2025-12-21T18:16:09.042Z'
content_hash: 9695de040a794637
---
When files are committed but not yet pushed to remote, use `git filter-branch --index-filter 'git rm -r --cached --ignore-unmatch'` to remove them from history. Set `FILTER_BRANCH_SQUELCH_WARNING=1` to suppress warnings. After rewriting, use `git update-ref -d refs/original/refs/heads/main` to clean up backup refs, then `git push --force-with-lease` to update the remote with new commit hashes.
