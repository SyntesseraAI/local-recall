---
id: 48df6076-0b5a-4105-9569-1198331be589
subject: Memory extraction from transcripts requires direct Claude AI processing
keywords:
  - memory-extraction
  - claude-api
  - transcript-processing
  - content-hash
  - deduplication
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-01T15:56:18.565Z'
content_hash: 8227dfc4f9f300b6
---
# Memory Extraction from Transcripts

The Local Recall project needs to extract valuable memories from Claude Code session transcripts. This is a complex task that requires AI understanding of the conversation context.

## Current Implementation Limitation

The current code uses simple pattern matching and keyword extraction, which is insufficient for extracting meaningful memories from transcripts. A better approach would be:

1. **Use Claude API directly** - Send the transcript to Claude (ideally via MCP or `claude` CLI with `-p` flag) to extract structured memory suggestions
2. **Extract key insights** - Ask Claude to identify:
   - Bugs that were fixed (with root cause)
   - Architecture decisions made
   - Code patterns discovered
   - User preferences learned
   - Important implementation details

## Why This Matters

- Raw keyword extraction from transcripts loses important context
- Claude has already processed the conversation and understood the intent
- Leveraging Claude's understanding produces higher-quality memories
- This is the approach already used in the `UserPromptSubmit` hook

## Implementation Notes

- The hook can use `claude -p --model haiku` to process transcripts
- Extract structured keywords/subjects before storing as memories
- Use content hash for deduplication (prevents duplicate memories from same transcript)
- Should handle transcript changes gracefully (delete old, create new memories)
