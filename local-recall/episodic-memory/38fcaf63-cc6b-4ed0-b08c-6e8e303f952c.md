---
id: 38fcaf63-cc6b-4ed0-b08c-6e8e303f952c
subject: >-
  Memory extraction process for local-recall uses Claude Haiku to process
  transcripts
keywords:
  - memory
  - extraction
  - transcript
  - haiku
  - mcp-server
  - processing
  - background-daemon
applies_to: global
occurred_at: '2025-12-01T16:14:24.318Z'
content_hash: af748511b9427fff
---
# Memory Extraction Process

The local-recall MCP server uses a background daemon to extract memories from Claude Code transcripts:

1. **Transcript Collection**: Syncs transcripts from Claude's cache at `~/.claude/projects/<project>/transcripts/`
2. **Content Hashing**: Tracks processed transcripts using SHA-256 content hashes for change detection
3. **Memory Extraction**: Uses `claude -p` with Haiku model to extract memories from transcript content
4. **Idempotency**: Deletes and recreates memories when transcripts change (duplicate detection via content hash)
5. **Frequency**: Background daemon processes transcripts every 5 minutes

This enables asynchronous memory creation without requiring the Stop hook to be enabled.
