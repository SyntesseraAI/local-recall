---
id: db78a3f0-2dc9-422a-a774-ebc632e5c5c0
subject: UserPromptSubmit hook extracts keywords from prompt and searches memories
keywords:
  - user-prompt-submit hook
  - keyword extraction
  - fuzzy search
  - context augmentation
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-01T16:04:07.483Z'
content_hash: 71559ad2d5de7f06
---
The UserPromptSubmit hook triggers before Claude processes user prompts. It:
1. Receives the user's prompt via stdin
2. Extracts keywords using claude -p with haiku model
3. Performs fuzzy matching against memory index keywords
4. Outputs matching memories to stdout

This allows memories relevant to the current task to be injected into Claude's context dynamically, improving responses without explicit user action.
