---
id: ad1c9e21-0870-4149-9bda-65f1a3e0123a
subject: Thinking vector store uses SQLite with CREATE TABLE IF NOT EXISTS pattern
keywords:
  - thinking vector store
  - sqlite
  - database schema
  - idempotency
  - table creation
applies_to: 'file:src/core/thinking-vector-store.ts'
occurred_at: '2025-12-21T19:14:45.298Z'
content_hash: 27d6f464a6316620
---
The thinking vector store uses SQLite with `CREATE TABLE IF NOT EXISTS` pattern in `createTables()` method (lines 78-118). This makes table creation idempotent.

Key behavior:
- Tables can be safely recreated without errors
- If the database file is deleted, tables are automatically recreated on next initialization
- The processed log JSONL file can also be safely deleted - it will restart with empty cache on next load
- Deletion of both the processed log and memories allows complete reprocessing from scratch
