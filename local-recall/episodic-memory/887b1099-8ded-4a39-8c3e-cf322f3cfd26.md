---
id: 887b1099-8ded-4a39-8c3e-cf322f3cfd26
subject: >-
  Memory extraction system uses Claude Haiku to analyze transcripts and
  intelligently extract structured memories
keywords:
  - memory extraction
  - claude haiku
  - transcript analysis
  - structured memories
  - memory-extractor
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-01T21:40:01.411Z'
content_hash: 0f90e55be0708075
---
The memory extraction system in `src/core/memory-extractor.ts` uses Claude Haiku model to analyze condensed session transcripts and intelligently extract valuable memories that will help future AI assistants working on the codebase.

## Key Points

- The system receives condensed transcripts in a specific format with `[User]`, `[Assistant]`, `[Tool: Name]`, and `[Result: OK/ERROR]` events
- Claude Haiku analyzes the transcript to identify:
  - Architectural decisions and reasoning
  - Bug fixes and root cause analysis
  - Code patterns and conventions specific to the codebase
  - Configuration quirks or gotchas
  - User preferences and important relationships between components
  - Performance optimizations applied
- Memories must be specific with file paths, function names, and concrete details
- Each memory focuses on one concept with appropriate scope (`global`, `file:<path>`, or `area:<name>`)
- Output is a JSON object with a `memories` array containing objects with `subject`, `keywords`, `applies_to`, and `content` fields
- The system intelligently filters out generic programming knowledge, temporary debugging steps, and trivial information

## Important Guidelines

- DO NOT extract generic programming knowledge, temporary debugging steps, obvious information, or sensitive data
- DO extract architectural decisions, bug fixes, code patterns, configuration quirks, user preferences, and component relationships
- Each memory should be actionable and help future assistants avoid mistakes or work more efficiently
- Keywords should be lowercase and specific (1-10 per memory)
- Content should be detailed and in markdown format
