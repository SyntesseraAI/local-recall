---
id: 54409d90-74d6-4926-bae5-31800aae89e5
subject: transcript-collector.ts structure and event parsing
keywords:
  - transcript
  - collector
  - jsonl
  - parsing
  - events
  - tools
  - messages
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:14:36.907Z'
content_hash: 690918602a0b316f
---
# Transcript Collector Implementation

## File Location

`src/core/transcript-collector.ts` - Reads and parses Claude Code session transcripts

## Key Functionality

The collector reads JSONL transcript files and parses different event types:
- **Message events**: Have `role` (user/assistant) and `content` fields
- **Tool events**: Have `tool` name and `input`/`output` data
- **Structured data**: Needs to handle both string and object content

## Implementation Notes

- Parse each line as separate JSON object
- Handle different event structure variations
- Extract messages and tool invocations separately
- Transcript files are located at `~/.claude/projects/<project>/transcripts/`
- Files are JSONL format with one JSON object per line
