---
id: 476ecbd6-4d79-4297-b803-6846528193b1
subject: >-
  Logging strategy for database operations includes PID tracking and operation
  timing
keywords:
  - logging
  - database
  - pid
  - timing
  - debug
  - file-locking
applies_to: 'file:src/utils/database.ts'
occurred_at: '2025-12-21T19:16:09.210Z'
content_hash: 3019ecdf2ae4adb8
---
Enhanced logging in database.ts now includes:
- `[PID:xxxx]` prefix on all log entries to identify the process
- Lock acquisition logging showing attempt count and elapsed time
- Separate timing for sqlite-vec load vs total database initialization time
- Full stack traces on failure for easier debugging

This is especially important for the hook system where multiple processes access the same database concurrently.
