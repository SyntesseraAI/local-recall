---
id: e80ac96b-b7be-4353-ad54-dd2c4b8899aa
subject: Memory extractor tests cover schema validation edge cases
keywords:
  - memory-extractor
  - testing
  - edge-cases
  - schema-validation
  - zod
applies_to: 'file:tests/unit/core/memory-extractor.test.ts'
occurred_at: '2025-12-21T19:19:41.326Z'
content_hash: 7574348507e4437b
---
Created comprehensive test suite for memory extractor covering:
- Array response format (when Claude returns `[...]` directly)
- Object response format (when Claude returns `{ memories: [...] }`)
- Schema validation with Zod
- Memory field requirements (subject, keywords, applies_to, content)

Tests verify that the extractor correctly handles both response formats and validates memory structure according to the schema.
