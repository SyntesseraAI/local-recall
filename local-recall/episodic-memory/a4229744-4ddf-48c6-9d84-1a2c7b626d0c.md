---
id: a4229744-4ddf-48c6-9d84-1a2c7b626d0c
subject: >-
  Transcript condensing converts multi-line Claude Code transcripts into compact
  event format
keywords:
  - transcript
  - condensing
  - events
  - compression
  - parsing
  - transcript-collector
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:03:33.779Z'
content_hash: 8794ae8a4badbb08
---
# Transcript Condensing Logic

The transcript-collector condenses Claude Code JSONL transcripts into a compact event format:

## Compression Strategy
- Multi-line user messages are joined into single [User] events
- Assistant responses are concatenated with content from nested message objects
- Tool invocations (Read, Edit, Write, Bash, etc.) are captured with their tool names
- Results (OK/ERROR) follow tool invocations

## Event Types
- `[User]` - User input or questions
- `[Assistant]` - Claude's responses and explanations
- `[Tool: Name]` - Tool invocation (e.g., `[Tool: Read]`, `[Tool: Bash]`)
- `[Result: OK/ERROR]` - Outcome of tool execution

This condensed format reduces token usage while preserving essential information for memory extraction.
