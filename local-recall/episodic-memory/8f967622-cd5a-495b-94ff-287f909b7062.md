---
id: 8f967622-cd5a-495b-94ff-287f909b7062
subject: >-
  Memory extraction pipeline: transcript → keyword extraction → memory creation
  → duplicate detection
keywords:
  - memory-extraction
  - transcript
  - keyword-extraction
  - deduplication
  - pipeline
  - occurred_at
  - content_hash
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T06:30:32.846Z'
content_hash: 3266f2d19a4bbe77
---
The memory extraction pipeline works in stages: 1) Condense transcript to key events using Claude; 2) Extract keywords and content from condensed transcript; 3) Create memory with occurred_at (from transcript timestamp) and content_hash (SHA256 prefix); 4) findDuplicate() checks for existing memories with same occurred_at and content_hash to prevent duplicates. The deduplication relies on both timestamp and content hash to handle transcript updates correctly.
