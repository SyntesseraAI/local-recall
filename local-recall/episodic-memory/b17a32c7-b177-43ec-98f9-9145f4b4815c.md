---
id: b17a32c7-b177-43ec-98f9-9145f4b4815c
subject: >-
  Claude CLI JSON response parsing handles multiple formats and normalizes field
  names
keywords:
  - response parsing
  - claude cli
  - json handling
  - field normalization
  - memory extraction
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:38:36.102Z'
content_hash: c1e4bf4ba7b5bdeb
---
The Claude CLI response parser in `memory-extractor.ts` (lines 212-289) handles various JSON response formats from Claude, normalizing field names to match the expected `Memory` interface. It gracefully handles responses where Claude returns field names like `subject_line`, `applies_to_scope`, or variations thereof, converting them to the correct property names (`subject`, `applies_to`). This defensive parsing approach prevents memory extraction failures when Claude returns slightly different field naming conventions.
