---
id: 8385d822-a801-46ef-99ab-637e7cf6258e
subject: >-
  Local Recall uses MCP background daemon to process transcripts asynchronously
  every 5 minutes for memory extraction
keywords:
  - mcp
  - daemon
  - background-process
  - transcript-processing
  - memory-extraction
  - async
applies_to: global
occurred_at: '2025-12-01T15:55:14.475Z'
content_hash: 0e82ebb6a5c1f43f
---
# MCP Background Daemon for Memory Extraction

Local Recall has a background daemon that runs every 5 minutes to:
1. Sync transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
2. Process transcripts using `claude -p` to extract memories
3. Track processed transcripts with content hashes for change detection
4. Delete and recreate memories when transcripts change

## Why This Design

- The Stop hook was disabled in favor of this async approach
- Allows long-running transcript processing without blocking Claude
- More reliable than relying on Stop hook execution
- Handles transcript updates gracefully

## Implementation Details

- Runs as an MCP server process
- Uses content hashing to detect when transcripts change
- Maintains state about which transcripts have been processed
- Can be started with `npm run mcp:start`
