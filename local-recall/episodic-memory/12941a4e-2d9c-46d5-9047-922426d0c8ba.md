---
id: 12941a4e-2d9c-46d5-9047-922426d0c8ba
subject: UserPromptSubmit hook uses lazy-initialized vector store for semantic search
keywords:
  - user-prompt-submit
  - hook
  - semantic-search
  - lazy-initialization
  - vector-store
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-02T21:43:06.099Z'
content_hash: 407a3d333e07780f
---
The UserPromptSubmit hook initializes the vector store on first use and caches it for subsequent calls. This enables semantic search on user prompts while avoiding slow initialization on session start. The hook returns relevant memories injected into Claude's context.
