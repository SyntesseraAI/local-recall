---
id: 5c4f34ed-db89-47e1-ab88-4150d4c19137
subject: >-
  Hooks architecture simplified: direct Orama access instead of daemon HTTP
  calls
keywords:
  - hooks
  - orama
  - direct search
  - no daemon
  - simplification
applies_to: 'area:hooks'
occurred_at: '2025-12-21T19:31:12.509Z'
content_hash: 0ac5cf7e837b1861
---
# Hooks Simplified: Direct Orama Integration

Previously, Claude Code hooks (SessionStart, UserPromptSubmit) communicated with a background daemon via HTTP. This has been eliminated.

## New Architecture
- Hooks now import and use Orama directly
- No HTTP communication between hooks and services
- Orama provides semantic search functionality in-process
- Eliminates need for daemon coordination and process isolation

## Benefits
- Reduced complexity and failure points
- Faster search execution (no HTTP overhead)
- Easier to debug and test
- No mutex or concurrency issues

## Configuration
- SessionStart hook: Reads recent memories directly from files
- UserPromptSubmit hook: Performs semantic search via Orama, respects token budgets
- Hooks receive JSON input and output markdown to stdout for context injection

Both episodic and thinking memories now use unified hook approach.
