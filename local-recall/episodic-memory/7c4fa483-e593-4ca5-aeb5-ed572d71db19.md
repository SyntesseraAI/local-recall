---
id: 7c4fa483-e593-4ca5-aeb5-ed572d71db19
subject: User preferences for memory extraction and memory file handling
keywords:
  - memory-extraction
  - transcript-processing
  - user-preferences
  - memory-deduplication
  - content-hash
applies_to: global
occurred_at: '2025-12-01T16:12:27.294Z'
content_hash: 48610b3553bf2c77
---
# User Preferences for Memory Processing

## Memory File Handling

The user prefers:
1. **Idempotent memory creation**: Memories should be created with deduplication based on `occurred_at` timestamp and `content_hash`. If a memory with the same timestamp and content hash already exists, return the existing memory instead of creating a duplicate.
2. **Content hashing for deduplication**: Use SHA-256 prefix (16 characters) for `content_hash` field to detect duplicate memory content
3. **Timestamp-based deduplication**: The `occurred_at` field stores ISO-8601 timestamps and is used alongside content hash to identify duplicate entries

## Transcript Processing

The user mentioned that:
- Transcripts can be long and contain multiple distinct events
- Before extracting individual memories, transcripts should be condensed into a structured event format
- The condensed format uses `[User]`, `[Assistant]`, and `[Tool: Name]` markers to create a concise summary
- This condensation reduces context and makes it easier to process

## Memory Extraction Guidelines

Memories should:
- Be specific and actionable
- Include file paths, function names, and concrete details
- Focus on one concept per memory
- Use appropriate scope (`global`, `file:<path>`, `area:<name>`)
