---
id: 3edcc0bf-f6d1-4458-ba5d-eb696a4d9c10
subject: Transcript condensing implementation in memory extraction pipeline
keywords:
  - transcript
  - condensing
  - memory-extraction
  - compression
  - token-efficiency
  - haiku-model
applies_to: global
occurred_at: '2025-12-01T15:54:41.498Z'
content_hash: 84308423d7d07ba3
---
# Transcript Condensing in Memory Extraction

The memory extraction pipeline (in the MCP server) uses transcript condensing to reduce context size before processing with Claude Haiku.

## Why Condense?

Transcripts can be very long, containing many tool invocations and results. Condensing:
- Reduces token usage and cost
- Makes Claude's extraction task faster
- Preserves essential information while removing noise

## Condensing Format

Transcripts are condensed into events:
- `[User]` - What the user asked
- `[Assistant]` - What Claude said or explained
- `[Tool: Name]` - Tool invocations (Read, Edit, Write, Bash, Grep, etc.)
- `[Result: OK/ERROR]` - Outcome of tool invocations

Full tool results (especially file contents) are omitted; only the status matters for memory extraction.

## Implementation Location

Transcript condensing logic should be in the transcript processing utilities, likely `src/utils/transcript.ts` or similar.
