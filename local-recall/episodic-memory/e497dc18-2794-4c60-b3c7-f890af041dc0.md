---
id: e497dc18-2794-4c60-b3c7-f890af041dc0
subject: Stop hook is disabled - MCP daemon handles memory extraction from transcripts
keywords:
  - stop hook
  - mcp daemon
  - memory extraction
  - transcript processing
  - background task
applies_to: global
occurred_at: '2025-12-01T15:55:34.707Z'
content_hash: 4e4c10e4c9cbdba2
---
## Stop Hook Status

The Stop hook is **currently disabled** in the Local Recall plugin.

### Why Disabled

Memory extraction from transcripts is handled by the **MCP server's background daemon** instead:

- Runs every 5 minutes (asynchronously)
- Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
- Processes transcripts using `claude -p` to extract memories
- Tracks processed transcripts with content hashes to detect changes
- Deletes and recreates memories when transcripts change

### Hook Configuration

The Stop hook entry exists in `hooks.json` but is not active in Claude Code plugin configuration. Future implementations might re-enable it if:
- Synchronous memory extraction at session end becomes desirable
- The daemon approach proves unreliable
- Real-time memory creation is preferred over 5-minute intervals
