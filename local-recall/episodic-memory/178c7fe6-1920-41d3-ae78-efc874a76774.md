---
id: 178c7fe6-1920-41d3-ae78-efc874a76774
subject: >-
  LOCAL_RECALL_INTERNAL messages cause transcript recursion - filter before
  processing
keywords:
  - bug
  - transcript processing
  - memory extraction
  - recursion
  - LOCAL_RECALL_INTERNAL
  - infinite loop prevention
applies_to: global
occurred_at: '2025-12-02T11:36:37.453Z'
content_hash: c92a58bea8fff7f8
---
The transcript collection system has a critical bug where it processes `[LOCAL_RECALL_INTERNAL]` prefixed messages, causing infinite recursion. When the memory extraction hook processes a transcript that contains its own `[LOCAL_RECALL_INTERNAL]` output, it re-processes the same content recursively.

**Root Cause:** The transcript parser doesn't filter out `[LOCAL_RECALL_INTERNAL]` messages before passing the transcript to memory extraction.

**Solution:** Filter or strip all lines beginning with `[LOCAL_RECALL_INTERNAL]` from transcripts before processing them through the memory extraction pipeline.

**Impact:** This prevents the transcript collector from getting stuck in infinite loops and creating duplicate memories.
