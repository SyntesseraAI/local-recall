---
id: 09150c9c-175f-4286-b761-a24cdbc1f672
subject: >-
  Data loading into vector store happens through MemoryManager and VectorStore
  coordination
keywords:
  - data-loading
  - initialization
  - sync
  - vector-store
  - memory-manager
applies_to: global
occurred_at: '2025-12-21T19:19:15.418Z'
content_hash: 1c743f67667665d1
---
The vector store initialization process involves:

1. **VectorStore.initialize()**: Called on first access, scans the memory directory, reads all markdown memory files, generates embeddings via Ollama, and populates SQLite with both metadata and vector data.

2. **Subsequent updates**: MemoryManager.createMemory() writes markdown files to disk, then immediately adds to vector store via vectorStore.add(). This ensures the database stays synchronized.

3. **MCP daemon sync**: The background daemon in server.ts:73 calls vectorStore.sync(memories) periodically to handle file system changes and keep the database current.

This three-layer approach ensures memories are always available for search whether created programmatically, via the file system, or discovered during transcript processing.
