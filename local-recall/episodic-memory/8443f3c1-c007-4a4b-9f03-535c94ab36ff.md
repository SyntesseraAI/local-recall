---
id: 8443f3c1-c007-4a4b-9f03-535c94ab36ff
subject: Memory extraction uses Claude Haiku via subprocess with streaming output
keywords:
  - memory extraction
  - claude haiku
  - subprocess
  - streaming
  - transcript processing
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:14:31.146Z'
content_hash: 18d1b60b14aa4b9d
---
The memory extraction process in `memory-extractor.ts` uses `execSync` to run Claude Haiku as a subprocess with the `-p` (prompt) flag, passing the transcript and memory extraction prompt via stdin. The process uses stdout streaming to collect the response. This approach avoids loading the full Claude SDK and keeps the extraction fast and lightweight.
