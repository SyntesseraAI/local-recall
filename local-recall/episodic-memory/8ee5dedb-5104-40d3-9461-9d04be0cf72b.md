---
id: 8ee5dedb-5104-40d3-9461-9d04be0cf72b
subject: Memory extraction happens asynchronously every 5 minutes via MCP server daemon
keywords:
  - mcp
  - server
  - daemon
  - memory-extraction
  - transcript-processing
  - background-job
applies_to: global
occurred_at: '2025-12-01T15:58:05.440Z'
content_hash: 373a83454956e59f
---
# Memory Extraction Flow

The Local Recall project uses an asynchronous background daemon approach for memory extraction:

## Timing
- Memory extraction happens every 5 minutes (not on stop hook)
- The Stop hook is currently disabled
- MCP server daemon processes transcripts continuously in the background

## Process
1. MCP server syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
2. Processes transcripts using `claude -p` to extract memories
3. Tracks processed transcripts with content hashes for change detection
4. Deletes and recreates memories when transcripts change
5. Runs on a 5-minute interval

This design allows the main Claude Code session to continue uninterrupted while memories are extracted asynchronously in the background.
