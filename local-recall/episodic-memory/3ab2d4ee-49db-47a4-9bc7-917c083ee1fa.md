---
id: 3ab2d4ee-49db-47a4-9bc7-917c083ee1fa
subject: Session-start hook simplified to use file-based MemoryManager
keywords:
  - hooks
  - session-start
  - memory-manager
  - file-based
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-03T10:13:19.759Z'
content_hash: 84211962fde3e6de
---
Simplified the session-start hook to only use the file-based MemoryManager:

- Removed HTTP daemon calls and DaemonClient
- Now directly calls `listMemories()` to get recent memories without semantic search
- No vector store operations needed for this hook (just returns most recent)
- Returns memories from episodic or thinking stores based on configuration
- Falls back gracefully if memory retrieval fails

This is safe because the hook only needs recency ranking (already provided by filesystem timestamps), not semantic search.
