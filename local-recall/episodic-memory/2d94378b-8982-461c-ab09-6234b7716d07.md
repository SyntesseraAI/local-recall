---
id: 2d94378b-8982-461c-ab09-6234b7716d07
subject: Memory deduplication prevents duplicates at creation time
keywords:
  - deduplication
  - duplicate-prevention
  - content-hash
  - occurred-at
  - memory-manager
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-21T18:20:14.815Z'
content_hash: 8ce1c6a7260f682a
---
MemoryManager has a `findDuplicate()` method (lines 52-67) that prevents duplicate memories from being created. Before creating a new memory, it checks if one with the same `occurred_at` timestamp AND `content_hash` already exists. If found, it returns the existing memory instead of creating a new one.

This is the only deduplication mechanism - there is NO active compaction or cleanup process that consolidates memories over time. Memories accumulate indefinitely (subject to a `maxMemories` config limit).
