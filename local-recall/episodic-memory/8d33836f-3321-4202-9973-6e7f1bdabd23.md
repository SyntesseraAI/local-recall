---
id: 8d33836f-3321-4202-9973-6e7f1bdabd23
subject: >-
  Memory extraction pipeline uses Claude Haiku with structured prompts for
  keyword and duplicate detection
keywords:
  - memory-extractor
  - claude-haiku
  - keyword-extraction
  - duplicate-detection
  - memory-pipeline
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:21:50.973Z'
content_hash: c4c6b2e57d74c734
---
The memory extraction pipeline in `memory-extractor.ts` uses Claude Haiku to:

1. Extract keywords from transcript content via `extractKeywords()` which calls the Haiku model
2. Detect duplicate memories by comparing content hashes and occurred_at timestamps
3. Filter memories for relevance to specific scopes (global, file-specific, area-specific)

The extraction process integrates with transcript parsing and uses structured prompts to identify key concepts. Keywords are used for fuzzy search matching in the index.

Key methods:
- `extractKeywords(content)` - Gets keywords from Claude Haiku
- `isDuplicate(occurredAt, contentHash)` - Checks existing memories for duplicates
- `filterByScope(memories, scope)` - Filters memories by applies_to scope
