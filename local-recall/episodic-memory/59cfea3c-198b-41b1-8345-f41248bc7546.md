---
id: 59cfea3c-198b-41b1-8345-f41248bc7546
subject: >-
  Hook configuration for local-recall must be in .claude/settings.json for
  UserPromptSubmit to fire
keywords:
  - hooks
  - configuration
  - userpromptsubmit
  - claude-code
  - settings
applies_to: global
occurred_at: '2025-12-21T19:21:30.507Z'
content_hash: 2239ff31d85f2f8c
---
The SessionStart hook fires automatically when configured, but UserPromptSubmit hook requires explicit configuration in .claude/settings.json. Without this configuration file, UserPromptSubmit won't fire even though the hook code exists and returns proper JSON output with `hookSpecificOutput` structure. The hook code is built to dev-marketplace/local-recall-plugin/scripts/hooks/ by npm run build.

Hook configuration needs:
- SessionStart: Loads recent memories from files
- UserPromptSubmit: Searches memories and returns JSON context
- Stop: Analyzes transcripts for memory extraction
