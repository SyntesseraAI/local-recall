---
id: 75e25198-a59f-4b5e-af39-6e758709a3dc
subject: Memory extraction from user prompt to avoid redundant keyword extraction
keywords:
  - memory-extraction
  - optimization
  - claude-haiku
  - user-prompt
  - keywords
  - performance
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-01T15:56:54.469Z'
content_hash: 6b941b1d3720e2c5
---
# Memory Extraction Optimization

## Issue

The `user-prompt-submit` hook currently calls Claude Haiku to extract keywords from user prompts. This is:
- Redundant when the same keywords have already been extracted from the transcript
- Inefficient in terms of API calls and latency
- Unnecessary since memory memories are already indexed

## Solution

Optimize the hook to search the existing memory index first based on prompt content, rather than extracting keywords and searching. This eliminates the redundant Claude API call.

## Impact

- Reduces API calls and latency
- Improves user experience with faster hook execution
- Uses existing indexed memories more efficiently
