---
id: bec7cb39-3783-4460-b972-360456f43f29
subject: Fuzzy search implementation uses ripgrep-based Grep tool for keyword matching
keywords:
  - fuzzy-search
  - keywords
  - grep
  - ripgrep
  - search
  - memory-retrieval
applies_to: 'file:src/core/search.ts'
occurred_at: '2025-12-01T15:55:36.260Z'
content_hash: d5633699b45841ff
---
The search functionality relies on fuzzy matching of keywords stored in the memory index:

**Search Mechanism**:
- The index (`local-recall/index.json`) maps keywords to memory IDs
- `searchByKeywords(query)` performs fuzzy matching against the keyword index
- Uses ripgrep (via the Grep tool) for efficient full-text search across memory files

**Key Points**:
- Fuzzy matching allows approximate keyword matches (typos, partial words)
- Search results are sorted by relevance score
- The index is built from all memory file metadata
- Memories are filtered by scope (global, file-specific, area-specific) after keyword search

**Threshold Configuration**:
- Default fuzzy threshold is 0.6 (configurable)
- Matches below the threshold are filtered out
