---
id: 1c4deaaf-e749-460f-af11-b9c7a997fb64
subject: >-
  Transcript collector cleanup strategy prevents synthetic transcript
  accumulation
keywords:
  - cleanup
  - synthetic files
  - transcript management
  - local folder
  - cache sync
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-21T18:28:20.994Z'
content_hash: a7b4c5c2e13fe13b
---
## Two-Layer Synthetic Filtering Strategy

The transcript collector uses a two-layer approach to prevent synthetic transcripts from accumulating:

1. **Pre-copy filtering**: The new check in `syncTranscripts()` prevents synthetic transcripts from being copied from Claude's cache in the first place
2. **Fallback cleanup**: `cleanupTranscripts()` still runs to remove any synthetic files that might exist in the local folder from previous runs

This defensive approach ensures synthetic transcripts never accumulate locally, even if the pre-copy filter somehow fails to catch them.

### Implementation Detail
The cleanup runs at the start of every sync cycle, so it acts as a safety net for any synthetic transcripts that slipped through previously or were added manually.
