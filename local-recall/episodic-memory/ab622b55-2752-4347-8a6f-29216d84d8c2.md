---
id: ab622b55-2752-4347-8a6f-29216d84d8c2
subject: UserPromptSubmit hook searches memory before Claude processes user input
keywords:
  - hooks
  - user-prompt-submit
  - memory-search
  - fuzzy-matching
applies_to: global
occurred_at: '2025-12-02T11:34:45.077Z'
content_hash: 37ac93a6364e39b5
---
UserPromptSubmit hook is triggered when user submits a prompt, BEFORE Claude processes it. It:
1. Receives JSON with session_id, transcript_path, cwd, prompt
2. Extracts keywords from the prompt using Claude Haiku
3. Searches memory index with fuzzy matching
4. Outputs matching memories to stdout (context injection)

This ensures relevant context from past sessions is available when addressing new tasks.
