---
id: ed69c1fd-2d29-45f0-9e9f-57fdf8b000c7
subject: >-
  Transcript collector should use Claude to extract memories from raw
  transcripts
keywords:
  - transcript
  - memory
  - extraction
  - claude-api
  - mcp-server
  - daemon
  - async
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:16:35.588Z'
content_hash: af59f458ea48a1f1
---
# Transcript Memory Extraction

The transcript collector should use Claude (via `claude -p` or the Claude API) to process raw JSONL transcripts and extract valuable memories.

## Current Implementation

The `transcript-collector.ts` file needs to:
1. Read JSONL transcript files from `~/.claude/projects/[project]/transcripts/`
2. Parse each line as a JSON event
3. Condense the transcript into a structured format with [User], [Assistant], [Tool], [Result] sections
4. Send the condensed transcript to Claude for memory extraction
5. Create memory files based on Claude's response

## Key Considerations

- Transcripts can be large, so condensing them reduces token usage
- Claude should be instructed to focus on:
  - Architecture and patterns learned
  - Bugs fixed and their root causes
  - Code-specific conventions and quirks
  - Important relationships between components
- The MCP daemon runs this asynchronously every 5 minutes
