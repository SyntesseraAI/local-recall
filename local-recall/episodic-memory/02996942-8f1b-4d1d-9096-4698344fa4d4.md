---
id: 02996942-8f1b-4d1d-9096-4698344fa4d4
subject: >-
  Memory extraction handles thinking blocks but user-prompt-submit doesn't
  inject them
keywords:
  - thinking blocks
  - memory injection
  - context window
  - user-prompt-submit
applies_to: global
occurred_at: '2025-12-01T23:09:28.598Z'
content_hash: aa5b8a600475fefa
---
There's an asymmetry in the system: the `stop.ts` hook processes thinking blocks and can create memories containing them, but the `user-prompt-submit.ts` hook doesn't inject thinking blocks into the context. This is by design - thinking blocks are private reasoning and shouldn't be shown to users, only factual memory content should be injected.
