---
id: 34963cf4-156e-460b-9312-eb5a78e57bfb
subject: MemoryManager must ensure .gitignore exists in local-recall directory
keywords:
  - gitignore
  - memory-manager
  - initialization
  - directory-setup
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-01T16:13:05.103Z'
content_hash: a28ca879fc6b54b8
---
The MemoryManager class was not creating the `.gitignore` file in the `local-recall/` parent directory. It only created the `local-recall/memories/` subdirectory. The fix involved:

1. Storing the base directory as a class property in MemoryManager
2. Adding an `ensureGitignore()` method that:
   - Creates `local-recall/.gitignore` with entries:
     - `/index.json` (gitignored - auto-generated)
     - `/recall.log` (gitignored - debug log)
     - `!/episodic-memory/` (allow tracking memories)
3. Calling `ensureGitignore()` in the MemoryManager constructor

This ensures the `.gitignore` file is always created when memory operations occur, not just when the IndexManager is invoked.
