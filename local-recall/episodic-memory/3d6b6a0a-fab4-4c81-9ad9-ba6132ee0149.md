---
id: 3d6b6a0a-fab4-4c81-9ad9-ba6132ee0149
subject: >-
  UserPromptSubmit hook returns JSON but requires .claude/settings.json
  configuration
keywords:
  - hooks
  - userpromptsubmit
  - configuration
  - json
  - claude
  - settings
applies_to: global
occurred_at: '2025-12-21T19:20:51.697Z'
content_hash: cd8010fd22165966
---
The UserPromptSubmit hook in src/hooks/user-prompt-submit.ts correctly returns JSON output via `console.log(JSON.stringify(output))` with structure `{ hookSpecificOutput: { hookEventName, additionalContext } }`. However, the hook won't fire unless it's properly configured in `.claude/settings.json`. Without this configuration file, the hook is never invoked even though the code is correct.
