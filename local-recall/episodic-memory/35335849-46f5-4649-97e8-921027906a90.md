---
id: 35335849-46f5-4649-97e8-921027906a90
subject: Memory subject extraction prefers first line for multiline text
keywords:
  - subject
  - summarization
  - first-line
  - multiline
applies_to: 'file:src/utils/summarize.ts'
occurred_at: '2025-12-01T16:05:01.324Z'
content_hash: 0ca20cb4fddbfac6
---
The `generateSubject` function now intelligently handles subject extraction:
1. If text contains newlines: return the first line
2. If single-line text: return text up to first period, or all text if no period

This avoids creating truncated subjects from multiline content while properly summarizing single sentences.
