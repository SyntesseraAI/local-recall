---
id: 9f4a8428-62aa-4ca1-bb41-ada2498fb0d1
subject: MCP server daemon processes transcripts asynchronously every 5 minutes
keywords:
  - mcp-server
  - daemon
  - transcript-processing
  - memory-extraction
  - background-job
applies_to: 'area:mcp-server'
occurred_at: '2025-12-02T17:54:44.447Z'
content_hash: 71f4a6dc0746b2e9
---
The MCP server runs a background daemon that:
1. Syncs transcripts from Claude's cache (~/.claude/projects/<project>/transcripts/)
2. Processes transcripts using claude -p to extract memories
3. Tracks processed transcripts with content hashes for change detection
4. Deletes and recreates memories when transcripts change
5. Runs every 5 minutes

Core components for this functionality:
- transcript-collector.ts: Collects transcripts from Claude cache
- transcript-condenser.ts: Condenses transcripts for processing
- memory-extractor.ts: Extracts memories from transcripts
- processed-log.ts: Tracks processed transcripts

The Stop hook is disabled in favor of this async approach.
