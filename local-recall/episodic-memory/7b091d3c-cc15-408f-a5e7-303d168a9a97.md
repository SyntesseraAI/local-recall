---
id: 7b091d3c-cc15-408f-a5e7-303d168a9a97
subject: >-
  Memory extraction uses Claude Haiku with structured prompt for converting
  transcripts to memories
keywords:
  - memory extraction
  - claude haiku
  - transcript processing
  - memory format
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T06:32:42.771Z'
content_hash: 7c899a6470c5dae9
---
The memory extractor uses `claude -p` with Haiku model to convert session transcripts into structured memories. The process:
1. Takes a transcript string as input
2. Uses a system prompt that instructs Claude to extract valuable learnings
3. Sends the transcript for analysis
4. Parses the response into memory objects with id, subject, keywords, applies_to, occurred_at, and content_hash
5. Filters out empty memories and invalid entries

The extraction prompt is defined in `src/prompts/memory-extraction.ts` and provides specific guidelines for what constitutes valuable memories vs. noise.
