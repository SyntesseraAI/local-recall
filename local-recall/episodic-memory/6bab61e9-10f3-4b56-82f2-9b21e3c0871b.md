---
id: 6bab61e9-10f3-4b56-82f2-9b21e3c0871b
subject: 'Local Recall has three main hooks: SessionStart, UserPromptSubmit, and Stop'
keywords:
  - hooks
  - session-start
  - user-prompt-submit
  - stop
  - integration
  - claude-code
applies_to: global
occurred_at: '2025-12-21T19:17:14.934Z'
content_hash: 5dbc8f66661446fc
---
Local Recall integrates with Claude Code through three hooks:

1. **SessionStart Hook** (`src/hooks/session-start.ts`) - Triggered when a Claude Code session begins. Loads the memory index and searches for relevant memories, outputting them to stdout for injection into Claude's context.

2. **UserPromptSubmit Hook** (`src/hooks/user-prompt-submit.ts`) - Handles semantic search for episodic and thinking memories, filtering by similarity threshold and token budget before injection.

3. **Stop Hook** (`src/hooks/stop.ts`) - Parses transcripts and creates memories asynchronously via MCP server daemon.

Hooks receive JSON input via stdin and output memory content via stdout for context injection.
