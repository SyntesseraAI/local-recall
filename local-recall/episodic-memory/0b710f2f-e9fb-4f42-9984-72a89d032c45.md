---
id: 0b710f2f-e9fb-4f42-9984-72a89d032c45
subject: Memory deduplication uses content hash and timestamp
keywords:
  - deduplication
  - content hash
  - occurred_at
  - memory lifecycle
  - findDuplicate
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-02T01:34:20.503Z'
content_hash: fce50767c2d22b7b
---
The memory system prevents duplicates through:
1. `occurred_at` timestamp - tracks when the original event occurred
2. `content_hash` - SHA-256 prefix (16 chars) of the memory content
3. `findDuplicate(occurredAt, contentHash)` method in memory.ts - checks for existing duplicate

When transcript content changes, old memories associated with that transcript are deleted and new ones are created based on the new content hash.
