---
id: d21b3742-f2e5-4d48-bf71-e24308e598e2
subject: >-
  transcript-collector.ts provides transcript discovery and parsing for memory
  extraction
keywords:
  - transcript-collector
  - transcript-parsing
  - memory-extraction
  - json-parsing
  - file-discovery
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:22:35.411Z'
content_hash: 2528ff442aec619a
---
# Transcript Collector Implementation

The `transcript-collector.ts` module handles finding and parsing Claude Code transcripts.

## Key Responsibilities

1. **Transcript Discovery**: Find transcript files in Claude's storage location
2. **JSON Parsing**: Parse transcript JSON to extract conversation data
3. **Content Hashing**: Generate content hashes for change detection
4. **Memory Extraction**: Process transcript content to identify memory-worthy information

## Integration with Memory System

The transcript collector is used by:
- MCP server daemon - processes transcripts every 5 minutes
- User-prompt-submit hook - may reference transcripts for context
- Memory creation pipeline - feeds parsed transcripts to memory extraction

## Expected Transcript Structure

Claude transcripts are JSON files with:
- Conversation entries (user messages, assistant responses)
- Metadata (timestamps, session info)
- Tool invocations and results
- Context about what was discussed and accomplished

## Important Notes

- Content hashing is critical for detecting when transcripts change
- Changed transcripts trigger memory deletion and recreation
- The path encoding scheme for finding transcripts must match Claude's internal naming
