---
id: 0107d98d-519d-49c6-b215-6b1f3938a45c
subject: Memory extraction uses Haiku model with 10 minute timeout and single turn
keywords:
  - memory-extraction
  - haiku
  - timeout
  - single-turn
  - json-only
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-21T18:29:15.440Z'
content_hash: 7c845359ca3134ec
---
Memory extraction via `claude -p` should use:
- Model: `haiku` (use `--model haiku` flag)
- Timeout: 600000ms (10 minutes)
- Single turn: `--max-turns 1` flag
- Response format: JSON only (no markdown, no explanation)

This is configured in the `callClaudeCLI` method in memory-extractor.ts around line 79-84. Haiku is fast and cheap for structured extraction tasks.
