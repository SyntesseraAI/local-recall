---
id: caab6d9f-96c0-4415-80fc-0471bf3d1323
subject: >-
  Claude CLI JSON response parsing handles multiple formats and normalizes field
  names
keywords:
  - response parsing
  - claude cli
  - json handling
  - field normalization
  - memory extraction
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:27:59.401Z'
content_hash: 9d6bab80c4f835b4
---
The Claude CLI response parser handles responses from `claude -p` that may come in different formats. The parser normalizes field names (e.g., `keywords_array` → `keywords`, `subject_line` → `subject`) and converts string arrays to proper arrays. This handles variations in how Claude formats JSON responses across different versions or configurations.

Implementation: The parser uses a utility function to normalize field names by converting snake_case to camelCase and handling variations in array field naming. This makes the memory extraction pipeline robust to format changes.
