---
id: a0c18a04-cf05-4463-b788-7798a76556c5
subject: Transcript deduplication uses content hash to detect changes
keywords:
  - deduplication
  - content-hash
  - transcript-processing
  - change-detection
  - processed-log
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-02T22:01:19.831Z'
content_hash: d1a4b6176eee229d
---
# Transcript Change Detection via Content Hash

## Deduplication Strategy

To avoid reprocessing the same transcript content:
1. Compute a content hash (SHA-256) of the transcript
2. Store the hash along with timestamp in a processed log
3. On next run, compare current transcript hash against stored hash
4. Only process if hashes differ (file changed)

## Implementation Details

- **File**: `src/core/processed-log.ts`
- **Storage**: JSON file tracking `{transcriptPath, hash, timestamp}` entries
- **Hash Algorithm**: SHA-256 prefix (16 characters, similar to git short SHA)
- **Location**: Stored in `local-recall/` directory (gitignored)

## Benefits

1. **Efficient**: Only reprocess when transcript actually changes
2. **Reliable**: Handles transcript file modifications gracefully
3. **Simple**: Uses standard SHA-256 hashing

## Important Note

This deduplication is for transcript-level tracking. Individual memory deduplication is handled separately in `memory.ts` using the same content hash approach with `(occurredAt, contentHash)` tuples.
