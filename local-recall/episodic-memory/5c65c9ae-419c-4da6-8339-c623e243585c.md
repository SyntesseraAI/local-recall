---
id: 5c65c9ae-419c-4da6-8339-c623e243585c
subject: >-
  TranscriptCollector converts Claude file paths to project directory paths for
  memory extraction
keywords:
  - transcript-collector
  - path-conversion
  - claude-path
  - project-directory
  - file-mapping
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T21:25:05.268Z'
content_hash: cc659564a903de16
---
# TranscriptCollector Path Conversion Logic

The `TranscriptCollector` class handles converting Claude's internal transcript file paths to actual project directory paths.

## Key Method: `convertClaudePathToProjectDirectory()`

This method:
1. Takes the Claude transcript file path (e.g., from `~/.claude/projects/...`)
2. Extracts the project directory encoding from the path
3. Converts it back to the actual absolute project path
4. Returns the project directory path

This is critical for memory extraction because transcripts are stored in Claude's cache but need to reference the actual project being worked on.

## Implementation Details

- Handles macOS path format with hyphen-separated directory names
- Uses URL decoding or similar reverse mapping to restore original paths
- Enables the memory system to correctly associate memories with specific projects
