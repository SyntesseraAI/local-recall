---
id: 687199b5-e239-4c27-a864-338324203085
subject: 'Hooks architecture: three main hooks for Claude Code integration'
keywords:
  - hooks
  - session-start
  - user-prompt-submit
  - stop
  - claude-code-integration
  - memory-injection
applies_to: global
occurred_at: '2025-12-21T18:19:53.806Z'
content_hash: 50c8ebd74cb2c1b7
---
Local Recall has three main hooks that integrate with Claude Code:

1. **SessionStart Hook** (`src/hooks/session-start.ts`) - Triggered when a Claude Code session begins, loads memory index and injects relevant memories into context
2. **UserPromptSubmit Hook** (`src/hooks/user-prompt-submit.ts`) - Runs before Claude processes user prompts, performs semantic search on memories
3. **Stop Hook** (`src/hooks/stop.ts`) - Processes transcripts and extracts new memories

Hooks are configured in `.claude/settings.json` and receive JSON via stdin, outputting results to stdout for injection into Claude's context.
