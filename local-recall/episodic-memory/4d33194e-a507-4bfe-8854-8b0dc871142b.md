---
id: 4d33194e-a507-4bfe-8854-8b0dc871142b
subject: Memory index is built at SessionStart and never updated during the session
keywords:
  - index
  - session-start
  - memory index
  - static
  - performance
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-01T16:31:23.220Z'
content_hash: df2638df3445d73a
---
The SessionStart hook loads the memory index from disk (`local-recall/index.json`) once at the beginning of a Claude Code session. This index remains static throughout the entire session and is never refreshed or updated.

**Implication:** If new memories are created during a session (via MCP tools or other means), the SessionStart hook and UserPromptSubmit hook won't be aware of them until the next session starts.

**Design decision:** This is likely intentional for performance reasonsâ€”rebuilding the index during every prompt would be expensive. However, it means newly created memories won't be available in the current session's memory search.
