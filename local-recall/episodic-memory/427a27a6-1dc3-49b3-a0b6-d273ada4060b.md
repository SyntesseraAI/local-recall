---
id: 427a27a6-1dc3-49b3-a0b6-d273ada4060b
subject: Extract keywords from user prompts using Claude Haiku with -p flag
keywords:
  - keywords
  - extraction
  - claude
  - haiku
  - prompt
  - nlp
applies_to: 'area:hooks'
occurred_at: '2025-12-01T21:52:32.656Z'
content_hash: 60db5017513b52d4
---
# Keyword Extraction from User Prompts

The UserPromptSubmit hook uses `claude -p --model haiku` to extract keywords from user prompts before searching memories.

## Implementation Details

- Command: `echo "<prompt>" | claude -p --model haiku`
- The `-p` flag processes stdin
- Uses Haiku model for fast, lightweight extraction
- Returns keywords that can be used for fuzzy matching against memory index

## Purpose

Extracting keywords allows the system to:
1. Understand what the user is asking about
2. Search the memory index for relevant contexts
3. Inject matching memories into Claude's context before processing the prompt

## Integration Point

This is used in `src/hooks/user-prompt-submit.ts` to dynamically surface relevant memories based on the user's actual query, not just file context.
