---
id: 4ce15326-a8b4-449a-887e-0d9ef1b7e274
subject: 'Architecture decision: Defer Stop hook to async MCP server daemon'
keywords:
  - stop hook
  - async processing
  - mcp server daemon
  - transcript analysis
  - background processing
applies_to: global
occurred_at: '2025-12-01T15:53:55.248Z'
content_hash: a3d5dbbe9be7f138
---
The Stop hook is disabled in favor of an async MCP server daemon that processes transcripts every 5 minutes. This design decision allows the hook to return immediately without blocking Claude, while the daemon handles the computationally expensive transcript analysis and memory extraction asynchronously. The daemon tracks processed transcripts using content hashes to detect changes and avoid re-processing.
