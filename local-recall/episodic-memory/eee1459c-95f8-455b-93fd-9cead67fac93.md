---
id: eee1459c-95f8-455b-93fd-9cead67fac93
subject: IndexManager.getIndex() ensures .gitignore exists on every session start
keywords:
  - gitignore
  - index
  - session-start
  - indexmanager
  - ensuredir
applies_to: 'file:src/core/index.ts'
occurred_at: '2025-12-21T19:01:06.461Z'
content_hash: 0d937995cedf4402
---
The `IndexManager.getIndex()` method was updated to always call `ensureGitignore()` before returning the index. This ensures that the `.gitignore` file is created on every session start, even if the index file already exists. Previously, `ensureGitignore()` was only called during `buildIndex()` when the index file didn't exist, so if the index existed but `.gitignore` was missing, it wouldn't be created.

**Location**: `src/core/index.ts`, line 99

**Related method**: `ensureGitignore()` (lines 190-209) creates a `.gitignore` file in the local-recall directory with entries to ignore `orama-*-index.json` and `recall.log` files.
