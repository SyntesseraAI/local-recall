---
id: 62336e09-1429-474b-8b4d-b6ce43903348
subject: >-
  MCP server background daemon processes transcripts asynchronously every 5
  minutes
keywords:
  - mcp
  - server
  - daemon
  - transcripts
  - background
  - interval
  - processing
  - memory-extraction
applies_to: 'area:mcp-server'
occurred_at: '2025-12-01T16:34:14.297Z'
content_hash: c9612424f6ac9daf
---
# MCP Server Background Daemon

The MCP server runs a background daemon that automatically processes Claude transcripts:

## Processing Flow

1. Syncs transcripts from `~/.claude/projects/<project>/transcripts/` every 5 minutes
2. Tracks processed transcripts using content hashes for change detection
3. Extracts memories from new/changed transcripts using `claude -p` CLI
4. Stores extracted memories in `local-recall/episodic-memory/`
5. Deletes and recreates memories when transcripts change

## Key Features

- **Change detection**: Uses content hashes to avoid reprocessing unchanged transcripts
- **Idempotent**: Safe to run multiple times without creating duplicates
- **Configurable interval**: Can be adjusted via configuration
- **Error resilient**: Continues processing other transcripts even if one fails

## Important Notes

- The Stop hook is currently disabled in favor of this daemon approach
- The daemon runs continuously when the MCP server is active
- Memories are automatically created from transcript analysis
