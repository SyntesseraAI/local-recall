---
id: 0997520b-db68-4a06-89b1-79ac8ee49dc3
subject: MCP server runs background daemon for async transcript processing
keywords:
  - mcp-server
  - background-daemon
  - transcript-processing
  - memory-extraction
applies_to: 'area:mcp-server'
occurred_at: '2025-12-02T16:46:45.021Z'
content_hash: 4dd029bd3da35181
---
The MCP server (`src/mcp-server/server.ts`) runs a background daemon that:
- Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
- Processes transcripts using `claude -p` to extract memories
- Tracks processed transcripts with content hashes for change detection
- Deletes and recreates memories when transcripts change
- Runs every 5 minutes

The Stop hook is disabled in favor of this async approach to avoid blocking Claude.
