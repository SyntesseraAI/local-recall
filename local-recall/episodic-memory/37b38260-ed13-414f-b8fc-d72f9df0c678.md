---
id: 37b38260-ed13-414f-b8fc-d72f9df0c678
subject: MCP server must handle LOCAL_RECALL_DIR environment variable for portability
keywords:
  - mcp-server
  - environment-variable
  - local-recall-dir
  - configuration
  - portability
applies_to: 'file:src/mcp-server/server.ts'
occurred_at: '2025-12-01T15:59:23.327Z'
content_hash: 47b9a8f705532c9c
---
# MCP Server Directory Configuration

The MCP server reads the `LOCAL_RECALL_DIR` environment variable to determine where memory files are stored. This allows the server to work in different contexts:

- When installed as npm package, projects set `LOCAL_RECALL_DIR` in their MCP configuration
- The MCP server implementation must respect this variable rather than using a hardcoded path
- Default should fall back to `./local-recall` if the variable is not set

This pattern ensures the server works correctly whether:
1. Installed as a package in a project
2. Run from the local-recall repository itself
3. Installed globally or in other deployment scenarios
