---
id: df672432-dad9-4a1c-adef-a172510c100b
subject: Memory extractor handles streaming JSON with error recovery
keywords:
  - streaming
  - json parsing
  - error handling
  - memory extraction
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:22:16.750Z'
content_hash: f5204a5ae09649ef
---
The `MemoryExtractor` class in `src/core/memory-extractor.ts` implements robust streaming JSON parsing that:

1. Buffers incoming text chunks
2. Attempts to parse complete JSON objects from the buffer
3. Handles partial objects and incomplete JSON gracefully
4. Extracts valid memory objects even if some lines fail to parse
5. Logs errors for debugging without stopping the extraction process

This error recovery is essential because Claude's streaming output may produce incomplete or malformed JSON that requires careful parsing.
