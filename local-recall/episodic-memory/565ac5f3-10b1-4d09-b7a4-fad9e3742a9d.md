---
id: 565ac5f3-10b1-4d09-b7a4-fad9e3742a9d
subject: Three pathways for data to enter SQLite vector store
keywords:
  - vector-store
  - data-loading
  - sync
  - sqlite
  - memory-creation
applies_to: 'area:vector-store'
occurred_at: '2025-12-21T19:44:41.483Z'
content_hash: ad7fdc80cf1dbd2e
---
Data enters the SQLite vector store through three pathways:

1. **On Memory Creation** (immediate): When `MemoryManager.createMemory()` is called, the memory is written to disk and immediately added to vector store via `vectorStore.add(memory)` with embedding generation.

2. **MCP Server Sync** (batch): In `src/mcp-server/server.ts:73`, the MCP server calls `vectorStore.sync(memories)` to add new memories from transcript processing. This is part of the background daemon that processes transcripts every 5 minutes.

3. **Session Start**: When a session starts, the SessionStart hook loads the 5 most recent memories for context injection.

Each pathway ensures embeddings are generated and the SQLite index stays in sync with on-disk markdown files.
