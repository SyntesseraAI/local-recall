---
id: 335e7324-7a34-4737-a32a-fc5de90c7be5
subject: >-
  Unified UserPromptSubmit hook consolidates episodic and thinking memory
  retrieval
keywords:
  - hook
  - user-prompt-submit
  - unified
  - episodic
  - thinking
  - consolidation
applies_to: global
occurred_at: '2025-12-21T19:29:19.637Z'
content_hash: 16ee9da4508dd49b
---
Merged separate hooks `user-prompt-submit.ts` and `user-prompt-submit-thinking.ts` into a single unified hook at src/hooks/user-prompt-submit.ts. The unified hook uses configuration flags (`episodicEnabled`, `thinkingEnabled`) to determine whether to retrieve episodic memories, thinking memories, or both. This eliminates the need for duplicate hook configuration in .claude/settings.json.
