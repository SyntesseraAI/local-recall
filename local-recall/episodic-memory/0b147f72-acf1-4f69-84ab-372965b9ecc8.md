---
id: 0b147f72-acf1-4f69-84ab-372965b9ecc8
subject: >-
  Stop hook is disabled - MCP server daemon handles memory extraction
  asynchronously every 5 minutes
keywords:
  - hooks
  - stop-hook
  - mcp-server
  - background-daemon
  - transcript-processing
applies_to: global
occurred_at: '2025-12-02T11:58:30.953Z'
content_hash: cca0d35da1095219
---
The Stop hook is currently disabled. Instead, the MCP server runs a background daemon that:
1. Syncs transcripts from Claude's cache (~/.claude/projects/<project>/transcripts/)
2. Processes transcripts using `claude -p` to extract memories
3. Tracks processed transcripts with content hashes for change detection
4. Deletes and recreates memories when transcripts change
5. Runs asynchronously every 5 minutes

This approach is more efficient than processing on every session stop.
