---
id: 1b926e8a-0688-4252-b714-863c64816e4b
subject: Memory extraction happens in stop hook via transcript analysis
keywords:
  - hooks
  - stop
  - transcript
  - memory extraction
  - claude code
applies_to: 'file:src/hooks/stop.ts'
occurred_at: '2025-12-21T19:01:46.971Z'
content_hash: 12910b58ddc316f7
---
The memory extraction process happens in the stop hook (`src/hooks/stop.ts`) which:
1. Receives transcript data when a Claude Code session ends
2. Parses the transcript using utilities from `src/utils/transcript.ts`
3. Calls `analyzeForMemories()` to extract memories from the transcript
4. Saves memories to the local-recall system

The stop hook is triggered by Claude Code at the end of each session and is responsible for persisting conversation insights into the memory system.
