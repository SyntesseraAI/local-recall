---
id: e8fa90b4-6d51-4ce2-abb7-b16e0854127c
subject: >-
  Claude Code transcript format uses content blocks array with thinking
  extraction
keywords:
  - transcript
  - parsing
  - thinking blocks
  - content blocks
  - format
applies_to: 'file:src/utils/transcript.ts'
occurred_at: '2025-12-21T19:22:24.167Z'
content_hash: b746cba40192bb56
---
Claude Code transcripts have a complex nested structure:
- `content` is an **array of content blocks**, not a string
- Thinking blocks have `type: "thinking"` with a `thinking` field
- Text blocks have `type: "text"` with a `text` field
- Tool blocks have `type: "tool_use"` or `type: "tool_result"`

The parseTranscript function must extract thinking from content blocks during parsing and normalize into a flat structure with `content` as string and `thinking` as optional string field. This enables analyzeForMemories to work correctly.
