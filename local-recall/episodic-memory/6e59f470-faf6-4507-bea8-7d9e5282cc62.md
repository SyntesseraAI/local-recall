---
id: 6e59f470-faf6-4507-bea8-7d9e5282cc62
subject: Memory extraction uses Claude API with streaming for token efficiency
keywords:
  - memory-extractor
  - claude-api
  - streaming
  - token-efficiency
  - prompt-caching
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T07:19:26.949Z'
content_hash: 1825c10bed4e0b26
---
The memory extraction system in `memory-extractor.ts` uses the Claude API with streaming to efficiently extract memories from transcripts. The implementation leverages prompt caching for the extraction prompt to reduce token usage. The extractor processes transcripts and creates memory objects with proper metadata including `occurred_at` timestamps, `content_hash` for deduplication, and appropriate `applies_to` scope values.
