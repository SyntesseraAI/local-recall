---
id: 07645f40-f7c7-44a4-ab3d-c40147fb2684
subject: >-
  Vector Store uses better-sqlite3 with sqlite-vec extension for semantic
  similarity search with cosine distance scoring
keywords:
  - vector-store
  - semantic-search
  - sqlite-vec
  - embeddings
  - cosine-distance
  - scoring
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-02T17:09:03.470Z'
content_hash: 186e506b99dccfa8
---
The Vector Store in src/core/vector-store.ts provides semantic search using SQLite with sqlite-vec extension and FastEmbed. Methods: initialize() - sets up database and loads sqlite-vec; add(memory) - adds memory with embedding; remove(id) - removes from store; search(query, options) - performs semantic search; sync(memories) - syncs store with file-based memories. Search results use cosine distance similarity (0.0 to 1.0, rounded to 2 decimal places). Results sorted by score descending with recency tie-breaker (more recent memories ranked first when scores equal).
