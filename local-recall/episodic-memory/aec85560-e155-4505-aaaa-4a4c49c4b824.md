---
id: aec85560-e155-4505-aaaa-4a4c49c4b824
subject: Assistant thinking and multiline content filtering rules for memories
keywords:
  - memory extraction
  - thinking
  - multiline
  - filtering
  - content
  - analyzeForMemories
applies_to: 'file:src/utils/transcript.ts'
occurred_at: '2025-12-01T16:26:26.253Z'
content_hash: 3dd236b520d3b322
---
The analyzeForMemories() function (used by parseTranscriptForMemories) has specific rules for what gets saved as memories:

1. **All thinking content is saved** - Even single-line thinking is captured and prefixed with "[Thinking]"
2. **Multiline content only** - Only assistant answers/content with 2+ lines are saved; single-line responses are dropped
3. **User messages skipped** - Only assistant messages are analyzed for memory creation

This means a thinking block with "The user wants..." and a multiline answer about implementation will both create separate memories.
