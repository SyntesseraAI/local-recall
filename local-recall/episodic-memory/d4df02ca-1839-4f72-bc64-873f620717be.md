---
id: d4df02ca-1839-4f72-bc64-873f620717be
subject: Claude Code hooks integrate Local Recall for context injection
keywords:
  - hooks
  - session-start
  - user-prompt-submit
  - context-injection
applies_to: global
occurred_at: '2025-12-02T12:55:56.699Z'
content_hash: 67dee2c2006486e6
---
Local Recall provides three hooks for Claude Code integration:

1. **SessionStart Hook**: Triggered when a session begins. Loads all memories from disk and returns the 5 most recent memories (sorted by `occurred_at`) to inject into Claude's context. Uses MemoryManager.listMemories() directly for speed (avoiding vector store initialization).

2. **UserPromptSubmit Hook**: Triggered before Claude processes a user prompt. Lazily initializes the vector store on first use (cached after), performs semantic search using embeddings, and outputs matching memories to stdout for context injection.

3. **Stop Hook**: Currently disabled. Memory extraction is handled asynchronously by the MCP server daemon every 5 minutes instead.

Hooks are configured in `.claude/settings.json` as shell commands receiving JSON via stdin.
