---
id: d5e40e67-6f4c-4885-be96-35c4e1868379
subject: >-
  Transcript collector needs to handle transcript path construction from project
  directory
keywords:
  - transcript-collector
  - path-construction
  - project-directory
  - normalization
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:01:14.693Z'
content_hash: d6b8825db3250052
---
# Transcript Path Construction

The transcript collector must construct the correct path to Claude's transcript cache based on the project's working directory.

## Implementation Requirements

1. **Path normalization**: Convert absolute file paths to the Claude cache format
   - Input: `/Users/joe/Code/Syntessera/local-recall`
   - Output: `Users-joe-Code-Syntessera-local-recall`
   - Process: Remove leading slash, replace remaining slashes with dashes

2. **Cache directory construction**: Build the full path
   - Formula: `~/.claude/projects/<normalized-path>/transcripts/`
   - Result: `~/.claude/projects/Users-joe-Code-Syntessera-local-recall/transcripts/`

3. **Path expansion**: Handle tilde (`~`) expansion to actual home directory
   - Use `os.expanduser()` (Python) or equivalent in JavaScript
   - Result: `/Users/joe/.claude/projects/Users-joe-Code-Syntessera-local-recall/transcripts/`

## Context

This is needed for the MCP server daemon to locate and process transcript files for memory extraction.
