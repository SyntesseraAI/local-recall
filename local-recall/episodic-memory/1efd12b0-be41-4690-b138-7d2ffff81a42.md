---
id: 1efd12b0-be41-4690-b138-7d2ffff81a42
subject: Transcript-collector.ts processes Claude transcripts for memory extraction
keywords:
  - transcript-collector
  - memory-extraction
  - transcript-processing
  - mcp-server
  - background-daemon
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:01:06.079Z'
content_hash: 118294b747bbfebb
---
# Transcript Collector Module

The `transcript-collector.ts` module is responsible for:

1. **Locating transcripts**: Converts the working directory path to the Claude projects folder format (slashes â†’ dashes)
2. **Reading transcripts**: Loads `.jsonl` files from `~/.claude/projects/{project-name}/transcripts/`
3. **Processing transcripts**: Extracts memories from transcript content
4. **Tracking state**: Manages which transcripts have been processed to avoid re-processing

## Integration

This module is used by the MCP server's background daemon (`src/mcp-server/server.ts`) which:
- Runs every 5 minutes
- Syncs new transcripts from Claude's cache
- Extracts memories using Claude Haiku
- Handles transcript content hashing for change detection

## Implementation Notes

- Transcripts are in JSONL format (one JSON object per line)
- Each line represents a transcript event
- The collector needs to parse these events and extract meaningful memories
- Content hashing is used to detect when transcripts change and need re-processing
