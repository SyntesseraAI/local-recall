---
id: d4cb3361-634a-43c0-a7e8-8dbadba0eb19
subject: Memory deduplication uses occurred_at timestamp and content_hash
keywords:
  - deduplication
  - memory
  - occurred_at
  - content_hash
  - sha256
  - duplicate-detection
applies_to: 'area:memory-manager'
occurred_at: '2025-12-01T16:14:01.293Z'
content_hash: 51d3604e35662cfb
---
# Memory Deduplication Strategy

The memory system prevents duplicate memories from being created using a two-step identification process.

## Deduplication Process

1. **Hash Comparison**: Uses `content_hash` (SHA-256 prefix, 16 chars) to identify identical content
2. **Timestamp Comparison**: Uses `occurred_at` (ISO-8601 timestamp) to correlate events
3. **Duplicate Check**: `findDuplicate(occurredAt, contentHash)` checks if a memory with matching hash already exists

## Implementation Location

Duplicate detection is implemented in `src/core/memory.ts` in the `findDuplicate()` function.

## Memory Creation

`createMemory()` returns an existing memory if a duplicate is detected, preventing unnecessary proliferation of similar memories.

## Field Details

- `content_hash`: SHA-256 hash prefix (first 16 characters) of memory content
- `occurred_at`: ISO-8601 timestamp of when the original event occurred
