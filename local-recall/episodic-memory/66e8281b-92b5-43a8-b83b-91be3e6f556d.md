---
id: 66e8281b-92b5-43a8-b83b-91be3e6f556d
subject: >-
  Local Recall uses transcript-collector.ts to extract memories from Claude
  transcripts
keywords:
  - transcript-collector
  - memory-extraction
  - transcript-parsing
  - mcp-server
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:24:32.752Z'
content_hash: 43bc51b6f8d135f1
---
# Transcript Collector

The `transcript-collector.ts` module in `src/core/` is responsible for processing Claude Code transcripts and extracting memories.

## Functionality

It reads transcript JSONL files from Claude's project folders and:
1. Parses transcript events to identify important moments
2. Extracts contextual information from user prompts and assistant responses
3. Creates memory records with appropriate metadata
4. Handles deduplication based on content hashes

## Integration

- Called by the MCP server daemon
- Part of the background processing pipeline that runs every 5 minutes
- Processes transcripts asynchronously to avoid blocking

## Usage

The transcript collector needs to:
- Locate transcript files in `~/.claude/projects/{path-encoded}/`
- Parse JSONL format with one JSON event per line
- Maintain state about processed transcripts to detect changes
- Use content hashes for deduplication
