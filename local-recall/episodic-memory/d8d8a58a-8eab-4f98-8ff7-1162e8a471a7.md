---
id: d8d8a58a-8eab-4f98-8ff7-1162e8a471a7
subject: >-
  SessionStart hook was timing out due to vector store initialization
  downloading 133MB embedding model
keywords:
  - session-start
  - hook
  - timeout
  - vector-store
  - embedding
  - performance
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-21T19:15:15.466Z'
content_hash: 0c9bca06a2ddeeb6
---
The SessionStart hook was initializing the vector store which downloads the nomic-embed-text model (~133MB) on first use, causing timeouts within the 30s hook limit. Fixed by removing vector store initialization from SessionStart - instead just load the 5 most recent memories directly from files sorted by `occurred_at`. Vector store is now initialized lazily by the MCP server daemon or UserPromptSubmit hook when needed.
