---
id: cbb31b24-56c2-4970-9291-f24d36126b34
subject: >-
  Vector store uses better-sqlite3 with sqlite-vec extension for semantic
  similarity search
keywords:
  - vector-store
  - sqlite
  - embeddings
  - search
  - cosine-distance
applies_to: 'area:vector-store'
occurred_at: '2025-12-02T17:47:03.554Z'
content_hash: 37c9b1ed646f0a75
---
The vector store implementation uses:
- **Database**: better-sqlite3 with sqlite-vec extension
- **Embeddings**: Generated using fastembed BGE-small-en-v1.5 model
- **Similarity Metric**: Cosine distance (0.0 = no match, 1.0 = identical)
- **Scoring**: Results rounded to 2 decimal places
- **Ranking**: By similarity score descending, with recency (occurred_at) as tie-breaker

The vector store is lazily initialized on first use (not during SessionStart hook) to avoid slow startup times.
