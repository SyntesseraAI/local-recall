---
id: 6edc44a8-6ab5-4a66-bfe4-8d8179d47f00
subject: MCP search tools now return content and implement recency weighting
keywords:
  - mcp-tools
  - search-results
  - content-returned
  - recency-weighting
  - token-limit
applies_to: 'file:src/mcp-server/tools.ts'
occurred_at: '2025-12-21T18:32:04.567Z'
content_hash: 253bcce583126a1c
---
MCP `episodic_search` and `thinking_search` tools were updated to:
1. Return full memory `content` in results (was missing before)
2. Include `occurred_at` timestamp for recency-based ranking
3. Include `tokens_used` count for response budgeting
4. Accept `max_tokens` parameter (default 2000) to limit context injection
5. Apply 10% recency boost to similarity scores in both `VectorStore` and `ThinkingVectorStore`

Recency factor ranges 0.0 (oldest) to 1.0 (newest), so final score = `similarity * (1 + 0.1 * recencyFactor)`
