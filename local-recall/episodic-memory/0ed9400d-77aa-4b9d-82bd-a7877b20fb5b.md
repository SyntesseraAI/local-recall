---
id: 0ed9400d-77aa-4b9d-82bd-a7877b20fb5b
subject: Transcript condensing reduces token usage by 60-70% before memory extraction
keywords:
  - transcript-condensing
  - token-optimization
  - memory-extraction
  - efficiency
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T21:58:07.918Z'
content_hash: b9e9dab828d62463
---
The memory extraction process uses transcript condensing as a preprocessing step to reduce token usage and cost. The condensing function:

- Converts detailed transcript logs into condensed event format
- Removes repetitive tool outputs while preserving essential information
- Maintains semantic meaning of interactions
- Typical reduction: 60-70% fewer tokens before sending to Claude Haiku

This optimization makes memory extraction economically viable for every session while maintaining extraction quality. The condensed format focuses on:
- User requests [User]
- Assistant responses [Assistant]
- Tool invocations [Tool: Name]
- Tool outcomes [Result: OK/ERROR]

See `src/core/transcript-collector.ts` for the condensing implementation.
