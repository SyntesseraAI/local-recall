---
id: 5e24f901-feab-4565-aebe-afa177b745d3
subject: Claude Code hooks for memory integration at SessionStart and UserPromptSubmit
keywords:
  - hooks
  - claude-code
  - session-start
  - user-prompt-submit
  - context-injection
applies_to: 'area:claude-code-integration'
occurred_at: '2025-12-02T16:47:23.269Z'
content_hash: e95d5dae5bc1d5c3
---
- **SessionStart**: Loads all memories from disk (not using vector store), returns 5 most recent memories sorted by `occurred_at`, outputs to stdout
- **UserPromptSubmit**: Lazy-initializes vector store (cached), performs semantic search on user prompt, outputs matching memories
- Stop hook disabled; memory extraction handled by MCP server daemon running every 5 minutes
- Hooks receive JSON input with `session_id`, `transcript_path`, `cwd`, etc.
