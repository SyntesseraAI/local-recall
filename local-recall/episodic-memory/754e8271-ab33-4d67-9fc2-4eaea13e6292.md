---
id: 754e8271-ab33-4d67-9fc2-4eaea13e6292
subject: Memory deduplication uses occurred_at timestamp and content_hash
keywords:
  - deduplication
  - duplicate-prevention
  - content_hash
  - occurred_at
  - memory-creation
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-21T18:19:53.806Z'
content_hash: e638a314377453e8
---
The `MemoryManager.findDuplicate()` method (lines 52-67) prevents duplicate memories by checking if a memory with the same `occurred_at` timestamp AND `content_hash` already exists. If found, it returns the existing memory instead of creating a new one. This is the only deduplication mechanism - memories are not compacted or pruned over time, though a `maxMemories` configuration option exists but is not actively enforced in the codebase.
