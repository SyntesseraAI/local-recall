---
id: 0d03bf4d-3462-4bb1-bc1f-7154756103e0
subject: >-
  Transcript collector needs to handle both JSONL parsing and transcript event
  filtering
keywords:
  - transcript
  - jsonl
  - parsing
  - events
  - filtering
  - transcript-collector
  - line-by-line
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:15:53.185Z'
content_hash: 237a426bca374afc
---
# Transcript Collector Implementation Details

## JSONL Parsing

Transcripts are stored as JSONL format (one JSON object per line). Parsing requires:
1. Reading the file line by line
2. Filtering out empty lines
3. Parsing each line as individual JSON
4. Handling potential JSON parse errors gracefully

## Event Filtering

Not all transcript events are relevant for memory extraction. The collector should filter for significant events such as:
- User prompts and assistant responses
- Tool invocations and results
- Code changes and edits
- Error conditions

Trivial or system events should be filtered out to avoid noise in memory extraction.

## Error Handling

Be prepared for:
- Malformed JSON lines (skip with warning)
- Incomplete transcripts (file being written to)
- Missing or inaccessible transcript files

The implementation should be defensive and continue processing even when encountering errors.
