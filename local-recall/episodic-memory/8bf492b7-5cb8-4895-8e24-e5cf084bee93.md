---
id: 8bf492b7-5cb8-4895-8e24-e5cf084bee93
subject: Claude Code hooks are shell commands receiving JSON via stdin
keywords:
  - hooks
  - claude-code
  - session-start
  - user-prompt-submit
  - json
  - stdin
applies_to: 'area:hooks'
occurred_at: '2025-12-02T11:47:07.978Z'
content_hash: 32d26b55b25b4748
---
Hooks configured in hooks.json execute as shell commands receiving JSON input via stdin.

**SessionStart**: Triggered on session begin. Loads all memories from disk via MemoryManager.listMemories(). Returns 5 most recent memories sorted by occurred_at. Does NOT use vector store to avoid slow initialization.

**UserPromptSubmit**: Triggered before Claude processes user prompt. Initializes vector store (lazy, cached after first use). Performs semantic search with embeddings. Outputs matching memories to stdout.

**Stop**: Currently disabled. Memory extraction handled by MCP server daemon processing transcripts every 5 minutes.
