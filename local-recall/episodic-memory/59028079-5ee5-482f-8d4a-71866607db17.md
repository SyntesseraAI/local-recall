---
id: 59028079-5ee5-482f-8d4a-71866607db17
subject: >-
  transcript-collector.ts needs to handle JSONL format with content hash
  deduplication
keywords:
  - transcript-collector
  - jsonl
  - parsing
  - content-hash
  - deduplication
  - sha256
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:07:23.863Z'
content_hash: 4e5cb4e22cfafc62
---
# Transcript Collector Implementation Requirements

The `transcript-collector.ts` component must:

1. **Parse JSONL Format**: Each line in a `.jsonl` file is a separate JSON object
   - Cannot use standard `JSON.parse()` on entire file
   - Must read line-by-line and parse each line individually

2. **Content Hash for Deduplication**:
   - Use SHA-256 hash of transcript content to detect changes
   - Only re-process transcripts if content has changed
   - Store hash in memory metadata for comparison on next run

3. **Handle File Operations**:
   - Read transcript files from `~/.claude/projects/<project-folder>/transcripts/`
   - Detect new/modified transcripts
   - Skip processing if hash matches stored value

4. **Integration with Memory System**:
   - Extract memories from transcript using existing memory creation tools
   - Use `occurred_at` field for deduplication across sessions
   - Link memories to transcripts via content hash
