---
id: afa4c9d1-d4a3-4186-86ab-ff42e151a7cb
subject: MemoryManager must ensure .gitignore exists in parent directory
keywords:
  - gitignore
  - memory-manager
  - initialization
  - directory-setup
  - file-creation
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-21T18:17:51.449Z'
content_hash: c5f95466dab65a32
---
The `MemoryManager` class creates the `local-recall/memories/` subdirectory but was not ensuring the parent `local-recall/.gitignore` file exists. This caused `.gitignore` to not be created when memory operations occurred. The fix involves:

1. Store the base directory as a class property to access it in the constructor
2. Call `ensureGitignore()` in the constructor to create the `.gitignore` file at `baseDir/.gitignore`
3. The `.gitignore` file should contain patterns to ignore generated index files and logs

This ensures the `.gitignore` is created whenever the MemoryManager is instantiated, making it a reliable initialization step.
