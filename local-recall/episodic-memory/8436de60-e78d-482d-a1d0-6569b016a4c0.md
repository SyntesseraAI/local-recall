---
id: 8436de60-e78d-482d-a1d0-6569b016a4c0
subject: MCP server bundling requires no --external flag in esbuild configuration
keywords:
  - esbuild
  - bundling
  - mcp-server
  - dependencies
  - external
applies_to: 'file:dev-marketplace/local-recall-plugin/.claude-plugin/plugin.json'
occurred_at: '2025-12-21T19:13:59.315Z'
content_hash: 33c1a45c021a8126
---
The build script for the MCP server was fixed by removing the `--external` flag from esbuild configuration. This allows all dependencies to be bundled into the server.js file. Without bundling, the server fails in deployed plugin environments where node_modules aren't available. The bundled output is approximately 1.15MB and includes the Orama vector store, Ollama client, and other dependencies needed for embedding generation and memory search.
