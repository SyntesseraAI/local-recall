---
id: e64e3f8c-8c06-4a85-8afd-76268105223f
subject: 'Claude Code transcripts have content as array of blocks, not flat string'
keywords:
  - transcript format
  - content blocks
  - thinking extraction
  - claude code
applies_to: global
occurred_at: '2025-12-21T19:23:27.035Z'
content_hash: 731b23511744a176
---
Claude Code transcripts store message content as an array of content blocks, not a flat string. Each block has a `type` field:
- `type: "thinking"` blocks contain the `thinking` field with Claude's reasoning
- `type: "text"` blocks contain the `text` field with the actual response
- `type: "tool_use"` and `type: "tool_result"` blocks contain tool invocations

The old implementation expected `content` as a string and `thinking` at the root level, which doesn't match the actual format. The updated parser now extracts thinking from content blocks and normalizes it into the internal `TranscriptMessage` format.
