---
id: a0056889-8eaa-4e98-ac37-3278eb8f1f1e
subject: >-
  Memory extraction receives complete session transcript as
  LOCAL_RECALL_INTERNAL marker
keywords:
  - memory-extraction
  - transcript-analysis
  - local-recall-internal
  - session-processing
applies_to: global
occurred_at: '2025-12-01T21:13:06.143Z'
content_hash: 094929c7a6d90c18
---
# Memory Extraction Transcript Processing

When the Stop hook triggers memory extraction, it receives a `[LOCAL_RECALL_INTERNAL]` message containing the full session transcript.

## Transcript Format

The transcript is provided as a structured message with instructions for analysis:
- **[User]** - User requests or questions
- **[Assistant]** - Claude's responses and explanations
- **[Tool: Name]** - Tool invocations (Read, Edit, Write, Bash, etc.)
- **[Result: OK/ERROR]** - Outcome of tool calls

## Key Context Included

The LOCAL_RECALL_INTERNAL message includes:
- Project context (working directory)
- Guidelines for memory extraction
- Specific instructions on what to extract and what to skip
- Output format requirements (raw JSON only)

This allows the memory extraction process to analyze sessions within the Local Recall context and create relevant, actionable memories.
