---
id: aebea469-009f-4067-b0de-59491085369d
subject: Memory extraction requires understanding session and transcript context
keywords:
  - memory-extraction
  - session-id
  - transcript-path
  - context
  - project-directory
  - hook-data
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-01T23:14:18.042Z'
content_hash: 3c9611cea903eec7
---
# Memory Extraction Context Requirements

Successful memory extraction depends on having complete context about where and when the extraction is happening.

## Required Information

When extracting memories, the system needs:
- `session_id` - Unique identifier for the current Claude session
- `transcript_path` - Path to the session transcript file(s)
- `cwd` - Current working directory of the user's project

## Why This Matters

1. **Project Scope**: The `cwd` tells us which project the memories apply to
2. **Timeline**: The transcript contains the full conversation context needed for memory extraction
3. **Deduplication**: The session_id and transcript path help identify duplicate memories across sessions

## Hook Integration

The hooks (SessionStart, UserPromptSubmit, Stop) all receive this information via stdin in JSON format. This allows the memory system to:
- Extract memories with proper context
- Link memories to specific sessions
- Avoid duplicates across different sessions working on the same codebase

## Implementation Pattern

When building systems that extract or reference memories, ensure you have access to all three pieces of context information. Don't try to extract memories from transcripts without knowing which project they belong to.
