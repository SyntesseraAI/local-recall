---
id: 91fd4d17-4ead-4985-a83c-6216f9b2045b
subject: >-
  Memory extraction moved from Stop hook to MCP server daemon processing
  transcripts asynchronously
keywords:
  - memory extraction
  - transcript processing
  - mcp server
  - daemon
  - async processing
applies_to: global
occurred_at: '2025-12-02T22:00:50.065Z'
content_hash: bf98afd452ae37ae
---
The Stop hook is currently disabled. Memory extraction is now handled by the MCP server daemon which:
- Processes transcripts asynchronously every 5 minutes
- Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
- Extracts memories using `claude -p` command
- Tracks processed transcripts with content hashes for change detection
- Deletes and recreates memories when transcripts change

This design avoids blocking the Claude Code session at the stop hook.
