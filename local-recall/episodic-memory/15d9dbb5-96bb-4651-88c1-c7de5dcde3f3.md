---
id: 15d9dbb5-96bb-4651-88c1-c7de5dcde3f3
subject: Memories are deduplicated using occurred_at timestamp and content_hash fields
keywords:
  - deduplication
  - memory
  - occurred_at
  - content_hash
  - sha256
  - duplicate
applies_to: global
occurred_at: '2025-12-01T22:03:36.619Z'
content_hash: 61c89e1f727e23b2
---
# Memory Deduplication Strategy

Local Recall prevents duplicate memories using two fields in the memory frontmatter:

1. **occurred_at**: ISO-8601 timestamp of when the original event occurred
2. **content_hash**: SHA-256 hash prefix (16 characters) of the memory content

## How It Works

Before creating a new memory, the system checks if a memory with the same `occurred_at` and `content_hash` already exists using the `findDuplicate(occurredAt, contentHash)` method in `src/core/memory.ts`.

If a duplicate is found, the existing memory is returned instead of creating a new one.

## Benefits

- Prevents duplicate memories when transcripts are processed multiple times
- Allows memories to be updated by changing content (different hash) at the same timestamp
- Enables tracking of when memories originated in the session timeline

## Important Note

Memories are idempotent - the same input should always produce the same memory. If content or timestamp differs, it's treated as a new/updated memory.
