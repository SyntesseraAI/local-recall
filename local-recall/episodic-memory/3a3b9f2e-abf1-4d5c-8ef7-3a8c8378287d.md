---
id: 3a3b9f2e-abf1-4d5c-8ef7-3a8c8378287d
subject: >-
  MCP server includes background daemon processing transcripts asynchronously
  every 5 minutes
keywords:
  - mcp-server
  - background-daemon
  - transcript-processing
  - async
applies_to: 'file:src/mcp-server/server.ts'
occurred_at: '2025-12-02T22:20:32.572Z'
content_hash: 74e7d6dd0335014a
---
The MCP server runs a background daemon that:
1. Syncs transcripts from Claude's cache (~/.claude/projects/<project>/transcripts/)
2. Processes transcripts using `claude -p` to extract memories
3. Tracks processed transcripts with content hashes for change detection
4. Deletes and recreates memories when transcripts change
5. Runs every 5 minutes

This replaces the Stop hook which is currently disabled.
