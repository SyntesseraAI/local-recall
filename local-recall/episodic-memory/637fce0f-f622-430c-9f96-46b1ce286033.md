---
id: 637fce0f-f622-430c-9f96-46b1ce286033
subject: >-
  SessionStart hook loads full memory list without vector store,
  UserPromptSubmit hook uses semantic search
keywords:
  - hooks
  - session-start
  - user-prompt-submit
  - performance
  - lazy-initialization
applies_to: 'area:hooks'
occurred_at: '2025-12-02T17:36:01.880Z'
content_hash: 1017e038fe7424bd
---
The SessionStart hook returns 5 most recent memories without initializing the vector store to avoid slow startup. The UserPromptSubmit hook uses lazy initialization of the vector store (cached after first use) for semantic search. This design separates quick context loading on startup from more expensive semantic search during active sessions.
