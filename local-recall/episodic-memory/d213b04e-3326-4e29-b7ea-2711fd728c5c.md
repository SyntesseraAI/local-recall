---
id: d213b04e-3326-4e29-b7ea-2711fd728c5c
subject: Memory extraction uses Claude Haiku with specific system and user prompts
keywords:
  - memory-extractor
  - claude-haiku
  - prompt-engineering
  - extraction-logic
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T07:48:46.277Z'
content_hash: 863f92ad7969528e
---
The memory extraction process uses Claude Haiku model (claude-haiku-4-5-20251001) with two separate prompt files:

1. System prompt: `src/prompts/memory-extraction.ts` - Defines how Claude should extract memories
2. User prompt: Uses the condensed transcript as input

Key implementation details:
- Uses `claude -p` command to invoke Claude with prompts
- Processes condensed transcripts (simplified event format)
- Extracts memories in JSON format with metadata
- Handles edge cases like empty transcripts or extraction failures

The extraction is memory-efficient and designed to work with the transcript condensing feature.
