---
id: 3342c228-172f-490e-bac2-28cc691a473a
subject: Orama uses sqlite-vec backend which requires careful process isolation
keywords:
  - orama
  - sqlite-vec
  - vector-store
  - child-process
  - native-module
  - threading
applies_to: global
occurred_at: '2025-12-21T18:28:52.966Z'
content_hash: 85b6c5396dd9a8b4
---
Orama (the vector store library used in local-recall) internally uses sqlite-vec as its backend. sqlite-vec is a native C++ module that manages its own mutexes for thread safety.

### Implications
1. **Process Isolation**: Orama indexes cannot be safely passed between parent and child processes
2. **Threading Issues**: Multiple processes trying to access the same Orama instance will cause mutex conflicts
3. **State Corruption**: Child processes inherit parent memory state, including partially-initialized sqlite-vec, which can corrupt the mutex

### Best Practices
- Initialize Orama in the process that will use it, not in a parent process
- If using child_process.execFile(), ensure the child process independently initializes what it needs
- Don't try to share Orama instances across process boundaries via serialization
