---
id: cc5f5c3a-b16c-4c16-80ce-b2cc7bdb8917
subject: >-
  Three main Claude Code hooks: SessionStart loads index, UserPromptSubmit
  searches memories, Stop disabled (MCP handles it)
keywords:
  - hooks
  - session-start
  - user-prompt-submit
  - stop
  - event-handlers
  - context-injection
applies_to: global
occurred_at: '2025-12-02T11:42:12.112Z'
content_hash: 3cd4b8169a0adb17
---
Local Recall integrates with Claude Code through three hooks configured in `hooks.json`:
1. **SessionStart**: Loads memory index from `local-recall/index.json`, retrieves relevant memories based on context, outputs to stdout for context injection
2. **UserPromptSubmit**: Extracts keywords from user prompt, searches memory index (fuzzy matching), outputs matching memories to stdout
3. **Stop**: Currently disabled - memory extraction is handled by MCP server daemon which processes transcripts asynchronously every 5 minutes. Hooks receive `session_id`, `transcript_path`, `cwd` via JSON stdin.
