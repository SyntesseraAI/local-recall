---
id: 74266519-fa80-4990-a9b3-d956cd1a4331
subject: >-
  ONNX runtime mutex errors occur during concurrent model loading in
  multi-process environments
keywords:
  - onnx
  - mutex
  - concurrency
  - embedding
  - fastembed
  - multi-process
  - race condition
applies_to: global
occurred_at: '2025-12-03T11:35:39.170Z'
content_hash: 9524e5b9145c42ee
---
The local-recall system experienced 'mutex lock failed' errors when multiple Claude instances or concurrent processes tried to load the ONNX embedding model simultaneously. This is NOT a sqlite-vec issue (resolved by Orama migration), but an ONNX runtime problem during model initialization. The `proper-lockfile` mechanism doesn't prevent ONNX's internal mutex issues. The problem occurs at startup when ONNX loads - once loaded, it can be safely shared by multiple clients via HTTP calls.
