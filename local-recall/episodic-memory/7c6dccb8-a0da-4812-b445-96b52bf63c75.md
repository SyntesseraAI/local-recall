---
id: 7c6dccb8-a0da-4812-b445-96b52bf63c75
subject: >-
  MCP server daemon processes transcripts asynchronously every 5 minutes (Stop
  hook disabled)
keywords:
  - mcp server
  - daemon
  - transcript processing
  - async
  - background job
  - polling interval
applies_to: global
occurred_at: '2025-12-21T18:59:50.981Z'
content_hash: ead7df9c4d516fb9
---
The MCP server runs a background daemon that handles memory extraction instead of using the Stop hook:

1. **No Stop hook** - The Stop hook is currently disabled
2. **Async daemon process** - Runs in background every 5 minutes
3. **Transcript syncing** - Reads from ~/.claude/projects/<project>/transcripts/
4. **Content hash tracking** - Uses processed-log.jsonl to detect transcript changes
5. **Automatic recreation** - Deletes and recreates memories when transcripts change
6. **20 parallel extractors** - For thinking blocks, uses 20 parallel extraction tasks

This async approach is more reliable than Stop hooks and allows graceful handling of large transcripts without blocking the main Claude Code session.
