---
id: 4d1e09dd-278b-4a81-a48c-4653372f1b1d
subject: >-
  Memory deduplication uses occurred_at timestamp and content_hash to prevent
  duplicate memories
keywords:
  - deduplication
  - duplicate-detection
  - content-hash
  - occurred_at
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-02T16:19:51.746Z'
content_hash: 77018c7f2c382a84
---
The MemoryManager prevents duplicate memories through a `findDuplicate(occurredAt, contentHash)` method that checks for:

1. **occurred_at**: The timestamp when the original event occurred (used for deduplication and sorting)
2. **content_hash**: SHA-256 hash prefix (16 chars) of the memory content

When `createMemory()` is called, it checks for existing duplicates and returns the existing memory if found instead of creating a new one. This is important when processing transcripts that may be encountered multiple times.
