---
id: f7549458-c31e-4abd-8d35-0618f309054b
subject: >-
  Vector store uses better-sqlite3 with sqlite-vec extension and
  BGE-small-en-v1.5 model for embeddings
keywords:
  - vector-store
  - sqlite
  - embeddings
  - fastembed
  - semantic-search
applies_to: 'area:vector-store'
occurred_at: '2025-12-02T12:10:07.891Z'
content_hash: ecb6275ecebd24cd
---
The vector store implementation in `src/core/vector-store.ts` uses:
- **Database**: better-sqlite3 with sqlite-vec extension for vector similarity
- **Embeddings**: fastembed library with BGE-small-en-v1.5 model (~133MB)
- **Similarity**: Cosine distance with scores 0.0-1.0, rounded to 2 decimals
- **Ranking**: By similarity score descending, with recency as tie-breaker
- **Cache**: Model auto-downloads to `local_cache/` on first use (30-60 seconds)

The database file `local-recall/memory.sqlite` is gitignored and auto-generated.
