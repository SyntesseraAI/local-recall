---
id: c2489f2e-40d0-48f1-92d2-74856aac33e6
subject: Memory extraction from transcripts uses claude -p for keyword extraction
keywords:
  - memory-extraction
  - transcripts
  - keywords
  - claude-haiku
  - prompt-mode
  - embedding
applies_to: 'area:memory-extractor'
occurred_at: '2025-12-02T06:30:04.182Z'
content_hash: 2f3464203a9095cc
---
# Memory Extraction Process

When extracting memories from transcripts, the system uses `claude -p` (Claude Prompt Mode with Haiku model) to extract keywords from the user's prompts.

## Key Process

1. Transcripts are read from `~/.claude/projects/[project]/transcripts/`
2. User prompts are extracted from the JSONL transcript files
3. Claude Haiku (via `claude -p`) is invoked to extract 3-7 relevant keywords from each prompt
4. These keywords are used to tag memories for later searching and retrieval

## Important Notes

- The embedding model (BGE-small-en-v1.5) is used for semantic search, but keyword extraction relies on Claude's understanding
- This is more efficient than embedding entire conversations
- Keywords should be specific and searchable terms related to the user's intent and the code being discussed
