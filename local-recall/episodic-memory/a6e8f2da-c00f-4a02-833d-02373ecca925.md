---
id: a6e8f2da-c00f-4a02-833d-02373ecca925
subject: >-
  MCP server's transcript processing daemon processes transcripts every 5
  minutes, not on Stop hook
keywords:
  - mcp-server
  - daemon
  - transcript-processing
  - background
  - async
  - timing
applies_to: 'area:mcp-server'
occurred_at: '2025-12-02T11:51:17.685Z'
content_hash: ac0e29237bc6f40d
---
# Transcript Processing Timing

The MCP server runs a background daemon that processes transcripts asynchronously.

## Key Details

- **Frequency**: Processes transcripts every 5 minutes
- **Location**: Background daemon in MCP server (`src/mcp-server/server.ts`)
- **Timing**: NOT triggered by Stop hook (Stop hook is disabled)
- **Purpose**: Extract memories from completed sessions

## Why This Design

- Asynchronous processing avoids blocking Claude Code sessions
- Regular polling catches all transcript changes
- Decouples memory extraction from session lifecycle

## Important for Development

When implementing or debugging transcript processing:
- Don't expect immediate memory creation after a session ends
- Expect a 5-minute delay from session completion to memory extraction
- The daemon should handle multiple unprocessed transcripts efficiently
- Use content hashes to track which transcripts have been processed
