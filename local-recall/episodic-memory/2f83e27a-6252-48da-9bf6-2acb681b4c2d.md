---
id: 2f83e27a-6252-48da-9bf6-2acb681b4c2d
subject: >-
  Memory deduplication uses content_hash and occurred_at fields to prevent
  duplicates
keywords:
  - deduplication
  - content hash
  - occurred_at
  - memory management
  - idempotency
applies_to: 'area:memory-lifecycle'
occurred_at: '2025-12-01T22:20:34.267Z'
content_hash: e435a9900195e525
---
The memory system includes deduplication logic that checks for existing memories using both `occurred_at` (timestamp when event occurred) and `content_hash` (SHA-256 prefix). This prevents the same memory from being created multiple times across different sessions and ensures memories are treated as idempotent operations. The `findDuplicate()` function in `src/core/memory.ts` implements this check.
