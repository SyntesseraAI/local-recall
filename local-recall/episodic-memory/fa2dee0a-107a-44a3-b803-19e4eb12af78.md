---
id: fa2dee0a-107a-44a3-b803-19e4eb12af78
subject: >-
  Filter out LOCAL_RECALL_INTERNAL messages from transcript processing to
  prevent recursion
keywords:
  - memory extraction
  - transcript processing
  - filtering
  - recursion
  - internal messages
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:20:51.680Z'
content_hash: b10aba8d6cb966a3
---
The transcript processing system was capturing its own `[LOCAL_RECALL_INTERNAL]` memory extraction requests, causing infinite recursion. Solution: Filter out any messages that start with `[LOCAL_RECALL_INTERNAL]` before processing transcripts. This prevents the memory extraction system from trying to extract memories from its own memory extraction instructions.

This is a critical fix for the condensed transcript format where memory extraction context is prepended to transcripts.
