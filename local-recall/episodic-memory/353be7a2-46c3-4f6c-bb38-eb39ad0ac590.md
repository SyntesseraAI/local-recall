---
id: 353be7a2-46c3-4f6c-bb38-eb39ad0ac590
subject: >-
  TranscriptCollector needs to handle both transcript fetching and processing
  independently
keywords:
  - transcript-collector
  - transcripts
  - claude
  - fetch
  - process
  - async
  - design-pattern
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T22:15:32.139Z'
content_hash: 3f4bba67ce372c41
---
# TranscriptCollector Design Considerations

The `TranscriptCollector` class needs to support two independent operations:

1. **Fetching transcripts from Claude's cache** - Reading raw transcript data from `~/.claude/projects/<project>/transcripts/`
2. **Processing transcripts into memories** - Converting transcript data into memory objects

## Design Pattern

These operations should be separate methods so that:
- The MCP server daemon can fetch transcripts asynchronously
- Memory extraction can be triggered independently
- The module can be used in different contexts (hooks, background processes, etc.)

## Implementation Notes

- Handle JSONL format correctly (parse line-by-line)
- Manage file system operations for Claude's transcript cache
- Support filtering and deduplication of transcripts
- Track processed transcripts to avoid redundant processing
