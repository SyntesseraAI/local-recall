---
id: afb7d6da-c7c6-41e5-8369-dd187b90905d
subject: Memory extraction prompt must return JSON-only without explanation
keywords:
  - json output
  - memory extraction
  - format specification
  - no markdown
applies_to: 'file:src/prompts/memory-extraction.ts'
occurred_at: '2025-12-21T18:30:03.315Z'
content_hash: 12c7f0476f5dd931
---
The memory extraction prompt (`buildMemoryExtractionPrompt()`) must explicitly state:
- Return ONLY a valid JSON object
- No explanation, no markdown formatting, no code blocks
- If no valuable memories: return `{ "memories": [] }`
- Each memory must have `subject`, `keywords`, `applies_to`, and `content` fields

This strict specification is necessary for reliable JSON parsing in `memory-extractor.ts` and prevents Claude from including explanatory text that would break the parsing.
