---
id: 68822f56-d754-4931-8561-bd7687442a50
subject: MCP server runs a background daemon that processes transcripts every 5 minutes
keywords:
  - mcp-server
  - background-daemon
  - transcript-processing
  - memory-extraction
applies_to: global
occurred_at: '2025-12-02T22:16:03.381Z'
content_hash: 1340ee9400e8852b
---
The MCP server provides tools (memory_create, memory_get, memory_search, memory_list, index_rebuild) and runs a background daemon that:
1. Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
2. Processes transcripts using `claude -p` to extract memories
3. Uses content hashes to detect changes and avoid reprocessing
4. Deletes and recreates memories when transcripts change
5. Runs on a 5-minute interval

This async approach replaced the synchronous Stop hook for better performance.
