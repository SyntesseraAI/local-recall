---
id: ff9a3209-09db-4159-a57f-e83df1f93b8f
subject: MCP server exposes memory tools and runs background daemon
keywords:
  - mcp-server
  - mcp-tools
  - background-daemon
  - transcript-processing
applies_to: 'file:src/mcp-server/server.ts'
occurred_at: '2025-12-02T11:57:20.944Z'
content_hash: 3b997b1ce18dc8e1
---
# MCP Server

## Exposed Tools
- `memory_create` - Create new memory (idempotent)
- `memory_get` - Retrieve memory by ID
- `memory_search` - Semantic search using vector embeddings
- `memory_list` - List all memories with optional filtering
- `index_rebuild` - Sync vector store with memory files

## Background Daemon
Runs every 5 minutes to:
- Sync transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
- Process transcripts using `claude -p` to extract memories
- Track processed transcripts with content hashes for change detection
- Delete and recreate memories when transcripts change

## Configuration
Can be added to Claude Code or Claude Desktop:
- Uses `LOCAL_RECALL_DIR` environment variable to locate memory directory
- Takes absolute or relative path depending on installation method
- Can be started manually with `npm run mcp:start`
