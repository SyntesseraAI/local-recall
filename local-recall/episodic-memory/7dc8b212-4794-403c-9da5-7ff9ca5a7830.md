---
id: 7dc8b212-4794-403c-9da5-7ff9ca5a7830
subject: Local Recall project structure and memory system architecture
keywords:
  - local-recall
  - architecture
  - memory-system
  - plugin
  - mcp-server
  - hooks
applies_to: global
occurred_at: '2025-12-01T16:23:11.832Z'
content_hash: 444e41453995692a
---
Local Recall is a markdown-powered memory system for AI coding assistants. The project structure includes:

- **Core Components** (`src/core/`):
  - `memory.ts`: CRD operations for memory files
  - `index.ts`: Index creation and management
  - `search.ts`: Fuzzy search implementation
  - `types.ts`: TypeScript interfaces

- **Integration Points** (`src/hooks/` and `src/mcp-server/`):
  - SessionStart hook: Loads memory index and retrieves relevant memories
  - UserPromptSubmit hook: Extracts keywords from user prompts and searches memories
  - Stop hook: Currently disabled, memory extraction handled by MCP server daemon
  - MCP Server: Exposes memory tools and runs background daemon processing transcripts

- **Memory Storage** (`local-recall/`):
  - Episodic memory files stored as markdown with YAML frontmatter
  - `index.json`: Auto-generated, gitignored keyword index
  - `recall.log`: Debug log file
  - Memory files ARE version-controlled and tracked in git

- **Plugin Structure**:
  - Project root is the plugin root following Claude Code's plugin format
  - Scripts bundled in `scripts/` directory (build output, gitignored)
  - Hooks configured in `hooks.json` using `${CLAUDE_PLUGIN_ROOT}` for relative paths

- **Memory File Format**:
  - Each memory has YAML frontmatter with: id, subject, keywords, applies_to, occurred_at, content_hash
  - Content is markdown format below the frontmatter
  - Scopes: `global`, `file:<path>`, or `area:<component-name>`
