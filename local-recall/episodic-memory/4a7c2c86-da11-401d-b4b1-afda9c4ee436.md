---
id: 4a7c2c86-da11-401d-b4b1-afda9c4ee436
subject: >-
  UserPromptSubmit hook uses lazy initialization with cached vector store for
  semantic search
keywords:
  - userpromptsubmit hook
  - vector store
  - semantic search
  - lazy initialization
applies_to: global
occurred_at: '2025-12-02T11:49:29.541Z'
content_hash: 69c3d012079b6cb9
---
The UserPromptSubmit hook initializes the vector store on first use (lazy initialization) and caches it for subsequent calls. It performs semantic search using vector embeddings on the user's prompt and outputs matching memories to stdout for injection into Claude's context.
