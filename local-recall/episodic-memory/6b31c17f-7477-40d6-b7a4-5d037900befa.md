---
id: 6b31c17f-7477-40d6-b7a4-5d037900befa
subject: >-
  Memory extraction from transcripts happens asynchronously every 5 minutes via
  MCP server daemon
keywords:
  - mcp-server
  - background-daemon
  - transcript-processing
  - async
  - memory-extraction
  - schedule
applies_to: 'area:mcp-server'
occurred_at: '2025-12-02T02:29:10.091Z'
content_hash: 79db39b90feab69d
---
# MCP Server Background Daemon

The MCP server includes a background daemon that processes transcripts asynchronously, separate from the hooks.

## Processing Schedule

- **Interval**: Every 5 minutes
- **Behavior**: Asynchronous, doesn't block main server operations

## What It Does

1. Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
2. Extracts memories using `claude -p` with Haiku model
3. Tracks processed transcripts with content hashes for change detection
4. Deletes and recreates memories when transcripts change

## Why This Approach

- The Stop hook was disabled in favor of this daemon approach
- Allows asynchronous processing without blocking user workflow
- Enables change detection to avoid duplicate memories
- More reliable than hook-based processing which can timeout

## Configuration

The daemon runs automatically when the MCP server is started. Can be started via:
- `npm run mcp:start`
- Direct: `node dist/mcp-server/server.js`
