---
id: 852d42ab-a330-4030-9db1-924fef2e8eb9
subject: >-
  Memory extraction from transcripts uses Haiku model with specific prompt
  structure
keywords:
  - memory
  - extraction
  - haiku
  - claude
  - prompt
  - transcript
  - keywords
  - markdown
applies_to: global
occurred_at: '2025-12-02T06:24:08.288Z'
content_hash: 68d4dd6e6dbd22bd
---
# Memory Extraction Prompt Structure

When extracting memories from transcripts, use the Haiku model (`claude-haiku-4-5-20251001`) with a structured prompt that:

1. Provides detailed instructions about memory file format (YAML frontmatter, markdown content)
2. Includes the transcript content to analyze
3. Requests output in specific JSON format with `memories` array
4. Each memory includes: `subject`, `keywords`, `applies_to`, `content`

## Key Details

- Use `keywords`: array of 1-10 lowercase, specific keywords for searchability
- Use `applies_to`: scope as `global`, `file:<path>`, or `area:<name>`
- Use `content`: detailed markdown format explaining the memory
- Set `occurred_at`: ISO-8601 timestamp
- Generate `content_hash`: SHA-256 hash prefix (16 chars) for deduplication

See `src/core/memory-extractor.ts` for the implementation that handles this extraction process.
