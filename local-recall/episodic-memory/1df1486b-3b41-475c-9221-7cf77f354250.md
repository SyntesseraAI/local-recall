---
id: 1df1486b-3b41-475c-9221-7cf77f354250
subject: Transcript condensing implementation - summarizing multi-turn conversations
keywords:
  - transcript
  - condensing
  - summarization
  - claude-api
  - memory-extraction
  - token-efficiency
applies_to: 'file:src/utils/transcript.ts'
occurred_at: '2025-12-01T15:56:35.157Z'
content_hash: a297d239d81b5bc6
---
# Transcript Condensing Implementation

## Feature Overview

The `src/utils/transcript.ts` file implements transcript condensing to reduce token usage when extracting memories from transcripts.

## Key Implementation Details

- Uses Claude API to summarize multi-turn conversations
- Condenses long transcripts into brief event summaries before memory extraction
- Prevents token explosion when processing conversations with many tool invocations
- Format: `[User] message`, `[Assistant] response`, `[Tool: name]`, `[Result: OK/ERROR]`

## Benefits

- Reduces token consumption for memory extraction
- Makes transcript analysis more efficient
- Maintains important context while removing verbosity
- Enables processing of longer sessions without hitting token limits

## Related to MCP Server

The MCP server daemon should use transcript condensing when processing transcripts before passing them to Claude for memory extraction.
