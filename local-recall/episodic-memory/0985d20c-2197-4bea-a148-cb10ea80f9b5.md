---
id: 0985d20c-2197-4bea-a148-cb10ea80f9b5
subject: cleanupTranscripts() method removes invalid and synthetic transcript files
keywords:
  - cleanup
  - transcript-validation
  - file-format
  - synthetic-removal
  - maintenance
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-03T09:47:02.103Z'
content_hash: 78732f6cbc9ef691
---
Added `cleanupTranscripts()` method at lines 353-403 that:
1. Removes files not matching `UUID.jsonl` format (handles `.DS_Store`, malformed names, etc.)
2. Removes synthetic transcripts by checking for `"<synthetic>"` model marker
3. Returns counts of removed files: `{ invalidFormat: number; synthetic: number }`

This cleanup runs automatically at the start of `syncTranscripts()` to keep the transcript directory clean. Returns statistics on what was removed.
