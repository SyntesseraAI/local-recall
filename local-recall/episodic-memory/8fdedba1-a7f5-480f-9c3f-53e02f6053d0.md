---
id: 8fdedba1-a7f5-480f-9c3f-53e02f6053d0
subject: >-
  Transcript collector needs to handle JSONL format with proper line-by-line
  parsing
keywords:
  - transcript
  - jsonl
  - parsing
  - line-by-line
  - json-parsing
  - memory-extraction
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:13:22.254Z'
content_hash: 2a65bd7ce4f7c44a
---
The transcript collector must parse JSONL files correctly since Claude Code stores transcripts as one JSON object per line.

**Key considerations:**
- Each line is a separate JSON object, not wrapped in an array
- Must read file line-by-line (not as a single JSON blob)
- Use `split('\n')` and filter empty lines before parsing
- Each parsed line may have different structures depending on event `type`
- Must handle potential incomplete/malformed lines gracefully

This is critical for the async memory extraction daemon that processes transcripts.
