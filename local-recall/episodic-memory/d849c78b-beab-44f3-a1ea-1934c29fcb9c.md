---
id: d849c78b-beab-44f3-a1ea-1934c29fcb9c
subject: Memory deduplication uses content hash and occurred_at timestamp
keywords:
  - deduplication
  - content-hash
  - occurred-at
  - idempotent
  - duplicate-detection
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-01T23:15:17.746Z'
content_hash: 23bcad3c9f394019
---
The memory creation system implements deduplication by checking both the content_hash (SHA-256 prefix of 16 chars) and occurred_at timestamp. The findDuplicate() method uses these fields to detect existing memories before creating new ones, ensuring idempotent operations. This prevents duplicate memories from being created when the same content is processed multiple times.
