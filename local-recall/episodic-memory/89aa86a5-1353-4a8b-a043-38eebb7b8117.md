---
id: 89aa86a5-1353-4a8b-a043-38eebb7b8117
subject: >-
  Transcript collector needs to handle projectId derivation from working
  directory path
keywords:
  - transcript-collector
  - projectid
  - working-directory
  - path-normalization
  - sessions
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:17:04.800Z'
content_hash: 5aa9ea69aa5a82a0
---
# Project ID Derivation from Working Directory

When implementing transcript collection, the `projectId` must be derived from the working directory path by replacing slashes with dashes.

## Implementation Details

- Input: working directory (e.g., `/Users/joe/Code/Syntessera/local-recall`)
- Process: Replace `/` with `-` to get folder name
- Output: Folder name used to locate transcripts in `~/.claude/projects/[projectId]/transcripts/`

## Why This Matters

The transcript collector needs to:
1. Accept the current working directory
2. Convert it to the proper project folder name format
3. Scan the transcripts directory for JSONL files
4. Load and process each transcript sequentially

This is essential for the MCP daemon to find and process the correct project's transcripts.
