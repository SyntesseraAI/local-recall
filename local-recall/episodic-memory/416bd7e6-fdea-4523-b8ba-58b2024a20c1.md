---
id: 416bd7e6-fdea-4523-b8ba-58b2024a20c1
subject: >-
  Memory extraction uses Claude Haiku for transcript analysis with specific
  prompt format
keywords:
  - memory extraction
  - claude haiku
  - transcript analysis
  - prompt engineering
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:04:13.080Z'
content_hash: a565c20eaa40263b
---
The memory-extractor.ts uses Claude Haiku via the `claude -p` command to analyze session transcripts and extract memories. The extraction uses a structured prompt that analyzes:

1. What was learned during the session
2. What is now known about the codebase
3. What is specific to this codebase
4. What problems were solved

The prompt includes detailed guidelines for memory extraction:
- Be specific with file paths and function names
- Be concise (one concept per memory)
- Be actionable
- Use appropriate scope (global, file:<path>, area:<name>)

The tool expects memories to be returned as JSON with subject, keywords, applies_to, and content fields.

This process is integrated into the memory lifecycle - transcripts are condensed and sent to Claude Haiku for analysis rather than using static keyword extraction.
