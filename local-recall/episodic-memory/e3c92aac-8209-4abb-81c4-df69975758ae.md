---
id: e3c92aac-8209-4abb-81c4-df69975758ae
subject: 'Claude Code transcripts have content as array of blocks, not flat string'
keywords:
  - transcript
  - format
  - content-blocks
  - parsing
  - claude-code
applies_to: 'file:src/utils/transcript.ts'
occurred_at: '2025-12-21T18:28:33.686Z'
content_hash: c93d4302aef3a7c9
---
Claude Code transcripts have a different structure than expected. The `content` field is an array of content blocks, each with a `type` field:
- `type: "thinking"` blocks contain Claude's internal reasoning
- `type: "text"` blocks contain the actual text response
- `type: "tool_use"` and `type: "tool_result"` blocks for tool interactions

Thinking blocks have a `thinking` field (string) with the internal reasoning.
Text blocks have a `text` field (string) with the response.

Previously, the code expected a flat structure with `content` as a string and optional `thinking` at root level. The new implementation extracts thinking from content blocks during parsing.
