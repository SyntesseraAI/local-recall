---
id: 60eccba4-c10c-4d48-9e64-6d80f07d6684
subject: >-
  Memory extraction uses Claude API with structured prompt to identify valuable
  session insights
keywords:
  - memory extraction
  - claude api
  - haiku model
  - transcript analysis
  - structured prompt
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:16:28.067Z'
content_hash: d9c7f667a1c0ab4f
---
The MemoryExtractor class in src/core/memory-extractor.ts:47 uses the Claude API (Haiku model) to analyze session transcripts and extract valuable memories. The extraction uses a detailed prompt defined in src/prompts/memory-extraction.ts that guides the model to identify:

- Architectural decisions and reasoning
- Bug fixes and root cause analysis
- Code patterns and conventions
- Configuration quirks
- User preferences
- Component relationships
- Performance optimizations

The prompt explicitly excludes generic programming knowledge, temporary debugging steps, and sensitive data. The extracted memories are deduplicated using content hash and `occurred_at` timestamp before being stored as memory files.
