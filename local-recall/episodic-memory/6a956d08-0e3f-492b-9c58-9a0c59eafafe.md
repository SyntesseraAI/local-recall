---
id: 6a956d08-0e3f-492b-9c58-9a0c59eafafe
subject: Memory extraction uses Claude Haiku via claude -p for keyword extraction
keywords:
  - memory-extraction
  - keywords
  - haiku
  - claude
  - prompt
  - mcp-server
applies_to: 'area:memory-extraction'
occurred_at: '2025-12-01T15:55:09.663Z'
content_hash: fbb871eff58e075a
---
# Memory Extraction with Claude Haiku

The memory extraction process in the MCP server uses `claude -p` with the Haiku model to extract keywords from session transcripts.

## Implementation

- The MCP server daemon processes transcripts asynchronously
- When extracting memories, it pipes transcript content to `claude -p --model haiku`
- Haiku is used because it's fast and cost-effective for keyword extraction
- The prompt asks for keyword extraction and returns a JSON array

## Context

This is used in the transcript processing workflow:
1. Read transcript JSONL files from `~/.claude/projects/<project>/transcripts/`
2. Extract key information using Claude Haiku
3. Create memory files based on extracted content
4. Track processed transcripts to avoid reprocessing

## Files Involved

- `src/mcp-server/server.ts` - Contains the background daemon logic
- `src/utils/transcript.ts` - Handles transcript parsing and processing
