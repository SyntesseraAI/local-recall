---
id: 50353f80-6228-4474-9ac0-551565801d69
subject: >-
  Memory extraction from transcripts requires robust parsing of Claude CLI JSON
  output
keywords:
  - memory extraction
  - claude cli
  - json parsing
  - error handling
  - transcript processing
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:27:59.401Z'
content_hash: b2668a1d70d4c031
---
The memory extraction system uses the Claude CLI (`claude -p`) to analyze transcripts and extract memories. Key implementation details:

1. The Claude CLI must be available in the system PATH
2. Responses come as JSON objects that may have variations in field naming
3. Error handling is critical - the system should gracefully handle:
   - Missing Claude CLI
   - Malformed JSON responses
   - Incomplete or partial responses
4. The extraction process sends condensed transcript data to maintain token efficiency

This is a critical component of the MCP server's memory lifecycle management.
