---
id: acca88af-4b42-451b-bc98-888061f0b2d8
subject: SessionStart hook timeout caused by vector store initialization
keywords:
  - session-start
  - hook
  - timeout
  - vector-store
  - embedding-model
  - performance
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-21T18:17:55.902Z'
content_hash: e54d080f05ce06b7
---
The SessionStart hook was timing out (30s limit) because it initialized the vector store, which downloads a ~133MB embedding model on first use. Fixed by removing vector store initialization from the hook - it now just loads the 5 most recent memories directly from files. Vector store is lazily initialized by MCP server or user-prompt-submit hook instead.
