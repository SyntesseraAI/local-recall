---
id: b8e1fe61-d0e0-4f6d-bcc9-38c91dc67a9a
subject: >-
  Transcript JSONL format uses separate lines for each content block with shared
  message.id
keywords:
  - transcript format
  - jsonl
  - content blocks
  - message id
  - streaming
  - structure
applies_to: 'file:src/types/transcript-schema.ts'
occurred_at: '2025-12-21T19:15:00.052Z'
content_hash: 41b6fb102ccd20ce
---
Claude Code transcripts are stored as JSONL where each line is a complete event. Multiple content blocks (thinking, text, tool_use) from a single assistant message are stored as separate JSONL lines but share the same `message.id`.

Example:
- Line N: {type: 'message', message: {id: 'msg_XXX', content: [{type: 'thinking', ...}]}}
- Line N+1: {type: 'message', message: {id: 'msg_XXX', content: [{type: 'text', ...}]}}
- Line N+2: {type: 'message', message: {id: 'msg_XXX', content: [{type: 'tool_use', ...}]}}

Processing requires grouping entries by message.id to reconstruct complete messages.
