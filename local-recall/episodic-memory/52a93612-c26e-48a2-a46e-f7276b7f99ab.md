---
id: 52a93612-c26e-48a2-a46e-f7276b7f99ab
subject: >-
  Memory extraction happens in user-prompt-submit hook before Claude processes
  the prompt
keywords:
  - user-prompt-submit
  - memory extraction
  - hook timing
  - context injection
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-01T21:23:26.852Z'
content_hash: 055fab3520f1112c
---
The user-prompt-submit hook executes BEFORE Claude processes the user's prompt. This hook:
1. Receives the user's prompt
2. Searches the memory index for relevant memories based on keywords
3. Injects matching memories into Claude's context

This timing is critical because it allows memories to inform Claude's response to the current prompt.
