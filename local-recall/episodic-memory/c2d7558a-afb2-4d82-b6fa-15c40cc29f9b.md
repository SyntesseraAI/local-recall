---
id: c2d7558a-afb2-4d82-b6fa-15c40cc29f9b
subject: >-
  Memory extractor module handles transcript processing and memory creation with
  deduplication
keywords:
  - memory extractor
  - transcript processing
  - deduplication
  - content hash
  - occurred at
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:24:10.559Z'
content_hash: 47a870ef73ccde87
---
The MemoryExtractor class in src/core/memory-extractor.ts is responsible for:

1. Reading and parsing session transcripts
2. Condensing transcripts to remove noise (tool results, verbose output)
3. Sending condensed transcripts to Claude Haiku for memory extraction
4. Creating memory files with proper metadata (subject, keywords, applies_to scope)
5. Handling deduplication using content_hash and occurred_at timestamp

Key methods:
- `extractMemories(transcriptPath)` - Main entry point that processes a transcript and creates memory files
- Uses memory.findDuplicate() to check for existing memories before creating new ones
- Memories are created with `applies_to: 'global'` by default but the extraction prompt may suggest different scopes
