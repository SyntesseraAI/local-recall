---
id: 552da904-9ba7-4ada-8651-3d6c7aea2031
subject: UserPromptSubmit hook requires structured JSON output for context injection
keywords:
  - userpromptsubmit
  - hook
  - json
  - output
  - context
  - injection
  - logging
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-01T16:17:57.466Z'
content_hash: b3e50c22b9a095e1
---
The UserPromptSubmit hook must output JSON via console.log() for Claude Code to inject context. Plain text output via console.log() does not work for context injection - the hook infrastructure expects JSON format. When outputting debug/status information, use logger.info() instead of console.log() to avoid corrupting the JSON output that gets injected into Claude's context.
