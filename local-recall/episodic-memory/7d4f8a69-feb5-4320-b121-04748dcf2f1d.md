---
id: 7d4f8a69-feb5-4320-b121-04748dcf2f1d
subject: Claude Code hooks integration for memory management
keywords:
  - hooks
  - session-start
  - user-prompt-submit
  - stop
  - json-stdin
applies_to: global
occurred_at: '2025-12-02T11:40:26.307Z'
content_hash: 16d855f531722333
---
Three hooks are configured in `hooks.json`:

1. **SessionStart**: Loads memory index and retrieves relevant memories based on context
2. **UserPromptSubmit**: Extracts keywords from user prompt using Claude Haiku, searches index with fuzzy matching
3. **Stop**: Currently disabled - memory extraction handled by MCP server daemon (runs every 5 minutes)

Hooks receive JSON via stdin and use `${CLAUDE_PLUGIN_ROOT}` for script paths.
