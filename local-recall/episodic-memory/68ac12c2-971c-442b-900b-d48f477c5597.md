---
id: 68ac12c2-971c-442b-900b-d48f477c5597
subject: >-
  Memory extraction uses Claude API with streaming and token counting for
  efficient processing
keywords:
  - memory-extractor
  - claude-api
  - streaming
  - token-counting
  - efficiency
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T21:52:49.519Z'
content_hash: 5f15fbf112952ae4
---
The `MemoryExtractor` class in src/core/memory-extractor.ts uses the Anthropic Claude API with streaming enabled for extracting memories from transcripts. It implements token counting via `countTokens()` to estimate prompt cost before processing. The extractor processes transcript content through a structured prompt defined in src/prompts/memory-extraction.ts to generate memory objects with required fields (subject, keywords, applies_to, content).
