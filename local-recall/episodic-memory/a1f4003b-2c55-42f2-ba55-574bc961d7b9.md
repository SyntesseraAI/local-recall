---
id: a1f4003b-2c55-42f2-ba55-574bc961d7b9
subject: >-
  Vector store uses fastembed with BGE-small-en-v1.5 model for semantic search
  with cosine distance scoring
keywords:
  - vector store
  - embeddings
  - semantic search
  - fastembed
  - bge-small-en-v1.5
  - sqlite-vec
  - similarity scoring
applies_to: 'area:vector-store'
occurred_at: '2025-12-02T22:00:50.065Z'
content_hash: 8431fc8ac97e716b
---
The vector store in `src/core/vector-store.ts` uses better-sqlite3 with sqlite-vec extension for semantic similarity search. Embeddings are generated using fastembed with the BGE-small-en-v1.5 model (~133MB, cached in `local_cache/`).

**Scoring Details:**
- Uses cosine distance similarity (0.0 = no match, 1.0 = identical)
- Scores rounded to 2 decimal places
- Results sorted by score descending
- Recency tie-breaker: when scores equal, more recent memories (by occurred_at) ranked first

**Performance Note:** First startup downloads the embedding model (30-60 seconds, only happens once). Model is cached for subsequent runs in `local_cache/fast-bge-small-en-v1.5/`.
