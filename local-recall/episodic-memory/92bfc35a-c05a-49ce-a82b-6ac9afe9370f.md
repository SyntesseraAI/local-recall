---
id: 92bfc35a-c05a-49ce-a82b-6ac9afe9370f
subject: Memory extraction uses Claude API with thinking for deep analysis
keywords:
  - memory-extractor
  - claude-api
  - thinking
  - transcript-processing
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T22:05:28.445Z'
content_hash: ef3d1aaa38494306
---
The memory-extractor.ts module uses the Claude API with extended thinking enabled to analyze session transcripts and extract meaningful memories. Key implementation details:

- Uses `Anthropic` client from @anthropic-ai/sdk
- Calls `messages.create()` with `thinking` budgetTokens set to 10000
- Extracts memories by processing condensed transcripts
- Returns array of memory objects with subject, keywords, applies_to, and content fields
- Handles both successful extraction and error cases with proper logging

This approach leverages Claude's reasoning capabilities to understand context and relevance when identifying what should be remembered from a session.
