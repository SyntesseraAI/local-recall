---
id: fa732bce-09ba-4712-9701-a3c8132cdfdf
subject: Transcript condensing process for memory extraction
keywords:
  - transcript
  - condensing
  - memory-extraction
  - claude-prompt
  - user-requests
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T16:05:49.370Z'
content_hash: e16f3ef23031b22e
---
# Transcript Condensing for Memory Extraction

The local-recall project uses transcript condensing to prepare Claude project transcripts for memory extraction.

## Process

1. Fetch raw JSONL transcripts from `~/.claude/projects/`
2. Parse transcript events (user prompts, assistant responses, tool invocations)
3. Condense into a simplified event format:
   - `[User]` - User requests/prompts
   - `[Assistant]` - Assistant responses and explanations
   - `[Tool: Name]` - Tool invocations (Read, Edit, Write, Bash, Grep, etc.)
   - `[Result: OK/ERROR]` - Tool outcomes
4. Send condensed transcript to Claude Haiku via `claude -p` for memory extraction
5. Parse the extracted memories and store them in the memory system

## Implementation Details

- Transcript condensing is handled in `src/core/transcript-collector.ts`
- The condensed format significantly reduces token usage compared to raw transcripts
- This enables cost-effective memory extraction using smaller models like Haiku
