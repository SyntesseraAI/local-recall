---
id: 60148c40-efd2-4f65-ad44-5bccafc09a41
subject: Memory extraction from transcript conversations using Claude
keywords:
  - memory-extraction
  - transcript
  - claude-api
  - haiku
  - extraction-prompt
  - content-hash
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:30:23.025Z'
content_hash: c9fa01ab91222ba3
---
# Memory Extraction from Transcripts

The `memory-extractor.ts` module uses Claude Haiku to extract valuable memories from conversation transcripts:

1. **Input**: A transcript containing the full conversation history from a session
2. **Process**: Sends the transcript to Claude Haiku with an extraction prompt
3. **Output**: Structured memory data (subject, keywords, scope, content)
4. **Deduplication**: Uses `occurred_at` and `content_hash` to detect duplicates

## Implementation Details

- Uses `claude -p` command to call Claude Haiku for extraction
- Sends entire transcript to the extraction prompt
- Creates memories with proper frontmatter (id, subject, keywords, applies_to, occurred_at, content_hash)
- Handles deduplication automatically - existing duplicates are not recreated
- Content hash is computed from the memory content for change detection

This is the core component that transforms raw conversations into structured, searchable memories.
