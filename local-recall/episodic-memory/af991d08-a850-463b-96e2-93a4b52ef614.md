---
id: af991d08-a850-463b-96e2-93a4b52ef614
subject: 'Mutex errors from onnxruntime-node in fastembed, not SQLite'
keywords:
  - mutex
  - fastembed
  - onnxruntime-node
  - native bindings
  - concurrent processes
  - embedding service
applies_to: global
occurred_at: '2025-12-21T18:27:48.862Z'
content_hash: 7cc2dbdc26c5f54f
---
The mutex errors occurring after migrating from sqlite-vec to Orama were actually caused by `onnxruntime-node` (a dependency of `fastembed`), not SQLite. Both have native bindings that cause mutex locks when loaded by multiple concurrent hook processes. The embedding service initialization and inference operations need to be serialized with a file-based lock to prevent concurrent access to the native module.
