---
id: 8b87b397-dbbd-4e75-b383-9ad95837c2b4
subject: >-
  Memory extraction requires prompt engineering to get Claude Haiku to output
  valid keywords
keywords:
  - memory-extraction
  - keywords
  - prompt-engineering
  - claude-haiku
  - json-format
  - tool-output
applies_to: global
occurred_at: '2025-12-02T07:19:18.638Z'
content_hash: c3c3c4060a1a5ece
---
# Keyword Extraction from Transcripts

When extracting memories from transcripts, getting Claude Haiku to output properly formatted keywords requires careful prompt engineering.

## Common Issues

1. **Unquoted strings in JSON** - Haiku may output keywords without proper JSON quoting, causing parsing failures
2. **Inconsistent formatting** - Responses may include markdown code blocks or additional explanation text

## Solutions

- Use explicit output format instructions (e.g., "Return ONLY valid JSON, no markdown, no code blocks")
- Request a JSON object with explicit field types
- Consider post-processing to handle edge cases (trimming whitespace, fixing unquoted strings)
- Test with actual transcript data to verify output format

## Context

This is relevant to the memory extraction pipeline where transcripts are processed to create memories with keyword tags for searchability.
