---
id: 284c10f3-5442-45ac-8293-958cbff9838a
subject: TypeScript optional chaining pattern for regex capture groups
keywords:
  - typescript
  - regex
  - optional-chaining
  - capture-groups
  - type-safety
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-03T09:51:12.210Z'
content_hash: b769d2a3a26e4634
---
When accessing regex capture groups in TypeScript, use optional chaining (`match?.[1]`) instead of direct indexing (`match[1]`). This handles both the case where the regex doesn't match AND where the capture group doesn't exist. The error TS2532 'Object is possibly undefined' occurs because even if a regex matches, specific capture groups might not if they're in optional parts of the pattern. This pattern safely accesses capture groups: `const captured = codeBlockMatch?.[1]?.trim()`
