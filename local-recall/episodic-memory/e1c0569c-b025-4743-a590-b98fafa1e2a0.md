---
id: e1c0569c-b025-4743-a590-b98fafa1e2a0
subject: 'JsonlStore architecture: generic append-only log pattern'
keywords:
  - jsonl
  - append-only
  - generic
  - type-safe
  - replay
  - state
applies_to: 'file:src/core/jsonl-store.ts'
occurred_at: '2025-12-21T19:03:33.302Z'
content_hash: a18e65be0c8428e2
---
Created generic `JsonlStore<TEntry, TMemory>` class using append-only log semantics. Entries are never modified in placeâ€”only appended. On load, entries are replayed to reconstruct current state. The store automatically rotates to a new file when reaching 500 entries. Auto-compaction removes deleted entries and creates clean files. Supports custom entry parsing via `entrySchema` and `entryToMemory` options in constructor.
