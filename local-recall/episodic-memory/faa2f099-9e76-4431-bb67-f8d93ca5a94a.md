---
id: faa2f099-9e76-4431-bb67-f8d93ca5a94a
subject: >-
  MCP Server runs background daemon to process transcripts and extract memories
  asynchronously
keywords:
  - mcp server
  - background daemon
  - transcript processing
  - memory extraction
  - 5-minute interval
applies_to: 'file:src/mcp-server/server.ts'
occurred_at: '2025-12-02T11:52:09.734Z'
content_hash: dae85c585cdef469
---
The MCP server includes a background daemon that:

- Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
- Processes transcripts using `claude -p` to extract memories
- Tracks processed transcripts with content hashes for change detection
- Deletes and recreates memories when transcripts change
- Runs every 5 minutes

The Stop hook is currently disabled - memory extraction happens through this async MCP daemon instead. This allows continuous memory accumulation without requiring explicit hook execution.
