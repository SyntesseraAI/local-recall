---
id: 752951a2-a1be-47a4-aa5b-0d82c1fac951
subject: Memory extraction parser handles alternative field names from Claude
keywords:
  - memory-extractor
  - field-normalization
  - claude-response
  - parser
  - robustness
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-21T19:17:04.759Z'
content_hash: 4d0976e15eacc2a5
---
The memory extraction parser in `parseClaudeResponse` now normalizes field names to handle variations Claude might return. Normalization rules (lines 179-186):

- `subject` ← accepts: `subject`, `title`, `summary`, `name`
- `keywords` ← accepts: `keywords`, `tags`, `key_terms`, `keytopics`
- `applies_to` ← accepts: `applies_to`, `scope`, `appliesTo`
- `content` ← accepts: `content`, `body`, `text`, `memory`

This handles inconsistencies in how Claude formats JSON responses across different model versions. The normalization is applied before Zod validation to prevent failures on structurally correct memories with non-standard field names.
