---
id: 17d45e11-a1cc-4206-81c9-bda9613665b6
subject: >-
  Transcript condensing implementation - reduces transcript size before memory
  extraction
keywords:
  - transcript
  - condensing
  - compression
  - memory-extraction
  - mcp-server
  - efficiency
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T15:58:15.138Z'
content_hash: e678afd9f3d99daa
---
# Transcript Condensing Implementation

The local-recall project implements transcript condensing to reduce transcript file sizes before memory extraction.

## Purpose

Transcript files can become very large over many sessions. Condensing:
1. Reduces file size by removing redundant information
2. Makes transcript processing more efficient
3. Extracts only the most relevant events for memory creation

## Implementation Details

The `condenseTranscript()` function is part of the transcript processing pipeline in the MCP server (`src/mcp-server/server.ts`).

## Events Preserved During Condensing

The condensing process keeps:
- User messages (high signal for memory extraction)
- Assistant responses (context and explanations)
- Tool invocations and results (actions taken, debugging steps)
- Error messages (important for understanding what went wrong)
- Key metrics or outcomes

## Events That Can Be Removed

Typically condensed out:
- Verbose tool outputs (keep summary only)
- Intermediate logging or debug output
- Repeated similar operations
- Tool results that don't affect the outcome

## Integration with Memory Extraction

The condensed transcript is then passed to Claude (via `claude -p`) for actual memory extraction. This reduces processing time and costs while maintaining context quality.

## Related Files

- `src/utils/transcript.ts` - Transcript parsing utilities
- `src/mcp-server/server.ts` - MCP server that orchestrates transcript condensing
