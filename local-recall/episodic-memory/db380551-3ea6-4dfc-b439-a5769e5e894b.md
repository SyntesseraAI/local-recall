---
id: db380551-3ea6-4dfc-b439-a5769e5e894b
subject: Memory extraction from transcripts uses claude -p with haiku model
keywords:
  - memory-extraction
  - claude
  - transcript-processing
  - haiku
  - mcp-server
  - background-daemon
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T15:54:16.841Z'
content_hash: 327569f3c248df8a
---
# Memory Extraction Process

The background daemon in the MCP server extracts memories from transcripts using the `claude -p` CLI command with the haiku model.

## Implementation Details

- Uses `claude -p --model haiku` to process transcript content
- Claude Haiku is used because it's fast and cost-effective for extraction tasks
- The process is asynchronous and runs every 5 minutes in the background
- Transcripts are fetched from `~/.claude/projects/<project>/transcripts/`

## Related Components

- MCP server daemon: `src/mcp-server/server.ts`
- User prompt submit hook also uses this approach for on-demand extraction
- See `src/utils/transcript.ts` for transcript parsing utilities
