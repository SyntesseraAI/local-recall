---
id: 151c07b0-4d57-4235-b62c-efcd0613e5bf
subject: >-
  Project structure uses src/core for memory management, hooks for Claude
  integration, mcp-server for tools
keywords:
  - project-structure
  - architecture
  - src-core
  - hooks
  - mcp-server
  - module-layout
applies_to: global
occurred_at: '2025-12-01T21:23:13.622Z'
content_hash: b891a8242083d2d1
---
# Local Recall Project Structure

## Core Organization

The project is organized into three main areas:

### 1. Core Memory Management (`src/core/`)
- `memory.ts` - CRUD operations for memory files
- `memory-extractor.ts` - Parses transcripts and extracts memories
- `transcript-collector.ts` - Syncs transcripts from Claude's cache
- `search.ts` - Fuzzy search implementation with keyword matching
- `vector-store.ts` - Vector embedding storage for semantic search
- `embedding.ts` - Vector embedding generation
- `index.ts` - Keyword index creation and management
- `types.ts` - TypeScript interfaces and types

### 2. Claude Code Hooks (`src/hooks/`)
- `session-start.ts` - Loads memory index at session start
- `user-prompt-submit.ts` - Searches memories based on user prompt
- `stop.ts` - Memory extraction trigger (currently disabled, MCP server handles this)

### 3. MCP Server (`src/mcp-server/`)
- `server.ts` - Main MCP server implementation
- `tools.ts` - Exposed memory tools (create, delete, search, list, rebuild index)

### 4. Utilities (`src/utils/`)
- `logger.ts` - Logging to recall.log
- `markdown.ts` - YAML frontmatter and markdown parsing
- `gitignore.ts` - .gitignore management
- `fuzzy.ts` - Fuzzy matching utilities

## Build Output

All TypeScript is compiled to `scripts/` directory:
- `scripts/hooks/` - Bundled hook executables
- `scripts/mcp-server/server.js` - Bundled MCP server

The `scripts/` directory is gitignored but these are the files actually executed by Claude Code and the MCP server.

## Memory Storage

- `local-recall/episodic-memory/` - Individual memory markdown files (version-controlled)
- `local-recall/index.json` - Keyword index cache (gitignored, auto-generated)
- `local-recall/recall.log` - Debug log file (gitignored)
