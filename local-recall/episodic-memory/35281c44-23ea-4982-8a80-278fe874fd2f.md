---
id: 35281c44-23ea-4982-8a80-278fe874fd2f
subject: 'Vector search scoring: rounds to 2 decimals, uses recency as tie-breaker'
keywords:
  - vector-search
  - scoring
  - similarity
  - recency
  - sorting
  - tie-breaking
applies_to: 'file:src/core/vector-store.ts'
occurred_at: '2025-12-21T18:24:20.066Z'
content_hash: 99f2fde10cfb7419
---
Vector search results use **cosine distance similarity scoring** with the following behavior:

- **Score calculation**: `Math.round((1 - row.distance / 2) * 100) / 100` converts distance to similarity
- **Score range**: 0.0 (no match) to 1.0 (identical), rounded to 2 decimal places (e.g., 0.65)
- **Primary sort**: Results sorted by similarity score (descending) - highest scores first
- **Tie-breaker**: When scores are equal, results are secondary sorted by `occurred_at` (descending) - more recent memories ranked first

This ensures cleaner score reporting and prioritizes recent relevant memories when similarity scores are equivalent.
