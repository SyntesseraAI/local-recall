---
id: 2ba2b272-b450-4557-9763-cc41397ef5a7
subject: Memory extraction uses Claude Haiku with structured prompts and regex parsing
keywords:
  - memory-extraction
  - claude-haiku
  - prompt-engineering
  - regex-parsing
  - transcript-processing
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:36:39.407Z'
content_hash: 2823ce8371dabdbe
---
The memory extraction system in `memory-extractor.ts` uses Claude Haiku to analyze transcripts and extract memories. It sends formatted prompts to Claude and parses the response using regex patterns. The extraction handles both single and multi-line memories, with each memory containing a subject, keywords, scope (applies_to), and content. The regex patterns look for numbered items in the format `1. **Subject**: Keywords...` followed by content blocks.
