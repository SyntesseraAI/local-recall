---
id: da76a3fa-cf88-41e7-bf76-e6c5e16f46bc
subject: >-
  Stop hook disabled in favor of MCP server daemon processing transcripts
  asynchronously every 5 minutes
keywords:
  - stop hook
  - mcp server
  - daemon
  - async processing
  - transcript processing
  - background worker
applies_to: global
occurred_at: '2025-12-01T16:26:03.504Z'
content_hash: c4c79231e46a51a5
---
The Stop hook is currently disabled. Memory extraction is instead handled by the MCP server daemon which:

- Runs as a background process every 5 minutes
- Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
- Processes transcripts using `claude -p` to extract memories
- Tracks processed transcripts with content hashes for change detection
- Deletes and recreates memories when transcripts change
- Runs independently of the hook system

This async approach is more reliable than the Stop hook which could be unreliable due to timing issues.
