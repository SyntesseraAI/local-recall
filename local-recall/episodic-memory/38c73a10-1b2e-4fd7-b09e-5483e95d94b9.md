---
id: 38c73a10-1b2e-4fd7-b09e-5483e95d94b9
subject: Architecture pattern for conditional hook disabling in subprocess calls
keywords:
  - hooks
  - subprocess
  - architecture
  - recursion prevention
  - design pattern
applies_to: global
occurred_at: '2025-12-01T16:33:37.129Z'
content_hash: bad802902820c4a4
---
When a hook needs to invoke Claude via subprocess, always disable hooks in the subprocess to prevent infinite recursion. Use the `--no-hooks` flag when spawning child processes that call Claude.

This is a critical pattern for any hook that needs to call back to Claude for processing (e.g., extracting keywords, analyzing content).
