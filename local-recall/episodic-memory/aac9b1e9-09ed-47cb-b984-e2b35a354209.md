---
id: aac9b1e9-09ed-47cb-b984-e2b35a354209
subject: Memory storage classes handle JSONL serialization and file rotation
keywords:
  - episodic-jsonl-store
  - thinking-jsonl-store
  - serialization
  - file-rotation
  - chunk-size
applies_to: 'file:src/core/episodic-jsonl-store.ts file:src/core/thinking-jsonl-store.ts'
occurred_at: '2025-12-21T19:18:39.469Z'
content_hash: c087415f752e7eb5
---
The `EpisodicJsonlStore` and `ThinkingJsonlStore` classes manage JSONL file storage with:

- **File naming**: Uses 6-digit zero-padded numbers (e.g., `episodic-000001.jsonl`, `episodic-000002.jsonl`)
- **Chunk size management**: Rotates to new files when reaching size limits
- **Serialization**: Each line is a valid JSON object representing a memory or thinking block
- **Migration support**: `migration.ts` handles legacy format conversion

These classes abstract the complexity of managing multiple JSONL files while providing a unified interface for memory operations.
