---
id: 6827fbe9-29bf-4009-a599-8f9e0f01bff3
subject: Memory extraction uses Claude Haiku with system prompt and memory guidelines
keywords:
  - memory-extraction
  - claude-haiku
  - system-prompt
  - guidelines
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:20:41.323Z'
content_hash: e74cbd2e1d97e326
---
Memory extraction in local-recall uses Claude Haiku (claude-haiku-4-5-20251001) via the Anthropic SDK. The extraction process:

1. Uses a dedicated system prompt that guides memory extraction
2. Requires a memory guidelines prompt to structure output
3. Sends the condensed transcript to Claude for analysis
4. Extracts memories with specific fields: subject, keywords, applies_to, content
5. Stores extracted memories using the memory.ts createMemory() function

The extraction happens asynchronously and handles errors gracefully with fallback logging.
