---
id: b456bf9c-35b0-4439-ba67-8b7e40973fab
subject: Hooks not producing output - empty stdout despite execution
keywords:
  - hooks
  - sessionstart
  - userpromptsubmit
  - empty stdout
  - local-recall-plugin
  - hook_response
applies_to: global
occurred_at: '2025-12-21T18:16:18.307Z'
content_hash: c70172a34d9ccc39
---
## Problem
Hooks (SessionStart and UserPromptSubmit) are executing but returning empty stdout and stderr, preventing memory injection into Claude's context. The logs show empty `hook_response` values despite hook execution succeeding.

## Root Cause
The hooks are likely failing silently before producing output. Common causes:
1. Ollama not running or inaccessible at `http://localhost:11434`
2. Missing environment variables or configuration
3. Errors during embedding generation or vector store operations
4. Unhandled exceptions that prevent stdout writing

## Investigation Steps
1. Check if Ollama is running: `ollama serve`
2. Run hooks directly to see actual error output: `node ./dist/hooks/session-start.js < input.json`
3. Add logging to hooks to trace execution path
4. Check if vector indexes exist and are valid JSON
5. Verify Ollama model is available: `ollama list`

## Key Files
- `src/hooks/session-start.ts` - Outputs recent memories
- `src/hooks/user-prompt-submit.ts` - Searches memories and outputs context
- `src/core/embedding.ts` - Ollama embedding service
- `src/core/vector-store.ts` - Orama vector store implementation
