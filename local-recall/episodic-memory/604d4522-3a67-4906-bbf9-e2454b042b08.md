---
id: 604d4522-3a67-4906-bbf9-e2454b042b08
subject: Transcript collector path resolution and environment variable support
keywords:
  - transcript-collector
  - path-resolution
  - home-directory
  - environment-variables
  - macos
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:34:12.069Z'
content_hash: 47c73e5f3c0a5790
---
# Transcript Collector Path Resolution

The transcript-collector needs to properly resolve paths when constructing the Claude transcripts directory path.

## Key Implementation Details

1. **Home Directory Expansion**: Must expand `~` to the actual home directory path using `os.homedir()` or equivalent
2. **Environment Variables**: Consider supporting `$HOME` or other environment variables for flexibility
3. **Path Normalization**: When converting working directory to project folder name, replace slashes with dashes

## Why This Matters

Transcript paths vary by operating system and user. The collector must handle:
- macOS: `~/.claude/projects/...`
- Different user home directories
- Symlinks and relative paths in working directory

Proper path resolution is essential for locating and reading transcript files.
