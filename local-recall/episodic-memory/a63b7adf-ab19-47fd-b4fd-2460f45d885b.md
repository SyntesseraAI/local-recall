---
id: a63b7adf-ab19-47fd-b4fd-2460f45d885b
subject: >-
  Memory files must be idempotent with deduplication via occurred_at and
  content_hash
keywords:
  - deduplication
  - idempotent
  - content_hash
  - occurred_at
  - memory-creation
applies_to: global
occurred_at: '2025-12-02T11:38:30.139Z'
content_hash: 71a66e11daf64e15
---
Memory creation uses deduplication:
- `occurred_at` field (ISO-8601 timestamp) - when the original event occurred
- `content_hash` field (SHA-256 prefix, 16 chars) - hash of memory content
- `findDuplicate(occurredAt, contentHash)` - check for existing memory before creating

Memories created with same occurred_at and content_hash return existing memory instead of creating duplicate. This ensures idempotency across multiple sessions.
