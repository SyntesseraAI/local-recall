---
id: e1ad1145-8bd0-4a5a-ad13-5dc5951bfcdc
subject: >-
  analyzeForMemories only extracts multi-line content as memories, not
  single-line responses
keywords:
  - memory extraction
  - content filtering
  - transcript analysis
applies_to: 'file:src/utils/transcript.ts'
occurred_at: '2025-12-21T18:29:39.576Z'
content_hash: 01b5d902b8ea0cb9
---
The `analyzeForMemories` function filters content based on length:
- Only saves messages with **multi-line content** (contains newline characters)
- Single-line messages are skipped during memory extraction
- This prevents trivial or single-sentence responses from cluttering the memory store
- Applied consistently across both user and assistant messages

When updating tests for this function, ensure test fixtures use multi-line content strings to properly test memory extraction behavior.
