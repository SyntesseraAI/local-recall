---
id: 15c66997-861e-4e2c-a893-3ad983c8eaf5
subject: Claude Haiku returns memory arrays without object wrapper in some cases
keywords:
  - claude-haiku
  - api-response
  - memory-extraction
  - data-format
applies_to: global
occurred_at: '2025-12-21T19:19:00.855Z'
content_hash: fb4550addde7515d
---
Discovered that Claude Haiku model sometimes returns memory extraction results as a plain array `[{...}]` instead of wrapping them in an object `{ memories: [...] }`. This is a legitimate response variation that needs to be handled gracefully. The fix detects and normalizes these responses before schema validation to prevent extraction pipeline failures.
