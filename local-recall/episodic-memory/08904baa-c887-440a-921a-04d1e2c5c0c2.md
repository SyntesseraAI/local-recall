---
id: 08904baa-c887-440a-921a-04d1e2c5c0c2
subject: Claude Code hooks inject memories into context at specific integration points
keywords:
  - hooks
  - integration
  - session-start
  - user-prompt-submit
  - context-injection
applies_to: 'area:claude-code-integration'
occurred_at: '2025-12-02T12:35:58.109Z'
content_hash: e3b524704961324f
---
Local Recall integrates with Claude Code through three hooks configured in `hooks.json`:

1. **SessionStart**: Triggered when session begins
   - Returns 5 most recent memories (sorted by `occurred_at`)
   - Full reload (not incremental) to avoid slow initialization
   - Vector store NOT used for performance

2. **UserPromptSubmit**: Triggered when user submits a prompt
   - Performs semantic search using vector embeddings
   - Lazy-initializes vector store, cached after first use
   - Injects matching memories into context before Claude processes prompt

3. **Stop**: Currently disabled
   - Memory extraction handled by MCP server daemon instead
   - Daemon processes transcripts asynchronously every 5 minutes

All hooks receive JSON via stdin and output memory content to stdout.
