---
id: 49ec0511-88fb-4a01-8032-c55321091fa1
subject: >-
  Memory extraction uses timestamp-based deduplication to avoid creating
  duplicate memories for the same event
keywords:
  - deduplication
  - content-hash
  - occurred_at
  - memory-idempotence
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T21:44:13.427Z'
content_hash: b10cff2cc8eb594b
---
The memory extraction process prevents duplicates using two mechanisms:

1. **Content Hash Checking**: Uses SHA-256 hash of memory content (first 16 characters) to detect identical memory content
2. **Timestamp Checking**: Uses `occurred_at` timestamp to identify when the event originally occurred

Before creating a new memory, the system checks if a memory with the same `occurred_at` and `content_hash` already exists. This ensures that processing the same transcript multiple times doesn't create duplicate memories.

The `MemoryManager.findDuplicate()` method is used for this validation.
