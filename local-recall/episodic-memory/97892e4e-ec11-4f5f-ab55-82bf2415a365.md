---
id: 97892e4e-ec11-4f5f-ab55-82bf2415a365
subject: Memory deduplication uses content_hash and occurred_at fields
keywords:
  - deduplication
  - content-hash
  - memory-management
  - idempotent
applies_to: global
occurred_at: '2025-12-02T11:53:25.912Z'
content_hash: 9dc2fab6c0a9cc5c
---
Memory files are deduplicated using two fields:
- **content_hash**: SHA-256 prefix (16 chars) of the memory content
- **occurred_at**: ISO-8601 timestamp of when the original event occurred

The `MemoryManager.findDuplicate(occurredAt, contentHash)` method checks for existing duplicates before creating new memories. This ensures that:
- Same memories aren't created multiple times
- Memories are idempotent
- The MCP daemon can safely reprocess transcripts
