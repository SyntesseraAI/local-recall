---
id: 83797a6f-6e41-4f23-9f1b-7eacf96e7ecf
subject: Transcript collector implementation for processing Claude Code transcripts
keywords:
  - transcript-collector
  - mcp
  - daemon
  - transcript-processing
  - jsonl
  - memory-extraction
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:31:50.283Z'
content_hash: 8dbb3d21cc927c30
---
# Transcript Collector Implementation

The `transcript-collector.ts` module handles collecting and processing Claude Code transcripts from the MCP background daemon.

## Key Features

- Reads JSONL transcript files from `~/.claude/projects/<project>/transcripts/`
- Tracks processed transcripts using content hashes for change detection
- Supports transcript condensing to focus on relevant events
- Integrates with memory extraction for creating episodic memories

## Usage Pattern

The transcript collector is used by the MCP daemon to:
1. Scan for new/modified transcripts
2. Check if transcript has already been processed (using content hash)
3. Condense transcript into key events
4. Extract memories from condensed transcript
5. Store memories with `applies_to` set to `global` or specific areas

## Important Notes

- Transcripts are JSONL format (one event per line)
- Each event contains user input, assistant response, tool invocations, and results
- Content hash comparison allows re-processing when transcripts change
- Condensing reduces transcript size for memory extraction
