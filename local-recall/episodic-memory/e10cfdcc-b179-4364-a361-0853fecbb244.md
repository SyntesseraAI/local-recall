---
id: e10cfdcc-b179-4364-a361-0853fecbb244
subject: Memory extraction architecture using claude-ai process and transcript parsing
keywords:
  - memory extraction
  - background daemon
  - transcript processing
  - embedding model
  - mcp server
applies_to: global
occurred_at: '2025-12-02T01:38:39.312Z'
content_hash: 990b6a58d487cb8d
---
The Local Recall MCP server runs a background daemon that:
1. Discovers Claude projects using the `~/.claude/projects/` directory structure
2. Reads transcript files in JSONL format from each project
3. Uses the `claude -p` command to invoke Claude Haiku with project context for memory extraction
4. Tracks processed transcripts using SHA-256 content hashes for deduplication
5. Stores extracted memories in the project's `local-recall/episodic-memory/` directory
6. Runs every 5 minutes by default

This approach allows the system to extract memories asynchronously without blocking user interactions.
