---
id: 7ae54b66-c536-4426-911c-1b11734ae810
subject: Need to parse JSONL format for Claude transcripts
keywords:
  - transcript-collector
  - jsonl
  - parsing
  - json
  - line-delimited
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:18:46.815Z'
content_hash: 31f9eada0b40441c
---
# JSONL Parsing for Transcript Collector

The transcript-collector needs to parse JSONL (JSON Lines) format files from Claude's transcript cache.

## Format Details

- Each line in the JSONL file is a valid JSON object
- Lines are delimited by newlines (`\n`)
- No outer JSON array - just newline-separated objects

## Implementation Approach

When reading transcript files:
1. Read the file as text
2. Split by newlines
3. Parse each non-empty line as JSON
4. Handle parsing errors gracefully (skip malformed lines)

## Event Types to Handle

Transcript events include various types (e.g., "user_message", "assistant_message", tool calls, results, etc.). Need to filter and process relevant events for memory extraction.

This is essential for the MCP background daemon that processes transcripts every 5 minutes.
