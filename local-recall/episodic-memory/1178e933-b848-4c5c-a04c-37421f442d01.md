---
id: 1178e933-b848-4c5c-a04c-37421f442d01
subject: >-
  User-prompt-submit hook uses Claude CLI for keyword extraction from user
  prompts
keywords:
  - keyword extraction
  - user-prompt-submit hook
  - claude cli
  - haiku model
  - subprocess
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-01T16:01:46.526Z'
content_hash: 3db48e0d2f594b93
---
The user-prompt-submit hook extracts keywords from user prompts by calling the Claude CLI with the `--prompt-input` flag and the haiku model. The extracted keywords are then used to search the memory index for relevant memories to inject into Claude's context. The function `callClaudeForKeywords()` spawns a subprocess with a 10-second timeout to prevent hanging.
