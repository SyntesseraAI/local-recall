---
id: 7452bb8c-03a9-41fe-b74f-a93d7571625d
subject: >-
  Session start and user prompt submit hooks inject relevant memories from index
  into Claude's context
keywords:
  - hooks
  - context injection
  - session start
  - user prompt
  - memory search
  - claude integration
applies_to: global
occurred_at: '2025-12-01T16:26:03.504Z'
content_hash: 61153b77535af33a
---
Two key hooks integrate Local Recall with Claude Code:

**SessionStart Hook** (`src/hooks/session-start.ts`):
- Triggered when Claude Code session begins
- Loads memory index from `local-recall/index.json`
- Retrieves relevant memories based on current context
- Outputs memory content to stdout for injection into Claude's context

**UserPromptSubmit Hook** (`src/hooks/user-prompt-submit.ts`):
- Triggered before Claude processes user's prompt
- Extracts keywords from prompt using Claude Haiku
- Searches memory index for matching keywords (fuzzy matching)
- Outputs matching memories to stdout for context injection

Both hooks receive JSON input with `session_id`, `transcript_path`, `cwd` and output formatted memories to enhance Claude's awareness of project context.
