---
id: 268dec8d-43f1-4c44-80ed-7052e22d81b1
subject: >-
  User-prompt-submit hook searches memory index using extracted keywords from
  user input
keywords:
  - user-prompt-submit
  - hook
  - keyword extraction
  - memory search
  - claude haiku
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-01T16:00:35.835Z'
content_hash: 3219f918b90eb787
---
The user-prompt-submit hook extracts keywords from the user's prompt using Claude Haiku model via `claude -p --model haiku` command, then searches the memory index using fuzzy matching to find relevant memories. The hook is triggered before Claude processes the prompt and outputs matching memories to stdout for context injection. This allows the system to provide relevant historical context based on what the user is asking about.
