---
id: cbf646a6-2fd9-4385-afde-df6185e899b3
subject: Memory deduplication uses occurred_at timestamp and content_hash
keywords:
  - deduplication
  - duplicate-detection
  - content-hash
  - occurred_at
  - idempotent
applies_to: 'area:memory-manager'
occurred_at: '2025-12-02T11:48:49.452Z'
content_hash: 514590a553438f70
---
Memory deduplication is handled by the Memory Manager using two fields:

**Deduplication Strategy:**
- `occurred_at` (ISO-8601 timestamp): When the original event occurred
- `content_hash` (SHA-256 prefix, 16 chars): Hash of memory content

**Function:** `findDuplicate(occurredAt, contentHash)` checks if a memory with same occurred_at and content_hash already exists before creating a new one.

**Result:** Calling `createMemory()` multiple times with identical content returns the existing memory instead of creating duplicates. This makes the system idempotent.
