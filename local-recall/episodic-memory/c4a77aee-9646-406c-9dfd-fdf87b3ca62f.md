---
id: c4a77aee-9646-406c-9dfd-fdf87b3ca62f
subject: 'Transcript parsing bug: thinking blocks had wrong property accessor'
keywords:
  - transcript parsing
  - thinking blocks
  - bug fix
  - content extraction
applies_to: 'file:src/utils/transcript.ts'
occurred_at: '2025-12-02T06:31:27.482Z'
content_hash: 416cdaf24998e091
---
Fixed critical bug in transcript parsing where thinking content was being dropped. The issue was that `stop.ts` checked `c.text` for thinking blocks, but thinking blocks have a `c.thinking` property instead. The problem was in the `extractUserContent()` function which wasn't handling thinking blocks correctly. Solution: Update the property accessor to check for `c.thinking` when processing content blocks that represent Claude's internal reasoning.
