---
id: d6e555ce-27be-436d-a466-448a7a660a31
subject: Memory extractor module handles transcript processing and memory creation
keywords:
  - memory-extractor
  - transcript processing
  - memory creation
  - claude api
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:24:32.232Z'
content_hash: 5fad1f29058700c1
---
The memory-extractor.ts module is responsible for:
- Processing session transcripts to extract valuable memories
- Using Claude Haiku API to analyze transcript content
- Creating memory files with proper metadata (id, subject, keywords, occurred_at, content_hash)
- Handling idempotent memory creation (using content_hash and occurred_at for deduplication)
- Condensing transcripts to improve token efficiency before sending to Claude

Key patterns:
- Uses MemoryData interface from core/types.ts for memory structure
- Integrates with memory.ts createMemory() for persistence
- Processes condensed transcript format with [User], [Assistant], [Tool], [Result] events
- Handles timestamp tracking and content hashing for deduplication
