---
id: 2316b4d6-54b2-4c37-b785-6a369cf1bd37
subject: MemoryManager must ensure .gitignore exists in parent local-recall directory
keywords:
  - gitignore
  - memory-manager
  - initialization
  - index-manager
  - file-creation
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-21T18:18:14.023Z'
content_hash: 8581f2180dfabcb5
---
The MemoryManager class creates the local-recall/memories/ directory but wasn't ensuring the parent local-recall/.gitignore file existed. This caused .gitignore to only be created when IndexManager ran, not when memory operations occurred.

Fix: Add ensureGitignore() method to MemoryManager that:
1. Stores baseDir as a class property
2. Calls ensureGitignore() in constructor
3. Ensures .gitignore exists with proper patterns

This ensures .gitignore is created early in the memory initialization lifecycle, not dependent on IndexManager being invoked.
