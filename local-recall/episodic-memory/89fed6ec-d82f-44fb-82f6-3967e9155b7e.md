---
id: 89fed6ec-d82f-44fb-82f6-3967e9155b7e
subject: Keyword extraction for user prompts uses Claude Haiku via command-line
keywords:
  - keyword-extraction
  - haiku
  - claude-cli
  - user-prompt-submit
  - streaming
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-01T22:05:39.542Z'
content_hash: 02eeb9c375f5e8ec
---
# Keyword Extraction Implementation

The user-prompt-submit hook extracts keywords from user prompts by invoking Claude Haiku via command-line interface.

## Implementation

Uses `claude -p --model haiku` (streaming mode) to:
1. Pass the user prompt as stdin input
2. Request keyword extraction in JSON format
3. Parse the JSON response containing keyword array

## Key Details

- Uses command-line invocation rather than API calls
- Haiku model chosen for speed and efficiency
- Response is formatted as JSON array of keywords
- This approach allows the hook to work independently without API configuration

## File Location

Implemented in `src/hooks/user-prompt-submit.ts` function that processes user prompts before Claude processes them.
