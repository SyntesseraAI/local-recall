---
id: ea6ae6cc-1d09-46f5-a797-fc4a360a81c6
subject: Deduplication logic implemented in memory.ts
keywords:
  - memory-dedup
  - idempotency
  - content-hash
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-21T18:22:28.112Z'
content_hash: 1e0aa5a0176410d3
---
Added deduplication to `createMemory()` method:

- `computeContentHash()`: Generates SHA-256 hash of content, truncated to 16 chars
- `findDuplicate()`: Checks if memory with same `occurred_at` + `content_hash` exists
- If duplicate found, returns existing memory instead of creating new one
- Enables safe re-processing of transcripts without creating duplicates
