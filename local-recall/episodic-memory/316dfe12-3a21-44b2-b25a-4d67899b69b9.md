---
id: 316dfe12-3a21-44b2-b25a-4d67899b69b9
subject: Embedding implementation needed for semantic memory search
keywords:
  - embedding
  - semantic-search
  - vector-store
  - bge-small
  - fastembed
  - memory-search
applies_to: global
occurred_at: '2025-12-01T22:12:42.589Z'
content_hash: 46e0315178c48e7e
---
# Embedding and Vector Store Implementation

The local-recall project needs semantic search capabilities beyond keyword matching. Two new files need to be implemented:

## src/core/embedding.ts

Should wrap the `fastembed` library (BGE-small-en-v1.5 model) to:
- Initialize the embedding model on first use
- Convert text to 384-dimensional embeddings
- Handle model caching in `local_cache/` directory
- Provide async embedding functions for memory content and queries

## src/core/vector-store.ts

Should provide:
- Storage and indexing of memory embeddings
- Cosine similarity search for finding semantically related memories
- Persistence of embeddings to avoid re-computation
- Integration with the memory management system

These components will enable semantic search in addition to the existing keyword-based search, allowing memories to be found based on meaning rather than exact keyword matches.
