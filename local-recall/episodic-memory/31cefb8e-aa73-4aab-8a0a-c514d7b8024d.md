---
id: 31cefb8e-aa73-4aab-8a0a-c514d7b8024d
subject: Memories are idempotent - duplicates detected by occurred_at and content_hash
keywords:
  - idempotent
  - deduplication
  - content hash
  - occurred_at
  - duplicate detection
applies_to: global
occurred_at: '2025-12-01T15:52:19.473Z'
content_hash: 7b1e4466004d155e
---
The memory system implements idempotent creation through duplicate detection. The `findDuplicate()` function in memory.ts checks for existing memories using `occurred_at` timestamp and `content_hash` (SHA-256 prefix of 16 chars). This prevents duplicate memories when the same transcript is processed multiple times or when memory creation is retried.
