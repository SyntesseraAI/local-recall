---
id: 5502bb55-9794-42f1-8279-86f7b30839f2
subject: Claude Code integration via hooks for session management and memory extraction
keywords:
  - claude-code
  - hooks
  - integration
  - session-start
  - user-prompt
applies_to: global
occurred_at: '2025-12-02T12:39:34.565Z'
content_hash: da7683b16178d320
---
Local Recall integrates with Claude Code through three hooks configured in `hooks.json`:

1. **SessionStart Hook**: Triggered when session begins. Loads all memories from disk and returns the 5 most recent memories (sorted by `occurred_at`). Does NOT use vector store to avoid slow initialization.

2. **UserPromptSubmit Hook**: Triggered when user submits prompt. Initializes vector store (lazy, cached), performs semantic search, outputs matching memories.

3. **Stop Hook**: Currently disabled. Memory extraction handled by MCP server daemon processing transcripts asynchronously.

Hooks receive JSON via stdin with `session_id`, `transcript_path`, `cwd`, and other context.
