---
id: 4b30aedf-d68a-4f01-ae49-d7c6a13f2c45
subject: Raw transcript entries use type field instead of role for message type
keywords:
  - transcript format
  - raw format
  - type vs role
  - message structure
applies_to: 'file:src/utils/transcript.ts'
occurred_at: '2025-12-21T18:24:55.963Z'
content_hash: 555d14193165846b
---
Transcript format has two variants:

1. **Raw format** (from Claude Code): Uses `type` field (not `role`), e.g. `{"type": "user" | "assistant", "timestamp": "...", "message": {"content": ...}}`
2. **Legacy format**: Uses `role` field, e.g. `{"role": "user" | "assistant", "content": "...", "timestamp": "..."}`

The parsing logic handles both for backwards compatibility. The raw format supports content blocks (array of `{type, text}` or `{type, thinking}` objects), while legacy format has flat string content.
