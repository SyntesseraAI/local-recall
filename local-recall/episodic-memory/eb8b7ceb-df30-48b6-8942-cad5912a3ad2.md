---
id: eb8b7ceb-df30-48b6-8942-cad5912a3ad2
subject: Configuration loading strategy with environment variable fallbacks
keywords:
  - configuration
  - environment
  - loading
  - precedence
  - .local-recall.json
applies_to: 'file:src/utils/config.ts'
occurred_at: '2025-12-21T19:16:47.225Z'
content_hash: 9eff05b6f34991f6
---
Configuration loading uses a precedence order:

1. **Environment Variables** (highest priority)
   - Prefixed with `LOCAL_RECALL_` (e.g., `LOCAL_RECALL_DIR`, `LOCAL_RECALL_EPISODIC_ENABLED`)
   - Override `.local-recall.json` settings

2. **.local-recall.json** (project-level config)
   - Checked in project root
   - Can override defaults for specific project

3. **Hardcoded defaults** (lowest priority)
   - Fallback values in code
   - Examples: `memoryDir: './local-recall'`, `episodicMaxTokens: 1000`

**Implementation**: `src/utils/config.ts` reads in this order and merges settings.

**Important**: `.local-recall.json` is NOT gitignored, so project-specific configs can be shared in git. Sensitive data should go in env vars instead.
