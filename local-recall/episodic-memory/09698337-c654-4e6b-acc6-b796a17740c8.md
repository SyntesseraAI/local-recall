---
id: 09698337-c654-4e6b-acc6-b796a17740c8
subject: >-
  Memory extraction should use Haiku model with single-turn and JSON-only
  response
keywords:
  - haiku
  - memory-extraction
  - json-response
  - model-optimization
  - cost-reduction
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-21T19:23:11.524Z'
content_hash: e5e202f80ce51fd4
---
Memory extraction was updated to use Claude Haiku instead of default model for cost optimization. Implementation uses `--model haiku --max-turns 1` flags when calling `claude -p`. The memory extraction prompt was updated to require JSON-only output (no markdown, no explanation) to ensure consistent parsing of returned memories. This reduces token usage while ensuring reliable memory extraction.
