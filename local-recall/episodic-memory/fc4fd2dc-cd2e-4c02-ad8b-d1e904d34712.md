---
id: fc4fd2dc-cd2e-4c02-ad8b-d1e904d34712
subject: Transcript condensing feature for memory extraction
keywords:
  - transcript
  - condensing
  - memory-extraction
  - claude-api
  - compression
  - token-efficiency
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T16:16:33.777Z'
content_hash: 8b9af1ca215c7ffd
---
# Transcript Condensing for Memory Extraction

## Purpose

The `condenseTranscript` function in `src/core/transcript-collector.ts` compresses raw transcripts before sending them to Claude Haiku for memory extraction.

## Implementation

Instead of sending raw transcripts with all tool outputs and verbose interactions, the function:
1. Parses the transcript JSONL format
2. Extracts only the essential information (user messages, assistant responses, tool names)
3. Removes large tool outputs and intermediate debugging steps
4. Creates a condensed summary that's more token-efficient

## Benefits

- Reduces token usage when calling `claude -p` for memory extraction
- Faster processing of transcripts
- Focuses Claude's attention on meaningful user-assistant interactions
- Maintains context for memory extraction while removing noise

## Implementation Details

- Function signature: `condenseTranscript(content: string): string`
- Returns condensed transcript ready for memory extraction
- Should be called before passing transcript content to memory extraction pipeline
