---
id: 5c778f84-5eff-44de-83d0-6f924e67f17c
subject: Memory extractor uses claude-sdk for transcript processing
keywords:
  - memory-extractor
  - claude-sdk
  - transcript
  - streaming
  - token-usage
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T16:13:32.026Z'
content_hash: eb284fde17adfda9
---
The memory extractor uses the Claude SDK (Anthropic's official SDK) instead of shell commands for processing transcripts. This provides better performance, structured responses, and token usage tracking. The extractor:

1. Uses `Anthropic` client for API calls
2. Implements streaming via `stream()` method
3. Tracks token usage via `usage` object in response
4. Processes full transcripts through memory extraction prompts
5. Returns structured memory objects that can be directly persisted

This approach is more reliable than shell-based transcript processing and integrates better with the MCP server workflow.
