---
id: 5baa2f4c-5e83-49e7-ae27-8b0ccbdd1170
subject: >-
  Memory extraction uses Claude Haiku with structured prompt for consistent
  formatting
keywords:
  - memory-extractor
  - claude-haiku
  - prompt-engineering
  - memory-format
  - extraction
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:50:07.949Z'
content_hash: 0fe42eed76c0f41c
---
The memory extraction process in `memory-extractor.ts` uses Claude Haiku (`claude-haiku-4-5-20251001`) with a detailed prompt template (`src/prompts/memory-extraction.ts`) to extract structured memories from transcripts. The prompt specifies:

- Memory format requirements (YAML frontmatter with specific fields)
- Field validation rules (id must be UUID, applies_to must match allowed scopes)
- Content guidelines (concise, specific, actionable)
- Keyword selection criteria (1-10 keywords, lowercase, specific to domain)

The extraction is designed to produce consistent, machine-readable memories that can be parsed reliably and stored as markdown files in the episodic-memory directory.
