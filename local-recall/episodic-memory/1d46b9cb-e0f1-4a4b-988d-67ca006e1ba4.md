---
id: 1d46b9cb-e0f1-4a4b-988d-67ca006e1ba4
subject: Memory deduplication and processing strategy
keywords:
  - deduplication
  - transcript
  - processing
  - content hash
  - occurred_at
  - mcp server
applies_to: global
occurred_at: '2025-12-02T21:54:03.808Z'
content_hash: b6a16e39db5502f0
---
The Local Recall system uses a multi-pronged approach for memory deduplication and processing:

1. **Stop Hook**: Disabled - Memory extraction handled by MCP server daemon instead
2. **MCP Server Daemon**: Processes transcripts asynchronously every 5 minutes
   - Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
   - Uses content hashes for change detection
   - Deletes and recreates memories when transcripts change
3. **Duplicate Detection**: Uses `findDuplicate(occurredAt, contentHash)` with:
   - `occurred_at`: ISO-8601 timestamp for event timing
   - `content_hash`: SHA-256 prefix (16 chars) for content comparison
