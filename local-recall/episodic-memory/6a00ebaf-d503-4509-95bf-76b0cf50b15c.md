---
id: 6a00ebaf-d503-4509-95bf-76b0cf50b15c
subject: MCP server daemon processes transcripts asynchronously every 5 minutes
keywords:
  - mcp
  - daemon
  - transcripts
  - async
  - background
  - interval
  - memory-extraction
applies_to: 'area:mcp-server'
occurred_at: '2025-12-01T16:27:41.043Z'
content_hash: 4ee0eb269ff7e191
---
# MCP Server Background Daemon

The MCP server runs a background daemon that processes transcripts asynchronously.

## Behavior

- The daemon processes transcripts every 5 minutes (300 seconds)
- It reads from `~/.claude/projects/<project>/transcripts/`
- It uses content hashing to detect when transcripts change
- When a transcript changes, the daemon:
  1. Deletes the old memory
  2. Processes the transcript using `claude -p` to extract new memory
  3. Creates a new memory with the updated content

## Implementation

This asynchronous approach was chosen over the Stop hook because:
- The Stop hook is currently disabled
- The background daemon can process transcripts periodically without blocking
- Change detection via content hashing prevents unnecessary reprocessing

## Related Files

- `src/core/transcript-collector.ts` - Collects and processes transcripts
- `src/mcp-server/server.ts` - Runs the background daemon
