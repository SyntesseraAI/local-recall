---
id: a380b909-7f78-497d-ad88-87d287b19d43
subject: User prompt submit hook searches memories before passing prompt to Claude
keywords:
  - user prompt submit
  - hook
  - memory search
  - context injection
  - relevance
applies_to: 'file:src/hooks/user-prompt-submit.ts'
occurred_at: '2025-12-01T22:38:36.102Z'
content_hash: a3edbba2ef0c170b
---
The `user-prompt-submit` hook (lines 73-92) performs memory search before Claude processes the user's prompt. It extracts keywords from the user's prompt using Claude Haiku, searches the memory index for matching memories, and injects relevant memories into the context before the prompt is processed. This proactive memory injection improves Claude's awareness of project-specific knowledge without waiting for explicit memory requests.
