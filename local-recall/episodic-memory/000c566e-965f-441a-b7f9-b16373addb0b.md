---
id: 000c566e-965f-441a-b7f9-b16373addb0b
subject: Transcript condensing implementation in transcript-collector.ts
keywords:
  - transcript
  - condensing
  - compression
  - claude-haiku
  - summary
  - events
  - memory-extraction
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:27:44.541Z'
content_hash: 04421b0f51232349
---
# Transcript Condensing

The `transcript-collector.ts` module implements transcript condensing to compress transcript events before sending them to Claude for memory extraction.

## Purpose

Transcripts can be very large, containing full tool outputs and verbose interactions. Condensing:
1. Summarizes tool results (e.g., file contents, command outputs)
2. Removes redundant information
3. Keeps the essential context needed for memory extraction
4. Reduces token usage when sending to Claude Haiku

## Implementation

The `condenseTranscript()` function:
- Takes a JSONL transcript (array of events)
- Processes tool results to extract key information
- Creates abbreviated versions suitable for memory extraction
- Returns a condensed version that maintains semantic meaning

## Integration

This is used by the MCP server's background daemon when processing transcripts for memory extraction, ensuring efficient token usage while preserving context.
