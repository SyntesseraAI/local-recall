---
id: aba55ac0-e42c-442b-b511-2ddffa927a0b
subject: SessionStart hook was timing out due to vector store initialization
keywords:
  - session-start
  - hook
  - timeout
  - vector-store
  - embedding
  - performance
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-21T19:14:59.526Z'
content_hash: 04efd4bead46d54f
---
The SessionStart hook was initializing the full vector store on session start, which downloads a 133MB embedding model on first use and takes too long for the 30-second hook timeout. Fixed by loading just the 5 most recent memories directly from files without vector store initialization. Vector store is now lazily initialized by the MCP server or UserPromptSubmit hook.
