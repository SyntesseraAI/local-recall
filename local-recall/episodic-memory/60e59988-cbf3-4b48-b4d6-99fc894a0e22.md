---
id: 60e59988-cbf3-4b48-b4d6-99fc894a0e22
subject: >-
  MCP server background daemon processes transcripts asynchronously every 5
  minutes
keywords:
  - mcp
  - server
  - daemon
  - transcript
  - background
  - async
  - processing
applies_to: 'area:mcp-server'
occurred_at: '2025-12-01T16:00:07.693Z'
content_hash: 7998b052525060fc
---
# MCP Server Background Daemon

The MCP server runs a background daemon that processes transcripts asynchronously rather than being triggered by hooks.

## Behavior

- Syncs transcripts from Claude's cache (`~/.claude/projects/<project>/transcripts/`)
- Processes transcripts using `claude -p` to extract memories
- Tracks processed transcripts with content hashes for change detection
- Deletes and recreates memories when transcripts change
- Runs every 5 minutes automatically

## Relationship to Hooks

The Stop hook (mentioned in CLAUDE.md) is currently disabled. Memory extraction is handled entirely by this background daemon rather than on-demand.

## Implementation Details

This approach allows for:
- Asynchronous processing without blocking Claude Code
- Change detection to avoid duplicate processing
- Scheduled batch processing of transcripts
