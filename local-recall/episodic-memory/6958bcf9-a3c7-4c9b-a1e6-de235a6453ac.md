---
id: 6958bcf9-a3c7-4c9b-a1e6-de235a6453ac
subject: >-
  Plugin deployment requires bundled dependencies - unbundled versions fail in
  other Claude instances
keywords:
  - plugin
  - deployment
  - bundled
  - dependencies
  - mcp server
  - cache
  - node_modules
applies_to: global
occurred_at: '2025-12-21T18:15:57.311Z'
content_hash: 6e0a932282b1039e
---
The local-recall plugin deploys to `~/.claude/plugins/cache/local-recall-marketplace/local-recall/VERSION/` but the MCP server needs all dependencies bundled since node_modules aren't shipped with plugins. The build script must NOT use the `--external` flag when bundling server.js. Without bundled deps, the server.js fails to run on other Claude instances with module resolution errors. The plugin cache becomes stale and needs to be cleared when upgrading versions.
