---
id: d2ca7da9-a917-4458-aac4-7876c07c3926
subject: Memory extraction uses transcript condensing to improve context efficiency
keywords:
  - memory-extraction
  - transcript-condensing
  - context-efficiency
  - token-usage
  - architecture
applies_to: global
occurred_at: '2025-12-01T21:56:13.504Z'
content_hash: ca7f1fd3cbb6235e
---
## Design Pattern

Before extracting memories from transcripts via Claude, the transcript is condensed into a compact format that captures events without preserving full tool outputs. This:

1. **Reduces token usage** - Only relevant information is sent to Claude for analysis
2. **Improves focus** - Claude concentrates on high-level decisions and learnings rather than tool output noise
3. **Maintains context** - Tool results (OK/ERROR) are preserved for critical information

## Implementation Details

- Condensing happens in `transcript-collector.ts`
- Format: `[User]`, `[Assistant]`, `[Tool: Name]`, `[Result: OK/ERROR]` events
- Full outputs are filtered out to reduce noise
- This condensed format is passed to Claude for memory extraction analysis
