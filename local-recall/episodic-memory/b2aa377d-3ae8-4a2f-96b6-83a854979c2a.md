---
id: b2aa377d-3ae8-4a2f-96b6-83a854979c2a
subject: >-
  Claude CLI with --output-format json returns conversation message array, not
  raw text
keywords:
  - claude-cli
  - json-output
  - parsing
  - message-array
  - conversation-format
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-21T19:22:56.476Z'
content_hash: 47b6eff5b19b45ed
---
When using `claude -p --output-format json`, the response is an array of conversation messages (not raw text). Each message has `type`, `content` fields. The assistant's text response is nested in `messages[i].content[0].text`. Wrapping this array as `{ memories: array }` incorrectly treats the message array as memory objects. Extract the assistant's text first using the message array format.
