---
id: e1fa9c89-2799-4cd1-9c3b-e3d1ed570913
subject: >-
  MCP server runs background daemon every 5 minutes to process transcripts for
  memory extraction
keywords:
  - mcp
  - daemon
  - background
  - transcripts
  - memory-extraction
  - interval
applies_to: 'area:mcp-server'
occurred_at: '2025-12-01T22:05:50.368Z'
content_hash: d5d9c439581d5566
---
# MCP Server Background Daemon

The MCP server implementation includes a background daemon that processes Claude Code transcripts asynchronously.

## Behavior

- **Interval**: Runs every 5 minutes (300 seconds)
- **Function**: Syncs transcripts from `~/.claude/projects/<project>/transcripts/`
- **Processing**: Uses Claude Haiku to extract memories from new/modified transcripts
- **Deduplication**: Uses content hashes to detect changes and avoid duplicate memories
- **Cleanup**: Deletes old memories when transcripts are updated

## Implementation Details

The Stop hook is currently disabled; memory extraction is handled entirely by this background daemon rather than at session end.

## Location

Implemented in `src/mcp-server/server.ts` - search for daemon/interval setup code.
