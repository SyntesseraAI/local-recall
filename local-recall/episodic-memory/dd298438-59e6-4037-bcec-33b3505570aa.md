---
id: dd298438-59e6-4037-bcec-33b3505570aa
subject: >-
  Vector store uses sqlite-vec extension with cosine distance for similarity
  scoring
keywords:
  - vector store
  - sqlite-vec
  - cosine distance
  - similarity scoring
  - embeddings
applies_to: 'area:vector-store'
occurred_at: '2025-12-02T16:51:52.359Z'
content_hash: f435ed68ca5a780c
---
The vector store in `src/core/vector-store.ts` uses `better-sqlite3` with the `sqlite-vec` extension for semantic search. Similarity scores use cosine distance with results normalized to 0.0-1.0 range, rounded to 2 decimal places. When scores are equal (tie), memories are sorted by `occurred_at` (more recent first) as a recency tie-breaker. Embeddings are generated using fastembed with BGE-small-en-v1.5 model.
