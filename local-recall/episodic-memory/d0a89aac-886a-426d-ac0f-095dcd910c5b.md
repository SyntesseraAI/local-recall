---
id: d0a89aac-886a-426d-ac0f-095dcd910c5b
subject: >-
  Project structure: Local Recall is a Claude Code plugin with hooks and MCP
  server
keywords:
  - plugin
  - architecture
  - hooks
  - mcp-server
  - project-structure
  - claude-code
applies_to: global
occurred_at: '2025-12-02T11:30:04.869Z'
content_hash: 1adf44f5c62eb16b
---
# Local Recall Architecture

Local Recall is a **Claude Code plugin** that enables persistent memory across sessions.

## Key Components

### Plugin System
- Root directory is the plugin root
- Plugin metadata in `.claude-plugin/plugin.json`
- Hooks defined in `hooks.json`
- MCP server configured in `.mcp.json`

### Three Execution Paths

1. **SessionStart Hook**: Loads memory index when Claude Code session begins
2. **UserPromptSubmit Hook**: Searches memories when user submits a prompt
3. **MCP Server Daemon**: Background process that processes transcripts every 5 minutes

### Memory Storage
- All memories stored in `local-recall/episodic-memory/` as markdown files
- Each file has YAML frontmatter with metadata (id, subject, keywords, scope, timestamp, hash)
- Index built from keywords is cached at `local-recall/index.json` (gitignored)

### Build Output
- TypeScript source in `src/` compiles to `dist/`
- Production scripts bundled to `scripts/hooks/` and `scripts/mcp-server/`
