---
id: 424e3f36-fb51-406b-be23-558f7d0a93bb
subject: Memory extraction uses Claude Haiku with structured prompt templates
keywords:
  - memory-extractor
  - claude-haiku
  - prompt-template
  - transcript-processing
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-01T22:09:13.422Z'
content_hash: 568ee02e5bf2f596
---
The memory extractor in `src/core/memory-extractor.ts` uses Claude Haiku via the `claude -p` CLI command to extract memories from transcripts. It uses a prompt template from `src/prompts/memory-extraction.ts` that guides the model to identify key learnings, architectural decisions, bugs fixed, and patterns discovered. The extractor processes transcripts asynchronously and handles deduplication by checking for existing memories with matching `occurred_at` timestamp and `content_hash`.
