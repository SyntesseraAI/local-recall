---
id: d5c74a06-019e-46b4-b72e-7a27a4fd1597
subject: Deduplication strategy using occurred_at timestamp and content_hash
keywords:
  - deduplication
  - duplicate detection
  - content hash
  - sha256
  - occurred_at
applies_to: 'file:src/core/memory.ts'
occurred_at: '2025-12-02T01:38:39.312Z'
content_hash: 0d091f331baf0b4b
---
The memory system prevents duplicate memories using a combination of:
1. `occurred_at` field: ISO-8601 timestamp of when the original event occurred
2. `content_hash` field: SHA-256 hash (16 char prefix) of the memory content

Before creating a new memory, the `findDuplicate(occurredAt, contentHash)` method checks if a memory with the same occurred_at timestamp and content_hash already exists. This allows the system to detect when a transcript has been re-processed or when similar memories are created multiple times. If a duplicate is found, the existing memory is returned instead of creating a new one.
