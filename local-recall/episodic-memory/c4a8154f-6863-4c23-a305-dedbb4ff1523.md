---
id: c4a8154f-6863-4c23-a305-dedbb4ff1523
subject: >-
  SessionStart hook loads 5 most recent memories; UserPromptSubmit hook uses
  vector search; Stop hook is disabled
keywords:
  - hooks
  - claude-code
  - session-start
  - user-prompt-submit
  - memory-loading
applies_to: 'area:hooks'
occurred_at: '2025-12-02T17:32:01.426Z'
content_hash: 3418bc7f7028b744
---
SessionStart hook (triggered on session begin) loads all memories from disk and returns 5 most recent by occurred_at without using vector store (to avoid slow initialization). UserPromptSubmit hook (on user prompt) lazily initializes vector store and performs semantic search to inject relevant memories. Stop hook is currently disabled; memory extraction is handled by MCP server daemon running every 5 minutes.
