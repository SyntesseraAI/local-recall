---
id: a215050b-d41a-499c-b798-3d36ef2fcee1
subject: Stop hook currently disabled - memory extraction handled by MCP daemon instead
keywords:
  - stop-hook
  - memory-extraction
  - mcp-daemon
  - asynchronous-processing
applies_to: global
occurred_at: '2025-12-01T16:02:49.711Z'
content_hash: ea4da084fafc556f
---
The Stop hook (run when Claude Code session ends) is currently disabled. Memory extraction has been moved to the MCP server daemon which:

1. Runs asynchronously every 5 minutes
2. Syncs transcripts from Claude's cache (~/.claude/projects/<project>/transcripts/)
3. Processes transcripts using claude -p to extract memories
4. Tracks processed transcripts with content hashes for change detection
5. Deletes and recreates memories when transcripts change

This design prevents blocking the user's workflow and allows for more sophisticated memory extraction.
