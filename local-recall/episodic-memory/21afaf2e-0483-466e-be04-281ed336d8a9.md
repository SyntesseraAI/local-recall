---
id: 21afaf2e-0483-466e-be04-281ed336d8a9
subject: >-
  Memory extractor was passing transcripts via command-line arguments causing
  E2BIG errors on large files
keywords:
  - memory-extractor
  - e2big error
  - stdin
  - large transcripts
  - command-line arguments
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T17:55:01.067Z'
content_hash: 17fc4d5c1942a72e
---
The `callClaudeCLI` method in `src/core/memory-extractor.ts` was passing the entire transcript as a command-line argument using `spawn('claude', [...args])`. This caused E2BIG (Argument list too long) errors when transcripts exceeded the OS argument limit (~128KB on Linux). Fixed by passing the transcript via stdin instead: `child.stdin.write(transcript)` and using the `-p` flag to read from stdin. This allows handling of arbitrarily large transcripts.
