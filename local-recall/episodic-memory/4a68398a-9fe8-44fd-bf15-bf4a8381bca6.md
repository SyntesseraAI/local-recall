---
id: 4a68398a-9fe8-44fd-bf15-bf4a8381bca6
subject: >-
  Memory extraction uses Claude API with structured prompts for consistent
  extraction
keywords:
  - memory-extractor
  - claude-api
  - prompt-engineering
  - structured-output
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-02T07:08:03.673Z'
content_hash: 22f8ab49b78b4254
---
The memory extraction system uses the Anthropic Claude API (via @anthropic-ai/sdk) to process transcripts and extract memories. Key implementation details:

- Uses `client.messages.create()` with the `claude-3-5-haiku-20241022` model
- Sends structured prompts via `src/prompts/memory-extraction.ts`
- Expects JSON responses from Claude for consistent parsing
- Includes error handling for API failures and malformed responses
- Memory extraction is async and uses try-catch patterns

This enables reliable, AI-driven extraction of structured memory objects from session transcripts.
