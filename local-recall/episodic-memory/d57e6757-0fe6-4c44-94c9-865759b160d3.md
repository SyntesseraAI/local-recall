---
id: d57e6757-0fe6-4c44-94c9-865759b160d3
subject: >-
  Session start hook should use UserPromptSubmit for memory injection instead of
  SessionStart
keywords:
  - hooks
  - session-start
  - user-prompt-submit
  - memory-injection
  - performance
applies_to: global
occurred_at: '2025-12-01T16:25:38.491Z'
content_hash: f369644c0d7ee5e3
---
The current SessionStart hook loads and outputs all memories to the prompt context, which is inefficient and provides too much context. The UserPromptSubmit hook (triggered when user submits a prompt) is more efficient because it can search for relevant memories based on the user's actual query/prompt. This reduces context pollution and improves response quality by only injecting relevant memories when needed.
