---
id: d5ee80cb-a475-4daf-9148-2af82182319b
subject: >-
  transcript-collector.ts implementation - async transcript processing for
  memory extraction
keywords:
  - transcript-collector
  - async
  - transcript-processing
  - memory-extraction
  - jsonl
  - mcp-server
applies_to: 'file:src/core/transcript-collector.ts'
occurred_at: '2025-12-01T16:04:30.346Z'
content_hash: 9a2bba7c292dac86
---
# Transcript Collector Implementation

## Purpose

The `transcript-collector.ts` module handles asynchronous processing of Claude Code transcripts to extract memories. This is part of the MCP server's background daemon functionality.

## Key Responsibilities

1. **Locate Transcripts**: Find transcript files in `~/.claude/projects/[project-hash]/transcripts/`
2. **Parse JSONL Format**: Read and parse JSONL files containing transcript events
3. **Extract Memories**: Process transcript content to identify and create memories
4. **Change Detection**: Track processed transcripts using content hashes to avoid reprocessing
5. **Async Processing**: Run every 5 minutes via MCP server daemon

## Integration Points

- **MCP Server**: The transcript-collector is called by the background daemon in the MCP server
- **Memory Manager**: Uses `createMemory()` to persist extracted memories
- **Logger**: Uses project logger for debugging and tracking

## Development Status

As of the refactoring branch `claude/refactor-memory-collection-01HQY8jXfJm7zh35BcYYiE1u`, the implementation is being refined with improved logging and string quote standardization.
