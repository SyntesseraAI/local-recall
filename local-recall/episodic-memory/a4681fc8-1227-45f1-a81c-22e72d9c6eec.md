---
id: a4681fc8-1227-45f1-a81c-22e72d9c6eec
subject: >-
  Session-start hook is safe because it only uses file-based MemoryManager, no
  embeddings
keywords:
  - session-start
  - hook
  - memory
  - safe
  - no-embeddings
  - file-based
applies_to: 'file:src/hooks/session-start.ts'
occurred_at: '2025-12-21T18:27:27.411Z'
content_hash: 9a31aee7e3e12715
---
The session-start hook only uses `MemoryManager` (file-based operations, no embeddings) to read the 5 most recent memories. This makes it safe from concurrent execution issues because it doesn't load the embedding model. Only `user-prompt-submit.ts` directly loads embeddings via `SearchEngine` and `ThinkingSearchEngine`.
