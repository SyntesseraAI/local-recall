---
id: c979733e-3f5a-4b07-b5b4-6186a7c18965
subject: Memory extraction parallelism configured with semaphore pattern
keywords:
  - memory-extractor
  - parallelism
  - concurrency
  - semaphore
  - transcript-processing
applies_to: 'file:src/core/memory-extractor.ts'
occurred_at: '2025-12-21T19:01:31.770Z'
content_hash: 60dd4b5a70feea84
---
# Parallel Transcript Processing Implementation

## Configuration
The `MemoryExtractor.processAllTranscripts()` method was updated to support concurrent processing of transcripts using a semaphore pattern. The `ExtractorOptions` interface now includes a `concurrency` option (default: 10).

## Implementation Details
- Uses a semaphore pattern with `acquire()` and `release()` to control concurrency
- All transcript processing promises are spawned immediately with `Promise.all()`
- The semaphore's `acquire()` call blocks each promise until a processing slot becomes available
- As each transcript completes (via `processTranscript()`), it calls `release()` to free a slot
- This approach is more efficient than batching because it keeps all available slots filled continuously
- Supports up to 10 concurrent extractors by default

## Rationale
Sequential processing (original implementation) was bottlenecked with a simple for loop. The semaphore pattern provides better resource utilization while maintaining controlled parallelism - all slots stay filled until all transcripts are processed, improving throughput.
