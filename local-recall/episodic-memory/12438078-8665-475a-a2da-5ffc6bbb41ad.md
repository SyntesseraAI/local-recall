---
id: 12438078-8665-475a-a2da-5ffc6bbb41ad
subject: >-
  Transcript collector needs to handle missing or empty transcript directories
  gracefully
keywords:
  - transcript-collector
  - error-handling
  - edge-cases
  - robustness
  - graceful-degradation
applies_to: 'area:transcript-collector'
occurred_at: '2025-12-01T16:09:02.422Z'
content_hash: 487a704617677c56
---
# Graceful Handling of Missing Transcript Directories

When the transcript collector attempts to read transcripts from Claude's cache, it must handle several edge cases:

1. **Directory does not exist**: The `~/.claude/projects/<project>/transcripts/` directory may not exist if:
   - This is the first Claude Code session for the project
   - The user has not used Claude Code recently
   - The Claude cache has been cleared

2. **Directory is empty**: The directory may exist but contain no transcript files.

3. **Permission issues**: The directory may exist but be unreadable.

## Implementation Requirement

The transcript collector should:
- Check for directory existence before attempting to read
- Return an empty array or handle gracefully when no transcripts are found
- Log warnings/errors appropriately for debugging
- Not throw exceptions that crash the MCP server

This is critical for the MCP server's background daemon which runs every 5 minutes and needs to be resilient across sessions.
