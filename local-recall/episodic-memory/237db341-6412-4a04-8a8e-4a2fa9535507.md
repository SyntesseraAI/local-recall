---
id: 237db341-6412-4a04-8a8e-4a2fa9535507
subject: Project uses stop hook for transcript processing with async background daemon
keywords:
  - stop-hook
  - transcript-processing
  - daemon
  - async
  - memory-creation
  - mcp-server
applies_to: 'area:memory-lifecycle'
occurred_at: '2025-12-01T22:48:41.394Z'
content_hash: 9f135922a96ac64c
---
The Stop hook is currently disabled in the current refactor. Memory extraction is handled by the MCP server daemon which:

- Runs a background process every 5 minutes
- Syncs transcripts from `~/.claude/projects/<project>/transcripts/`
- Processes transcripts using Claude Haiku to extract memories
- Tracks processed transcripts with content hashes for change detection
- Deletes and recreates memories when transcripts change

This async approach prevents blocking Claude Code while ensuring memories are extracted from all completed sessions.
