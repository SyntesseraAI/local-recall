---
id: e6201fee-4ae0-4205-814c-42232527de12
subject: >-
  The user is pointing out that vector searches are being performed on internal
  system prompts like...
applies_to: global
occurred_at: '2025-12-01T21:30:11.584Z'
content_hash: b7ac83cee7a1436e
---
## Thought

The user is pointing out that vector searches are being performed on internal system prompts like `[LOCAL_RECALL_INTERNAL]`. This is happening because the UserPromptSubmit hook is receiving and processing the internal prompt that's being sent to Claude for memory extraction.

Let me look at the UserPromptSubmit hook to see if there's a recursion check or if we need to add one for these internal prompts.

## Output

You're right - the UserPromptSubmit hook is processing internal prompts and doing unnecessary vector searches. Let me check the current hook implementation:
