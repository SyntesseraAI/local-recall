---
id: 5ee78e72-2cb5-43a2-a582-cdb06c59f8d9
subject: >-
  I see - the MCP server doesn't have an HTTP server at all. The CLAUDE.md
  documentation mentions an...
applies_to: global
occurred_at: '2025-12-03T11:53:03.910Z'
content_hash: 6371694b23881c4b
---
## Thought

I see - the MCP server doesn't have an HTTP server at all. The CLAUDE.md documentation mentions an http-server.ts file and HTTP endpoints, but they don't exist in the codebase. This is why the hooks can't communicate with the daemon - the HTTP server component was never implemented.

Looking at CLAUDE.md:
- It says there should be `http-server.ts` for HTTP API for hooks communication
- HTTP endpoints like `POST /search/episodic`, `POST /search/thinking`, `GET /health`
- The hooks (session-start.ts, user-prompt-submit.ts) should communicate with the daemon via HTTP

But the current implementation only has:
1. The MCP server using stdio transport
2. Background daemon processing transcripts

There's no HTTP server to allow hooks to communicate with the daemon.

Let me verify this by checking the hooks to see how they're supposed to communicate with the daemon.

## Output

The MCP server uses stdio transport for MCP protocol but doesn't have an HTTP server. The http-server.ts mentioned in CLAUDE.md doesn't exist. Let me check the hooks to see how they're supposed to communicate:
