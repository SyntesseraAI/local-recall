---
id: b42f80fc-16a5-43b0-8133-c38fa727b35a
subject: >-
  I can see the issue. The hook doesn't have any check to skip processing
  internal prompts like...
applies_to: global
occurred_at: '2025-12-01T21:30:17.644Z'
content_hash: d3d94192023596e5
---
I can see the issue. The hook doesn't have any check to skip processing internal prompts like `[LOCAL_RECALL_INTERNAL]`. We need to add a check early in the function to skip processing these internal prompts.

Looking at the code, we should add a check after validating the prompt exists (around line 48-52) to skip if the prompt starts with `[LOCAL_RECALL_INTERNAL]`.
