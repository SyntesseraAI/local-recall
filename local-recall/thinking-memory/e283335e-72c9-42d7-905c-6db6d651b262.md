---
id: e283335e-72c9-42d7-905c-6db6d651b262
subject: Done! Let me summarize what was changed for the user.
applies_to: global
occurred_at: '2025-12-03T09:43:51.036Z'
content_hash: eb4dae6adcaaeb12
---
## Thought

Done! Let me summarize what was changed for the user.

## Output

Done. Here's a summary of the changes:

**Config changes (`src/core/types.ts`):**
- `episodicEnabled` now defaults to `true`
- Added `episodicMaxTokens` (default: 1000)
- Added `episodicMinSimilarity` (default: 0.8)

**New environment variables (`src/utils/config.ts`):**
- `LOCAL_RECALL_EPISODIC_MAX_TOKENS`
- `LOCAL_RECALL_EPISODIC_MIN_SIMILARITY`

**Hook consolidation:**
- Merged `user-prompt-submit.ts` and `user-prompt-submit-thinking.ts` into a single unified hook
- Deleted `src/hooks/user-prompt-submit-thinking.ts`
- The unified hook checks `episodicEnabled` and `thinkingEnabled` flags and runs the appropriate searches with their respective token/similarity limits

**Updated files:**
- `src/core/types.ts` - config schema
- `src/utils/config.ts` - env var reading
- `src/hooks/user-prompt-submit.ts` - unified hook
- `package.json` - removed old hook references
- `CLAUDE.md` - updated documentation
