---
id: a2ed06a8-8e4c-45a5-85e9-12486ac15f4a
subject: >-
  The user is asking about whether there can be multiple thinking blocks before
  a message in the...
applies_to: global
occurred_at: '2025-12-03T17:24:34.668Z'
content_hash: c3be26356ace852a
---
## Thought

The user is asking about whether there can be multiple thinking blocks before a message in the transcript format. They want to verify if this is the case in the codebase.

Looking at the memories injected into my context, I can see several relevant ones:
1. "Thinking and output are in the same transcript message entry" - mentions that each AssistantMessageEntry contains both ThinkingContent blocks and TextContent blocks in the same message object
2. "Claude Code streams thinking and text as separate JSONL lines with same message.id" - mentions thinking blocks are streamed as separate JSONL lines but share the same message.id

Let me look at the thinking extractor code to understand how it handles multiple thinking blocks.

## Output

Let me check the thinking extractor code to see how it handles thinking blocks:
