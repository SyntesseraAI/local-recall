---
id: 4a965826-fa57-4b5f-a210-a51e2f3a682f
subject: 'Great, the fix has been pushed. Let me provide a summary of what was fixed.'
applies_to: global
occurred_at: '2025-12-20T22:30:43.104Z'
content_hash: 449d975c718fde58
---
## Thought

Great, the fix has been pushed. Let me provide a summary of what was fixed.

## Output

Fixed and pushed as `v0.1.5`. The bug was in `src/core/transcript-condenser.ts:205` - the `ToolResultContent.content` field can be an array of content blocks (not just a string), which caused `.toLowerCase()` to fail.

`★ Insight ─────────────────────────────────────`
**Type vs Runtime Reality:** The TypeScript type said `content: string` but Claude's actual transcript format can have `content` as either a string OR an array of content blocks (for multi-part results like images + text). This is a common issue when working with external APIs - the type definitions may not capture all runtime variants. Defensive runtime checks (`typeof x === "string"`) are essential when processing external data.
`─────────────────────────────────────────────────`
