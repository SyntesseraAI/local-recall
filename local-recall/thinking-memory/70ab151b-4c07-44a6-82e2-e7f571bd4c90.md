---
id: 70ab151b-4c07-44a6-82e2-e7f571bd4c90
subject: >-
  The user is asking about making the MCP server run as a stdio process for
  isolation. Let me...
applies_to: global
occurred_at: '2025-12-15T14:33:06.169Z'
content_hash: 47084f91035ae914
---
## Thought

The user is asking about making the MCP server run as a stdio process for isolation. Let me understand what they mean:

1. The MCP server already uses stdio transport for communication with Claude Code (as per the MCP protocol)
2. Each Claude Code instance spawns its own MCP server process

Looking at the memories, I see:
- "Each Claude Code instance spawns its own MCP server process via stdio transport"
- The MCP server runs background tasks (daemon) for transcript processing

I think the user might be asking about one of these scenarios:
1. Running the MCP server in a more isolated way (separate from hooks?)
2. Having a single shared MCP server process that multiple instances connect to
3. Something else about process isolation

Let me check the current MCP server implementation to understand the current architecture better, and then clarify with the user what kind of isolation they're looking for.

Actually, looking at the CLAUDE.md documentation I updated, the MCP server already runs via stdio transport. The "daemon" is just a background loop within each MCP server process that does transcript processing.

Let me ask the user to clarify what kind of isolation they're looking for, since the MCP server already uses stdio transport.

## Output

The MCP server already runs as a stdio process - each Claude Code instance spawns its own `node ./dist/mcp-server/server.js` process that communicates via stdin/stdout.

Could you clarify what kind of isolation you're looking for?

1. **Separate the daemon from the MCP server** - Run transcript processing in a different process than the MCP tools?

2. **Single shared MCP server** - Have one long-running server that multiple Claude instances connect to (would require switching from stdio to TCP/HTTP transport)?

3. **Isolate hooks from MCP server** - Currently hooks run as separate processes but share the same Orama indexes with the MCP server daemon?

4. **Something else** - Different isolation concern?
