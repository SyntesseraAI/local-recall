---
id: 42371a2c-1e88-438f-8332-7b3301b6b170
subject: >-
  Now I understand both structures clearly: **Current local-recall structure:**
  - Has...
applies_to: global
occurred_at: '2025-12-16T22:11:10.566Z'
content_hash: eecbb3eb41a2d65c
---
## Thought

Now I understand both structures clearly:

**Current local-recall structure:**
- Has `dev-marketplace/` with nested `local-recall-plugin/` subfolder
- Plugin config is in `dev-marketplace/local-recall-plugin/.claude-plugin/`
- Has `scripts/` for bundled hooks and MCP server
- Has `config/hooks.json` and `.mcp.json` for configuration
- Has `skills/` for skill definitions

**Standard code-farm structure:**
- Plugin config at root in `.claude-plugin/` (plugin.json + marketplace.json)
- Plugin content in `code-farm-plugin/` at root level
- Uses `commands/` for slash commands
- Uses `templates/` for reusable templates
- Uses `agents/` for agent definitions
- No `scripts/` folder - doesn't bundle compiled JS
- No `config/` folder - uses different approach

The key differences are:
1. `.claude-plugin/` folder should be at the **root** level
2. Plugin content folder should be at the **root** level (not nested in dev-marketplace)
3. Structure should use `commands/`, `templates/`, `agents/` instead of `scripts/`, `config/`
4. Skills need to be in a `skills/` folder in the plugin

Looking at the code-farm structure, it seems like it's more of a "pure plugin" repo that doesn't have a separate "source code" component. But local-recall is both a library AND a plugin. This is a significant architectural difference.

Let me think about this more carefully. The user wants the marketplace at the root. This suggests they want:
1. `.claude-plugin/` at root with plugin.json and marketplace.json
2. A `local-recall-plugin/` folder at root with the plugin content
3. The source code (src/) stays where it is as the library/package

This is a major restructuring. I should use the brainstorming skill to discuss the approach before making changes, or use the planning mode since this is a significant change.


I'll carefully analyze the user's specific request for a root-level marketplace structure. The directive is clear: restructure to match code-farm's approach while preserving the library's core functionality. I'll focus on three key implementation steps:

1. Move `.claude-plugin/` to root
2. Create a root-level `local-recall-plugin/` folder
3. Reorganize existing scripts and configurations into standard plugin folders

The architectural shift requires careful mapping of existing components to the new structure, ensuring no functionality is lost during the transition.

## Output

I can see the key differences. The current local-recall structure has a nested `dev-marketplace/local-recall-plugin/` structure, while code-farm has the marketplace config at the root with a cleaner plugin folder structure.

This is a significant restructuring task. Let me enter plan mode to design the approach and get your approval before making changes.
