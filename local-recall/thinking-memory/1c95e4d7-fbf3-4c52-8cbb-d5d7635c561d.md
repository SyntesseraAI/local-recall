---
id: 1c95e4d7-fbf3-4c52-8cbb-d5d7635c561d
subject: >-
  Perfect! Looking at the code in user-prompt-submit.ts, I can see that: 1.
  Lines 126-134 show the...
applies_to: global
occurred_at: '2025-11-29T23:57:35.011Z'
content_hash: 50679eb1fc08195e
---
## Thought

Perfect! Looking at the code in user-prompt-submit.ts, I can see that:

1. Lines 126-134 show the hook IS outputting JSON in the correct format:
```typescript
const output = {
  hookSpecificOutput: {
    hookEventName: 'UserPromptSubmit',
    additionalContext,
  },
};

console.log(JSON.stringify(output));
```

2. The logs show:
   - SessionStart hooks are firing and working successfully
   - However, I notice there are NO UserPromptSubmit hook entries in the logs
   - This means the UserPromptSubmit hook is either not configured or not firing

Let me confirm whether the UserPromptSubmit hook is actually configured and running.

## Output

**Yes**, the UserPromptSubmit hook IS returning JSON! Looking at [src/hooks/user-prompt-submit.ts:126-134](src/hooks/user-prompt-submit.ts#L126-L134), it outputs structured JSON:

```typescript
const output = {
  hookSpecificOutput: {
    hookEventName: 'UserPromptSubmit',
    additionalContext,
  },
};

console.log(JSON.stringify(output));
```

**However**, I notice a problem in the logs - there are **NO UserPromptSubmit hook entries**! The logs only show SessionStart hooks firing. This means the UserPromptSubmit hook might not be configured to run.

Let me check if the hook is properly set up:
