---
id: 53db1c76-71c9-40db-9e1f-1a097b6dbae7
subject: >-
  This is a bundled file created by esbuild or similar. It's trying to bundle
  the dependencies but...
applies_to: global
occurred_at: '2025-12-03T11:03:01.753Z'
content_hash: 032448b02f1ad4bf
---
## Thought

This is a bundled file created by esbuild or similar. It's trying to bundle the dependencies but `better-sqlite3` is a native module that can't be bundled. The error is because the bundled file is trying to require `better-sqlite3` at runtime, but the plugin directory doesn't have a `node_modules` folder with it installed.

The plugin hook is trying to use SQLite directly, but native modules like `better-sqlite3` can't be bundled. The main project's hooks have been refactored to use the daemon HTTP API instead, so they don't need `better-sqlite3` directly.

Let me check the main project's current hook implementation to see how it handles this:

## Output

The bundled hook file is trying to import `better-sqlite3` (a native module that can't be bundled). Let me check how the main project's hooks handle this:
