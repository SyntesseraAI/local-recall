---
id: aea6411d-b294-4803-ba45-e979b971cc54
subject: >-
  Now let me fix the issues. The main issues are: 1. **E2BIG error**: Need to
  pass prompt via stdin...
applies_to: global
occurred_at: '2025-11-30T20:44:41.508Z'
content_hash: bfbca713b91ebe2d
---
## Thought

Now let me fix the issues. The main issues are:

1. **E2BIG error**: Need to pass prompt via stdin to `claude` CLI instead of as command-line argument
2. **Parsing the Claude CLI JSON output**: The `--output-format json` returns an array of messages, need to extract the assistant's text content
3. **Strip markdown code blocks**: Claude wraps JSON in ```json ... ```

Let me update the memory-extractor.ts file.

## Output

Let me fix the `callClaudeCLI` method to pass the prompt via stdin and properly parse the JSON output format:
