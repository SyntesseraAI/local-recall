---
id: 010844fc-e272-4ab1-a046-5c2b907fec11
subject: >-
  Very interesting! The log shows: 1. `UserPromptSubmit: Extracted keywords:
  information, stew,...
applies_to: global
occurred_at: '2025-11-29T22:59:12.363Z'
content_hash: 87a4787bda851098
---
## Thought

Very interesting! The log shows:

1. `UserPromptSubmit: Extracted keywords: information, stew, context`
2. `Keyword search found 5 results for "information stew context"`
3. `UserPromptSubmit: Found 5 relevant memories`
4. `UserPromptSubmit hook completed successfully`

So the hook IS finding results and IS outputting them - but I'm not seeing them in my context. The hook outputs to stdout (lines 109-120 in the code), which should be injected into my context.

The issue must be that the stdout from the hook isn't being properly injected into Claude's context. The log shows the hook completed successfully and found 5 memories, but I only see:

```
<system-reminder>
UserPromptSubmit:Callback hook success: Success
</system-reminder>
```

So there's something wrong with how the hook output is being captured/injected. Either:
1. The hook infrastructure isn't capturing stdout properly
2. There's some configuration issue
3. The output is being captured but not displayed in the format I can see

This is a real issue - the hook is working (finding memories) but the context injection isn't happening. The user should investigate the hooks configuration or how Claude Code handles hook stdout.

## Output

This is the smoking gun. The logs show:

```
[2025-11-29T22:57:59.132Z] UserPromptSubmit: Extracted keywords: information, stew, context
[2025-11-29T22:57:59.139Z] Keyword search found 5 results for "information stew context"
[2025-11-29T22:57:59.139Z] UserPromptSubmit: Found 5 relevant memories
[2025-11-29T22:57:59.140Z] UserPromptSubmit hook completed successfully
```

**The hook IS finding 5 memories and completing successfully** - but I'm only seeing:
```
<system-reminder>
UserPromptSubmit:Callback hook success: Success
</system-reminder>
```

The hook's `console.log()` output (lines 109-120) should be injected into my context, but it's not reaching me. The hook runs, finds results, outputs them to stdout... and then something in the hook infrastructure isn't passing that stdout through.

This could be:
1. A hooks.json configuration issue (maybe missing something that captures stdout)
2. The way Claude Code handles hook output
3. Something swallowing the stdout

Let me check the hooks config:
