---
id: 950930b9-9163-4f2a-ae1f-fe9a04f6dcc9
subject: Now let me provide a summary to the user.
applies_to: global
occurred_at: '2025-12-21T17:40:57.788Z'
content_hash: 1e73446fe7b4bf5d
---
## Thought

Now let me provide a summary to the user.

## Output

## Summary

`★ Insight ─────────────────────────────────────`
**Claude Code plugin hooks require JSON output format:**
- Plain `console.log("text")` output gets swallowed by the plugin layer
- Only `hookSpecificOutput.additionalContext` format injects context into Claude
- The `:Callback` suffix in hook names indicates plugin-layer execution
`─────────────────────────────────────────────────`

### Root Cause Found

The **session-start.ts** hook was using plain `console.log()` while **user-prompt-submit.ts** correctly used JSON format. Plugin hooks require:

```javascript
console.log(JSON.stringify({
  hookSpecificOutput: {
    hookEventName: 'SessionStart',
    additionalContext: '...'
  }
}));
```

### Fix Applied

Updated `src/hooks/session-start.ts` to use the JSON format with `hookSpecificOutput`. Both hooks now output valid JSON that Claude Code can properly inject into context.

### For Users to Get the Fix

You need to:
1. **Bump the version** in `package.json` (currently 0.1.6)
2. **Push the changes** to the marketplace
3. **Users update the plugin** (plugin cache will refresh)

The changes are ready to commit. Want me to bump the version and help create a commit/PR?
