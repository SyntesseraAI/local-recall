---
id: fcd285e1-fe67-402f-b000-110a7608fe40
subject: >-
  I see different sessions - some are skipping internal prompts (from the test
  suite using claude...
applies_to: global
occurred_at: '2025-12-03T11:59:12.157Z'
content_hash: 9c50f89f33f2ec5b
---
## Thought

I see different sessions - some are skipping internal prompts (from the test suite using claude -p), but session 8cadbd54 is actually searching. The log shows "Vector search: 'Say hello world'" which is from the test suite.

My actual session is different. The internal prompt detection is happening because the test suite uses `claude -p` which triggers the hooks with internal prompts.

The current session (e28baaea...) appears to have been skipped. Let me check what exactly is being checked for internal prompts and if there's something in the actual input being passed to the hook.

## Output

The logs show different sessions. Some are from tests (`Say hello world`), some are skipping internal prompts. Let me check what's in the actual input being received to understand why prompts are being skipped:
