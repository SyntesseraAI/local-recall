---
id: 7b2c8361-2731-4e70-b7cb-1e9c74d13017
subject: >-
  Now I understand the issue: 1. The hook has a 30 second timeout in hooks.json
  2. The spawn to...
applies_to: global
occurred_at: '2025-11-30T15:09:09.452Z'
content_hash: 1c4f468ea00ab71e
---
## Thought

Now I understand the issue:

1. The hook has a 30 second timeout in hooks.json
2. The spawn to Claude CLI has a 30 second internal timeout too
3. When Claude Code's hook runner aborts the process at 30 seconds, it sends an AbortSignal
4. This AbortError isn't being handled

The fix is to:
1. Catch the AbortError on spawn
2. Use a try-catch wrapper
3. Handle the error gracefully

Let me fix the user-prompt-submit.ts file. I need to wrap the spawn in proper error handling for the AbortError case.

## Output

Found it. The hook has a 30 second timeout configured, and the internal Claude CLI call also has a 30 second timeout. When Claude Code aborts the hook at timeout, it triggers an `AbortError` that isn't caught.

The fix is to properly handle the abort error. I'll update the `callClaudeForKeywords` function to catch this:
