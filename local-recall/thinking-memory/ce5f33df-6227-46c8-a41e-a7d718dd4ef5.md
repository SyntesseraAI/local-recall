---
id: ce5f33df-6227-46c8-a41e-a7d718dd4ef5
subject: >-
  Now I can show the user an example. Let me also look at the hook output to see
  the full structure.
applies_to: global
occurred_at: '2025-12-03T08:59:34.244Z'
content_hash: 8296e83ed180f531
---
## Thought

Now I can show the user an example. Let me also look at the hook output to see the full structure.

## Output

Here's an example of how thinking memories appear in the LLM's context. Looking at the hook output (`user-prompt-submit-thinking.ts:110-123`) and the formatting function:

**What gets injected into context:**

```markdown
# Local Recall: Previous Thoughts

Found 2 relevant thinking excerpts from previous sessions.

## The user wants to add authentication to the API

**ID:** a1b2c3d4-e5f6-7890-abcd-ef1234567890
**Scope:** global
**Occurred:** 2025-12-03T10:30:00.000Z

---

## Thought

The user wants to add authentication. Let me think about the options:
1. JWT tokens - stateless, good for APIs
2. Session cookies - simpler but requires state
3. OAuth - for third-party auth

Given this is a REST API, JWT makes the most sense. I'll need to:
- Add a login endpoint
- Create middleware to verify tokens
- Update protected routes

## Output

I'll implement JWT authentication for your API. Let me start by installing the required packages and creating the auth middleware.

*Similarity: 85%*

---

## Looking at the codebase, I need to understand the existing middleware pattern

**ID:** b2c3d4e5-f6a7-8901-bcde-f23456789012
**Scope:** global
**Occurred:** 2025-12-02T14:20:00.000Z

---

## Thought

Looking at the middleware in src/middleware/, they use the Express pattern with (req, res, next). I should follow the same pattern for the auth middleware.

## Output

I see the existing middleware pattern. I'll create the auth middleware in the same style.

*Similarity: 82%*

---
```

This shows both the reasoning ("Thought") and what was produced ("Output"), giving future sessions concrete examples to learn from.
