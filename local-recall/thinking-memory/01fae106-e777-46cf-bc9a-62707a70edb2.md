---
id: 01fae106-e777-46cf-bc9a-62707a70edb2
subject: >-
  The user says it's working now - they just needed to update the plugin. That
  makes sense. The...
applies_to: global
occurred_at: '2025-12-03T11:11:19.594Z'
content_hash: 096c5d9555a56dcc
---
## Thought

The user says it's working now - they just needed to update the plugin. That makes sense. The codebase shows:

1. Both `vector-store.ts` and `thinking-vector-store.ts` now use Orama (pure JavaScript)
2. `package.json` no longer has `better-sqlite3` or `sqlite-vec` dependencies
3. The embedding service uses `fastembed` which doesn't have mutex issues

The issue was likely that the user had an old version of the plugin that still used sqlite-vec. After updating the plugin (which would have the new Orama-based code), the mutex errors went away.

The CLAUDE.md still has outdated documentation about sqlite-vec, which I could mention but shouldn't proactively fix unless asked.

## Output

Good, that makes sense. The codebase is now fully migrated to Orama - no more `better-sqlite3` or `sqlite-vec` in `package.json`. The old plugin was likely still using the SQLite-based vector stores.

The CLAUDE.md documentation still has outdated references to sqlite-vec (mentioning "mutex lock" issues, the hook-daemon architecture diagram, etc.) - might be worth updating that to reflect the new Orama architecture when you get a chance.
