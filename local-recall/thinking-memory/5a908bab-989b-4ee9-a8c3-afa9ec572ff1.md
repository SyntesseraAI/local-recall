---
id: 5a908bab-989b-4ee9-a8c3-afa9ec572ff1
subject: >-
  Build successful. The fix is complete. Now the UserPromptSubmit hook will skip
  any prompts that...
applies_to: global
occurred_at: '2025-11-30T14:51:24.321Z'
content_hash: 0876cb530777b137
---
## Thought

Build successful. The fix is complete. Now the UserPromptSubmit hook will skip any prompts that contain "Extract keywords from this text", which prevents the recursive loop.

## Output

Done. The hook will now skip any prompts containing "Extract keywords from this text" to prevent the recursive loop. The changes:

1. **`src/core/transcript-collector.ts`**: Fixed Claude project discovery to use path-to-dashes naming convention and look for transcripts directly in the project folder (not a `transcripts` subfolder)

2. **`src/hooks/user-prompt-submit.ts`**: Added recursion guard to skip extraction-related prompts

The recursive loop you saw in the logs (the repeated "Extract keywords..." prompts) should now be prevented.
