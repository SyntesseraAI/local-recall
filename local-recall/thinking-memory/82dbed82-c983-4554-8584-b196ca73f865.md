---
id: 82dbed82-c983-4554-8584-b196ca73f865
subject: >-
  That's it! Using `stdio: ['ignore', 'pipe', 'pipe']` instead of `stdio:
  ['pipe', 'pipe', 'pipe']`...
applies_to: global
occurred_at: '2025-11-30T15:16:07.534Z'
content_hash: fb528998b5f0612b
---
## Thought

That's it! Using `stdio: ['ignore', 'pipe', 'pipe']` instead of `stdio: ['pipe', 'pipe', 'pipe']` makes the spawn work correctly. The Claude CLI was waiting for stdin to be closed before it would proceed.

Now I need to update the user-prompt-submit.ts to use `'ignore'` for stdin instead of `'pipe'`.

## Output

Found the issue! When stdin is piped but never written to or closed, the Claude CLI hangs waiting for input. Using `'ignore'` for stdin fixes it - it completed in ~3 seconds.

Let me update the hook to use `stdio: ['ignore', 'pipe', 'pipe']`:
