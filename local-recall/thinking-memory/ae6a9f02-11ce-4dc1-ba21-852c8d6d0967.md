---
id: ae6a9f02-11ce-4dc1-ba21-852c8d6d0967
subject: >-
  Now I should also wrap the embedding operations themselves, in case the mutex
  issue occurs during...
applies_to: global
occurred_at: '2025-12-03T11:16:22.392Z'
content_hash: ed82e46205b19ef5
---
## Thought

Now I should also wrap the embedding operations themselves, in case the mutex issue occurs during inference too. Let me update the embedQuery, embed, and embedBatch methods to use the lock.

## Output

Now let me also lock the actual embedding operations (in case mutex issues occur during inference):
