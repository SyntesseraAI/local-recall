---
id: af5f0350-1b12-49e4-aae5-9565ee0cd4bf
subject: >-
  Now I understand the flow: 1. `user-prompt-submit.ts` creates `SearchEngine`
  (line 177) and...
applies_to: global
occurred_at: '2025-12-03T10:16:30.836Z'
content_hash: 24b465232e79efc2
---
## Thought

Now I understand the flow:

1. `user-prompt-submit.ts` creates `SearchEngine` (line 177) and `ThinkingSearchEngine` (line 208)
2. `SearchEngine` creates `VectorStore` via `getVectorStore()` (search.ts:55)
3. `VectorStore.openConnection()` calls `openDatabase()` from `database.ts` (vector-store.ts:82)

Let me check the database.ts to see how sqlite-vec is loaded:

## Output

Let me also check the database utility to see how sqlite-vec is loaded:
