---
id: 31fb61d6-29ab-4d69-9afd-0f1a27b2a7a1
subject: All done. Let me summarize what was changed for the user.
applies_to: global
occurred_at: '2025-11-29T21:36:06.467Z'
content_hash: c7ab8f66238cd637
---
## Thought

All done. Let me summarize what was changed for the user.

## Output

Done. I've made both changes:

**Code (`src/utils/transcript.ts`)**:
- User messages are now skipped (only assistant messages saved)
- Single-line assistant messages are filtered out (must have 2+ non-empty lines)
- Removed the role prefix from stored content
- Removed unused `formatMessageWithRole` function

**Documentation updated**:
- `docs/architecture.md` - Updated filtering rules and stop flow
- `docs/hooks.md` - Updated flow and filtering rules section
- `docs/memory-format.md` - Updated content section and examples (removed role prefixes)
