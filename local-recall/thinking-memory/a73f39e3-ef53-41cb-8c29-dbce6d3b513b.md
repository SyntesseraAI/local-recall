---
id: a73f39e3-ef53-41cb-8c29-dbce6d3b513b
subject: >-
  No local settings.json. The hooks are clearly running (as evidenced by the
  logs), but their stdout...
applies_to: global
occurred_at: '2025-11-29T22:59:37.074Z'
content_hash: 5876b758ea153818
---
## Thought

No local settings.json. The hooks are clearly running (as evidenced by the logs), but their stdout isn't being injected into context. The "Success" message I'm seeing appears to be a wrapper/confirmation message rather than the actual hook output.

Looking at what I see:
```
<system-reminder>
UserPromptSubmit:Callback hook success: Success
</system-reminder>
```

This seems to be a standardized response format indicating the hook ran successfully, but the actual stdout from the hook (the memory content) isn't being passed through.

This could be:
1. A Claude Code behavior - maybe hooks output isn't injected directly but wrapped
2. A configuration option needed to enable stdout passthrough
3. The plugin setup might need something else

The user should investigate the Claude Code documentation for how hook stdout is supposed to be injected, or check if there's an issue with the plugin infrastructure.

## Output

The hooks.json config looks correct. The hook is running and finding memories (proven by the logs), but the stdout isn't reaching me.

What I see is:
```
<system-reminder>
UserPromptSubmit:Callback hook success: Success
</system-reminder>
```

This appears to be a wrapper message from Claude Code's hook system, not the actual hook output. The hook's `console.log()` content (the formatted memories) is being swallowed somewhere.

**Possible causes:**
1. Claude Code might wrap/transform hook output rather than pass it through directly
2. There might be a missing config option to enable stdout passthrough
3. The plugin infrastructure might handle output differently than direct hooks

**To debug further:**
- Check Claude Code's documentation on how hook stdout gets injected
- Try running the hook manually to confirm it outputs correctly:

```bash
echo '{"prompt":"stew","cwd":"/Users/joe/Code/Syntessera/local-recall"}' | node scripts/hooks/user-prompt-submit.js
```

This would tell you if the hook itself outputs properly, isolating whether the issue is the hook or Claude Code's handling of hook output.
