---
id: 35eaf39a-8c19-404e-9940-d553380ea6e4
subject: >-
  The user is asking about a potential issue with multiple Claude Code instances
  running...
applies_to: global
occurred_at: '2025-12-12T10:08:38.422Z'
content_hash: d6a22c98c74de618
---
## Thought

The user is asking about a potential issue with multiple Claude Code instances running simultaneously. They're noticing that the MCP server might not be running for all instances.

Let me think about how this works:

1. Each Claude Code instance can have its own MCP server configured
2. The MCP server is started by Claude Code when it launches, based on the configuration in `.claude/settings.json`
3. If multiple Claude Code instances are running in the same project directory, they would each try to start their own MCP server

The question is: what happens when multiple instances try to run? Are there any conflicts?

From the memories:
- "The user requires that multiple Claude Code instances can run concurrently. This rules out daemon approaches that would conflict on ports or file locks."
- "Ollama is the recommended approach - it's a standalone embedding server that users can install separately and scales naturally to multiple Claude instances"

So the architecture was designed to support multiple instances. But the user is observing that the MCP server doesn't seem to run for all instances.

Let me think about what could be happening:
1. MCP servers communicate via stdio (not HTTP ports), so there shouldn't be port conflicts
2. Each Claude Code instance should spawn its own MCP server process
3. The Orama indexes are JSON files - multiple processes reading/writing could cause issues

I should ask the user more about what they're observing to understand the problem better. Are they seeing errors? Is the recall.log showing anything? What makes them think the MCP server isn't running?

Actually, let me reconsider. The MCP server uses stdio transport - each Claude instance spawns its own MCP server process via the command in settings.json. So each instance SHOULD have its own MCP server running.

The potential issues could be:
1. File locking on the Orama index files
2. Concurrent writes to the same memory files
3. Something in Claude Code's MCP management that prevents multiple servers

I should help the user diagnose what's happening. The recall.log would be a good place to start looking.

## Output

Each Claude Code instance should spawn its own MCP server process (they use stdio transport, not shared ports). Let me help diagnose what you're seeing.

A few questions:
1. Are these instances in the **same project directory** or different projects?
2. What behavior are you observing that suggests the MCP server isn't running? (e.g., tools not available, no log entries, errors?)

You can check `local-recall/recall.log` - it should show entries from each MCP server instance. If multiple are running, you'd see interleaved log entries.

Also, you can verify MCP server status in each Claude Code instance by running `/mcp` - it should show whether `local-recall` is connected.

What are you seeing?
