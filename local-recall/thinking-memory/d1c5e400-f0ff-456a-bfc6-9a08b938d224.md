---
id: d1c5e400-f0ff-456a-bfc6-9a08b938d224
subject: >-
  Good point - the user wants the search behavior to be consistent between MCP
  tools and hooks....
applies_to: global
occurred_at: '2025-12-03T12:03:15.967Z'
content_hash: de30c4a26d022958
---
## Thought

Good point - the user wants the search behavior to be consistent between MCP tools and hooks. Currently:
1. The hooks use SearchEngine → VectorStore
2. The MCP tools use SearchEngine → VectorStoreBut then they do their own token limiting separately.

I should:
1. Add the recency weighting to the thinking vector store as well
2. Make sure the search engines pass through the recency weight
3. Consider creating a shared search result formatter or having the search engine handle token limitingLet me update the thinking vector store with the same recency weighting, and also update the search engines to pass through the options properly.Actually, looking at the code flow:- Both hooks and MCP use `SearchEngine.search()` which calls `VectorStore.search()`- The token limiting is done at a higher level (hooks and MCP tools)So the recency weighting is already shared since it's in VectorStore. But I need to add it to the ThinkingVectorStore as well.

Let me update the thinking vector store.

## Output

Good point - let me apply the same recency weighting to the thinking vector store so they stay in sync:
