---
id: d8112a47-aae4-4d0b-aea4-96ee119f2794
subject: >-
  I found the issues: 1. **Gitignore issue**: The source code in `gitignore.ts`
  already has the...
applies_to: global
occurred_at: '2025-12-01T18:22:54.762Z'
content_hash: 8bc9460c61036f66
---
## Thought

I found the issues:

1. **Gitignore issue**: The source code in `gitignore.ts` already has the correct SQLite patterns, but the `ensureGitignore` function only creates the file if it doesn't exist. The existing `local-recall/.gitignore` file was created before the SQLite patterns were added, so it needs to be manually updated.

2. **SessionStart hook timing out**: The hook is initializing the embedding model which downloads ~133MB on first use. This takes too long for a hook. The session-start hook should be lightweight and not block on heavy initialization.

Let me fix both:

1. Update the existing gitignore file directly
2. Make the session-start hook skip vector store initialization (defer to MCP server or user-prompt-submit)

## Output

Found the issues:

1. **Gitignore**: The source code has correct SQLite patterns but `ensureGitignore()` only creates the file if it doesn't exist - existing file wasn't updated.

2. **SessionStart timeout**: The hook initializes the embedding model (downloads ~133MB) and syncs all memories - too heavy for a hook with 30s timeout.

Let me fix both:
