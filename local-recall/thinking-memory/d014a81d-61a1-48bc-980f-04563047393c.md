---
id: d014a81d-61a1-48bc-980f-04563047393c
subject: >-
  Now I have a clear picture. The code-farm structure is: ``` code-farm/ ├──
  .claude-plugin/ # Plugin...
applies_to: global
occurred_at: '2025-12-16T22:12:27.489Z'
content_hash: 8934a42b44902461
---
## Thought

Now I have a clear picture. The code-farm structure is:

```
code-farm/
├── .claude-plugin/         # Plugin config at ROOT
│   ├── plugin.json
│   └── marketplace.json
├── code-farm-plugin/       # Plugin content at ROOT
│   ├── agents/
│   ├── commands/
│   └── templates/
├── local-recall/           # Memory storage
├── .claude/               # Local settings
├── CLAUDE.md
└── README.md
```

The current local-recall structure is:

```
local-recall/
├── dev-marketplace/                    # Nested structure
│   ├── .claude-plugin/
│   │   └── marketplace.json
│   └── local-recall-plugin/
│       ├── .claude-plugin/
│       │   └── plugin.json
│       ├── config/
│       │   └── hooks.json
│       ├── .mcp.json
│       ├── scripts/                    # Bundled JS
│       │   ├── hooks/
│       │   └── mcp-server/
│       └── skills/
├── src/                                # Source code
├── dist/                               # Build output
├── local-recall/                       # Memory storage
└── ...
```

The key restructuring needed is:
1. Move `.claude-plugin/` to root level
2. Move `local-recall-plugin/` to root level as plugin content folder
3. Update `marketplace.json` source path
4. Update `package.json` build script to output to new location
5. Remove the `dev-marketplace/` directory

A key difference is that code-farm doesn't have bundled JS scripts - it uses commands/templates which are just markdown files. But local-recall NEEDS bundled JS for hooks and MCP server. So we need to keep that structure but move it to root level.


I'll draft a systematic migration strategy to ensure smooth transition and minimal disruption. I'll break this down into precise, actionable steps that cover configuration, file movement, and build process adjustments.

## Output

Now I have a clear picture. Let me write the plan.
