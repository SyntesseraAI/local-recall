---
id: 82c6280f-066c-45b3-bd7c-9e2ed76a52d6
subject: >-
  Now let me fix the SessionStart hook. The problem is that it's initializing
  the vector store and...
applies_to: global
occurred_at: '2025-12-01T18:23:57.783Z'
content_hash: 6a00782d707de823
---
## Thought

Now let me fix the SessionStart hook. The problem is that it's initializing the vector store and embedding model, which can take 30-60 seconds on first run. This exceeds the hook timeout.

The fix should be to make the session-start hook lightweight - don't initialize the vector store there. Instead, just use keyword-based search (which doesn't need embeddings) or skip memory loading entirely if the vector store isn't ready.

Looking at the session-start hook code again:
1. It loads config
2. Initializes vector store (SLOW - downloads 133MB model)
3. Syncs vector store with memories (SLOW - generates embeddings for each)
4. Searches for relevant memories

The simplest fix is to not use the vector store in the session-start hook at all - just return a lightweight "no memories" message or use keyword-based search only. The vector store initialization can happen lazily in the MCP server or when actually needed for semantic search.

Let me rewrite the session-start hook to be lightweight.

## Output

Now let me fix the SessionStart hook to not initialize the vector store (it downloads 133MB and takes too long):
