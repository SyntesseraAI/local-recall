---
id: 68630407-23d6-4988-984e-385c554bee72
subject: >-
  Build succeeded. The fix is in place. The hook will now skip processing any
  prompt containing...
applies_to: global
occurred_at: '2025-12-01T21:30:51.096Z'
content_hash: 501a3bb3fb748bbe
---
## Thought

Build succeeded. The fix is in place. The hook will now skip processing any prompt containing `[LOCAL_RECALL_INTERNAL]`, which will prevent those unnecessary vector searches.

## Output

Done. The hook now skips prompts containing `[LOCAL_RECALL_INTERNAL]`, preventing unnecessary vector searches on internal memory extraction prompts.

The check is at `src/hooks/user-prompt-submit.ts:54-58`:
```typescript
// Skip internal prompts to avoid recursion (memory extraction prompts, etc.)
if (input.prompt.includes("[LOCAL_RECALL_INTERNAL]")) {
  logger.hooks.debug("UserPromptSubmit: Skipping internal prompt");
  process.exit(0);
}
```
