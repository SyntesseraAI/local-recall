---
id: 99a7372c-db47-4ec9-8cab-222b7783eff8
subject: >-
  The issue is clear now. The `user-prompt-submit-thinking.js` file in the
  plugin is stale - it was...
applies_to: global
occurred_at: '2025-12-03T11:03:22.572Z'
content_hash: 141c76ea987a302c
---
## Thought

The issue is clear now. The `user-prompt-submit-thinking.js` file in the plugin is stale - it was from an older version that tried to use `better-sqlite3` directly. The current `build:scripts` only builds `user-prompt-submit.ts` but the plugin has an old `user-prompt-submit-thinking.js`.

The old file `user-prompt-submit-thinking.js` should be deleted since the unified `user-prompt-submit.ts` handles both episodic and thinking memories now.

Let me verify the hooks.json is pointing to the old file:

## Output

Found the issue. The plugin has a stale `user-prompt-submit-thinking.js` from an older version that used `better-sqlite3`. The current hooks use Orama (pure JavaScript). The plugin's `hooks.json` points to this old file.

The fix is to update the plugin's hooks.json to use `user-prompt-submit.js` (which handles both episodic and thinking) and remove the stale file:
