---
id: 46d5fe81-b554-40ad-bb70-faf01897c020
subject: >-
  Now I have all the information I need: 1. **UserPromptSubmit hook input**:
  JSON with `session_id`,...
applies_to: global
occurred_at: '2025-11-29T22:30:39.101Z'
content_hash: fe4705b2fc0e1238
---
Now I have all the information I need:

1. **UserPromptSubmit hook input**: JSON with `session_id`, `transcript_path`, `cwd`, `permission_mode`, `hook_event_name`, and `prompt`
2. **Output**: Plain text stdout is automatically added as context for Claude

So the hook needs to:
1. Read stdin to get the JSON input
2. Extract the `prompt` field
3. Extract keywords from the prompt
4. Search memories using those keywords
5. Output any matching memories to stdout (they get added to context)

Let me also check the existing search functionality and utils to understand how to best extract keywords.
