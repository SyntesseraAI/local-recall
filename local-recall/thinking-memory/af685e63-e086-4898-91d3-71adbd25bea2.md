---
id: af685e63-e086-4898-91d3-71adbd25bea2
subject: >-
  The MCP server configuration points to
  `${CLAUDE_PLUGIN_ROOT}/scripts/mcp-server/server.js` which...
applies_to: global
occurred_at: '2025-12-12T10:11:03.451Z'
content_hash: 66875d3bf7b0a10e
---
## Thought

The MCP server configuration points to `${CLAUDE_PLUGIN_ROOT}/scripts/mcp-server/server.js` which expects the plugin to have a bundled/self-contained server.

The problem is clear: the plugin's `server.js` imports `@modelcontextprotocol/sdk` but the plugin was deployed without bundling or including node_modules.

To fix this, the plugin needs to either:
1. Bundle all dependencies into server.js using a bundler (esbuild is fast and good for this)
2. Ship node_modules with the plugin (not ideal, large)

Let me check the current build process to see if there's a bundling step:

## Output

The plugin expects a self-contained `server.js` at `${CLAUDE_PLUGIN_ROOT}/scripts/mcp-server/server.js`, but the current build doesn't bundle dependencies.

**The fix**: Bundle the MCP server with its dependencies using a bundler like esbuild.

Let me check the current build setup:
