---
id: 3f001040-0ea0-416c-a022-887ae78d7b6f
subject: >-
  The user is saying they expected the UserPromptSubmit hook to inject memory
  content into my...
applies_to: global
occurred_at: '2025-11-29T22:58:44.616Z'
content_hash: e22cbcc1dce82325
---
## Thought

The user is saying they expected the UserPromptSubmit hook to inject memory content into my context, but I'm only seeing "Success" messages. They want to understand why the hook isn't injecting memory content.

Let me think about this - looking at the CLAUDE.md documentation:

> #### UserPromptSubmit Hook
> Triggered when a user submits a prompt, before Claude processes it:
> 1. Receives JSON input with `session_id`, `transcript_path`, `cwd`, `prompt`
> 2. Extracts keywords from the prompt using keyword-extractor
> 3. Searches the memory index for matching keywords (fuzzy matching)
> 4. Outputs matching memories to stdout (injected into Claude's context)

So the hook should output memories to stdout, and that content should be injected into my context. But I'm only seeing `<system-reminder>UserPromptSubmit:Callback hook success: Success</system-reminder>` - not actual memory content.

This suggests either:
1. The hook is running but not finding any matches (no memories with "stew" keywords)
2. The hook is running but not outputting anything (maybe returns empty/success when no matches)
3. There's a bug in the hook implementation

The user might want me to look at the hook source code to understand what's happening. Let me check the user-prompt-submit hook source.

## Output

You're right to question this. Let me look at the `UserPromptSubmit` hook implementation to see what's happening:
